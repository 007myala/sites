!(function t(e,n,r){
  function o(a,s){
    if(!n[a]){
      if(!e[a]){
        var u="function"==typeof require&&require;
        if(!s&&u)return u(a,!0);
        if(i)return i(a,!0);
        var c=new Error("Cannot find module '"+a+"'");
        throw c.code="MODULE_NOT_FOUND",c
      }
      var l=n[a]={
        exports:{}
      };
      e[a][0].call(l.exports,(function(t){
        var n=e[a][1][t];
        return o(n?n:t)}),l,l.exports,t,e,n,r)
      }
      return n[a].exports
    }
    for(var i="function"==typeof require&&require,a=0;a<r.length;a++)o(r[a]);return o})({1:[(function(t,e,n){e.exports="340891efae7c4d235b6c9f04466a64979433fcf7"}),{}],2:[(function(t,e,n){"use strict";n.VERSION=t(1),n.SITE_MAX_WIDTH=768,n.SITE_MAX_HEIGHT=1024,n.CANVAS_DRAW_BOUNDS=100,n.TITLE_CENTER_OFFSET=1.45,n.CANVAS_BACKGROUND_CHAPTER=[243,239,230],n.CANVAS_BACKGROUND_EXPLORE=[31,35,32],n.PRIMARY_FONT="Crimson Text",n.SECONDARY_FONT="Alegreya Sans SC",n.TERTIARY_FONT="Crimson Text",n.CANVAS_VIGNETTE_DARKNESS=.75,n.CANVAS_VIGNETTE_MAX_DARKNESS=1,n.CANVAS_VIGNETTE_SIZE=.29,n.CANVAS_VIGNETTE_SCREEN_BASED=!0,n.CANVAS_TEXT_COLOR=[148,156,137],n.CAMERA_AUTOZOOM_RATE=.1,n.CAMERA_INITZOOM_RATE=.00425,n.CAMERA_SECTIONZOOM_RATE=.009,n.CAMERA_FOCUS_RATE=.1,n.CAMERA_HOMING_RATE=.045,n.CAMERA_HOMING_RATE_SECTION=.005,n.CAMERA_HOMING_DIST=16,n.CAMERA_ZOOM_TOLERANCE=.06125,n.CAMERA_ZOOM_TRIGGER_FADE=.75,n.CAMERA_ZOOM_IN_AMOUNT=6,n.CAMERA_ZOOM_OUT_AMOUNT=1,n.CAMERA_MOVE_SPEED=.5,n.CAMERA_INERTIA_FRICTION=.9,n.CAMERA_TAP_DURATION_LIMIT=200,n.CAMERA_TAP_SPEED_LIMIT=3,n.CAMERA_MOVE_LIMIT=220,n.INTRO_MORE_HEIGHT=22,n.BOOK_SNAP_RATE=.35,n.BOOK_SWIPE_SPEED=1.4,n.BOOK_VINE_SPEED=4,n.BOOK_PAGE_PADDING=42,n.BOOK_VINE_HEIGHT=80,n.BOOK_COLORIZE_THREADS=!1,n.BOOK_COLORIZE_AMOUNT=.7,n.BOOK_THREAD_SIZE=0,n.BOOK_THREAD_MARKERS=!1,n.BOOK_THREAD_MARGIN=6,n.BOOK_THREAD_MARKER_MARGIN=14,n.BOOK_CHAPTER_TITLE_SIZE=26,n.BOOK_CHAPTER_NUMBER_SIZE=16,n.BOOK_USE_CHAPTER_NUMBERS=!1,n.BOOK_CHAPTER_TITLE_COLOR=[0,0,0],n.BOOK_BODY_COLOR=[88,89,91],n.BOOK_LIST_MARGIN=36,n.BOOK_LIST_OFFSET=12,n.THREAD_CHOOSER_BODY_COLOR=[98,113,86],n.SECTION_TITLES={opening:0,fear:1,hospital:2,"train-dream":3},n.SECTION_MONTHS=["June","July","August","September"],n.VINE_MARGIN=2.5,n.VINE_WIDTH=.2,n.VINE_OPACITY=1,n.VINE_EXPOSURE=1,n.VINE_PROGRESS_MULTIPLIER=1,n.VINE_COLOR_MAP={FF0000:[160,64,96],107500:[98,113,86],"0000FF":[107,144,150],808080:[157,150,126],"000000":[191,170,191],"18BCF5":[50,109,106],"831CA5":[97,69,150]},n.VINE_NAME_MAP={"000000":"Rosemary","0000FF":"Work",107500:"Land",FF0000:"Inside",808080:"House","18BCF5":"Shop","831CA5":"Read"},n.VINE_OVERRIDE_MAP={999999:"808080","1C1C1C":"000000","1A1A1A":"000000","4A0B66":"831CA5",681289:"831CA5"},n.VINE_SCRUB_SIMPLEX_POW=.9,n.VINE_SCRUB_SIMPLEX_AMP=.5,n.VINE_SCRUB_SIMPLEX_FREQ=.08,n.VINE_SCRUB_WORLEY_JITTER=1,n.VINE_SCRUB_WORLEY_AMP=.125,n.VINE_SCRUB_WORLEY_POW=1,n.VINE_SCRUB_WORLEY_FREQ=.25,n.VINE_SCRUB_PAGE_DISTORT_PORTION=.44,n.VINE_SCRUB_PAGE_DISTORT_AMPLITUDE=1.36,n.VINE_SCRUB_PAGE_DISTORT_SMOOTHNESS=3.2,n.FLOWER_CIRCLE_SCALE=.82,n.FLOWER_BLOOM_RATE=.0375,n.FLOWER_CIRCLE_STROKE=[49,56.5,43],n.FLOWER_CIRCLE_FILL=[73.5,84.75,64.5],n.FLOWER_FADE_RATE=.1,n.CIRCLE_FADE_RATE=.0776,n.FLOWER_SMALL_SIZE=128,n.FLOWER_LARGE_SIZE=512,n.SPORES_COUNT=100}),{1:1}],3:[(function(t,e,n){"use strict";var r=document.querySelector(".loading");t(21),t(20),t(7)((function(e,n){function o(t){}if(e)throw e;setTimeout((function(){return document.body.removeChild(r)}));var i=t(9),a=t(1),s=t(22),u=t(17),c=t(6),l=window.router=t(8),f=t(16)(),h=t(24),d=u[0];i.bind(n.gl),t(13)(),t(14)();var p=t(4),v=t(5),g=t(2),m=t(3),y=(document.querySelector("main"),new v({canvas:n.canvas}));m.precache((function(t){if(t)throw t;console.log("all chapters cached :D")})),y.loadFonts(n.fonts),y.loadLayout(t(18),n.vinePositions,n.vineNormals),l.on("change",o),l.view("/acknowledgements",t(10)),l.view("/404",t(12),{disableCanvas:!0}),l.view("/403",t(11),{disableCanvas:!0}),l.view("/private",t(15),{disableCanvas:!0}),h.setItem("@seed/storage-test","2",(function(t){t&&l.go("/private")})),window.process&&window.process.versions.electron&&t(19)(y,l),l.add("/unlock/:sectionKey",(function(t,e,n){c.unlock(a.SECTION_TITLES[e.sectionKey]||0),l.redirect("/"),y.camera.data.moveRate=a.CAMERA_HOMING_RATE_SECTION,y.camera.data.zoomTarget=a.CAMERA_ZOOM_OUT_AMOUNT,y.camera.data.rate=a.CAMERA_SECTIONZOOM_RATE})),l.add("/revert/:sectionKey",(function(t,e,n){c.revert(a.SECTION_TITLES[e.sectionKey]||0),window.location="/"})),l.add("/unlock/all",(function(t,e,n){c.unlockAll(),window.location="/"})),l.add("/revert/all",(function(t,e,n){c.revertAll(),window.location="/"})),l.add("/",(function(t,e,n){return l.redirect("/contents")})),l.add("/contents",(function(t,e,n){y.hidden=!1,y.cameraPageShift(0),t.enableCanvas=!0,f.uiHidden=!c.isAvailable(d)})),l.add("/choose-thread",(function(t,e,n){f.enabled=!0}),(function(){f.enabled=!1})),f.on("filter",(function(t){y.filter=t}));var b;l.add("/chapter/:chapter",(function(t,e,n){if(u.indexOf(e.chapter)===-1)return l.redirect("/");if(!c.isAvailable(e.chapter))return l.redirect("/");c.setLatestChapter(e.chapter),c.explore("plantTap"),c.read(e.chapter);var r=n.start&&n.start.split(",").slice(0,2).map(parseFloat),o=n.filter;o&&(f.filter=o),b=b||new g({canvas:y,filter:y.filter,grabElement:y.canvas}),b.startChapter(e.chapter,r),t.enableCanvas=!1,t.onBook=!0,f.uiHidden=!0,y.focus=e.chapter,y.cameraPageShift(0),y.hidden=!1,b.removeAllListeners("changeFlower"),b.removeAllListeners("moveBackground"),b.on("moveBackground",(function(t){return y.cameraPageShift(t)})),b.on("changeFlower",(function(t,e){t&&(y.focus=t,t!==e&&(y.resetChapterFlower(t),c.setLatestChapter(t),c.read(t)))})),window.document.title=e.chapter+" | SEED by Joanna Walsh"}),(function(t,e,n){t.onBook||b&&(y.hidden=!1,b.dispose(),b=null,y.focus=null,window.document.title="SEED by Joanna Walsh")}));var w;l.add("/preview",(function(){y.background.data.opacity=0,y.camera.data.moveTarget=[0,0,0],y.camera.data.zoomTarget=a.CAMERA_ZOOM_IN_AMOUNT,y.camera.data.rate=a.CAMERA_AUTOZOOM_RATE,y.title.data.joannaHidden=!0,y.cameraPageShift(0),y.hidden=!1,y.preview=!0,y.scene.data.preview=!0,f.uiHidden=!0,w=w||new p({grabElement:y.canvas}),w.removeAllListeners("moveBackground"),w.on("moveBackground",(function(t){return y.cameraPageShift(t)}))}),(function(){y.background.data.opacity=1,y.title.data.joannaHidden=!1,y.preview=!1,y.scene.data.preview=!1,w&&(w.dispose(),w=null)})),l.any((function(t){y.enabled=!!t.enableCanvas})),o(l.getProps()),window.addEventListener("resize",s((function(){window.scrollTo(0,0)}),!0),!1),window.addEventListener("keyup",(function(t){return 27===t.keyCode?l.go("/"):81===t.keyCode?y.filter=null:87===t.keyCode?y.filter="000000":69===t.keyCode?y.filter="0000FF":82===t.keyCode?y.filter="107500":84===t.keyCode?y.filter="FF0000":89===t.keyCode?y.filter="808080":85===t.keyCode?y.filter="18BCF5":73===t.keyCode?y.filter="831CA5":void 0})),window.addEventListener("gesturestart",(function(t){return t.preventDefault()}),!1)}))}),{1:2,10:242,11:243,12:244,13:245,14:246,15:247,16:248,17:252,18:255,19:257,2:210,20:15,21:16,22:69,23:111,24:133,3:207,4:213,5:223,6:227,7:238,8:239,9:240}],4:[(function(t,e,n){(function(t){"use strict";var n="undefined"!=typeof window?window:t;e.exports=function(t,e,r){var o=n[t];o?e.exports=o:(r(),n[t]=e.exports)}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})}),{}],5:[(function(t,e,n){function r(t,e,n){e="number"==typeof e?e:1,n=n||": ";var r=t.split(/\r?\n/),i=String(r.length+e-1).length;return r.map((function(t,r){var a=r+e,s=String(a).length,u=o(a,i-s);return u+n+t})).join("\n")}var o=t(1);e.exports=r}),{1:141}],6:[(function(t,e,n){function r(t){return t.BYTES_PER_ELEMENT&&"[object ArrayBuffer]"===o.call(t.buffer)||Array.isArray(t)}var o=Object.prototype.toString;e.exports=r}),{}],7:[(function(t,e,n){function r(t,e){if(e=e||"float32",!t[0]||!t[0].length)return t;for(var n="string"==typeof e?o(e):e,r=t[0].length,i=new n(t.length*r),a=0,s=0;s<t.length;s++)for(var u=0;u<r;u++)i[a++]=t[s][u];return i}var o=t(1);e.exports=r}),{1:47}],8:[(function(t,e,n){"use strict";e.exports=function(t){if(!Array.isArray(t))throw new TypeError("Expected Array, got "+typeof t);for(var e,n,r=t.length,o=t.slice();r;)e=Math.floor(Math.random()*r--),n=o[r],o[r]=o[e],o[e]=n;return o}}),{}],9:[(function(t,e,n){e.exports=function(t,e){return"number"==typeof t?t:"number"==typeof e?e:0}}),{}],10:[(function(t,e,n){function r(t,e){return d.isUndefined(e)?""+e:d.isNumber(e)&&!isFinite(e)?e.toString():d.isFunction(e)||d.isRegExp(e)?e.toString():e}function o(t,e){return d.isString(t)?t.length<e?t:t.slice(0,e):t}function i(t){return o(JSON.stringify(t.actual,r),128)+" "+t.operator+" "+o(JSON.stringify(t.expected,r),128)}function a(t,e,n,r,o){throw new g.AssertionError({message:n,actual:t,expected:e,operator:r,stackStartFunction:o})}function s(t,e){t||a(t,!0,e,"==",g.ok)}function u(t,e){if(t===e)return!0;if(d.isBuffer(t)&&d.isBuffer(e)){if(t.length!=e.length)return!1;for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}return d.isDate(t)&&d.isDate(e)?t.getTime()===e.getTime():d.isRegExp(t)&&d.isRegExp(e)?t.source===e.source&&t.global===e.global&&t.multiline===e.multiline&&t.lastIndex===e.lastIndex&&t.ignoreCase===e.ignoreCase:d.isObject(t)||d.isObject(e)?l(t,e):t==e}function c(t){return"[object Arguments]"==Object.prototype.toString.call(t)}function l(t,e){if(d.isNullOrUndefined(t)||d.isNullOrUndefined(e))return!1;if(t.prototype!==e.prototype)return!1;if(d.isPrimitive(t)||d.isPrimitive(e))return t===e;var n=c(t),r=c(e);if(n&&!r||!n&&r)return!1;if(n)return t=p.call(t),e=p.call(e),u(t,e);var o,i,a=m(t),s=m(e);if(a.length!=s.length)return!1;for(a.sort(),s.sort(),i=a.length-1;i>=0;i--)if(a[i]!=s[i])return!1;for(i=a.length-1;i>=0;i--)if(o=a[i],!u(t[o],e[o]))return!1;return!0}function f(t,e){return!(!t||!e)&&("[object RegExp]"==Object.prototype.toString.call(e)?e.test(t):t instanceof e||e.call({},t)===!0)}function h(t,e,n,r){var o;d.isString(n)&&(r=n,n=null);try{e()}catch(t){o=t}if(r=(n&&n.name?" ("+n.name+").":".")+(r?" "+r:"."),t&&!o&&a(o,n,"Missing expected exception"+r),!t&&f(o,n)&&a(o,n,"Got unwanted exception"+r),t&&o&&n&&!f(o,n)||!t&&o)throw o}var d=t(1),p=Array.prototype.slice,v=Object.prototype.hasOwnProperty,g=e.exports=s;g.AssertionError=function(t){this.name="AssertionError",this.actual=t.actual,this.expected=t.expected,this.operator=t.operator,t.message?(this.message=t.message,this.generatedMessage=!1):(this.message=i(this),this.generatedMessage=!0);var e=t.stackStartFunction||a;if(Error.captureStackTrace)Error.captureStackTrace(this,e);else{var n=new Error;if(n.stack){var r=n.stack,o=e.name,s=r.indexOf("\n"+o);if(s>=0){var u=r.indexOf("\n",s+1);r=r.substring(u+1)}this.stack=r}}},d.inherits(g.AssertionError,Error),g.fail=a,g.ok=s,g.equal=function(t,e,n){t!=e&&a(t,e,n,"==",g.equal)},g.notEqual=function(t,e,n){t==e&&a(t,e,n,"!=",g.notEqual)},g.deepEqual=function(t,e,n){u(t,e)||a(t,e,n,"deepEqual",g.deepEqual)},g.notDeepEqual=function(t,e,n){u(t,e)&&a(t,e,n,"notDeepEqual",g.notDeepEqual)},g.strictEqual=function(t,e,n){t!==e&&a(t,e,n,"===",g.strictEqual)},g.notStrictEqual=function(t,e,n){t===e&&a(t,e,n,"!==",g.notStrictEqual)},g.throws=function(t,e,n){h.apply(this,[!0].concat(p.call(arguments)))},g.doesNotThrow=function(t,e){h.apply(this,[!1].concat(p.call(arguments)))},g.ifError=function(t){if(t)throw t};var m=Object.keys||function(t){var e=[];for(var n in t)v.call(t,n)&&e.push(n);return e}}),{1:192}],11:[(function(t,e,n){!(function(t){"use strict";var n=function(t,e,n){if(!Array.isArray(t))throw new TypeError("each() expects array as first argument");if("function"!=typeof e)throw new TypeError("each() expects function as second argument");if("function"!=typeof n&&(n=Function.prototype),0===t.length)return n(void 0,t);var r=new Array(t.length),o=0,i=!1;t.forEach((function(a,s){e(a,(function(e,a){if(!i)return e?(i=!0,n(e)):(r[s]=a,o+=1,o===t.length?n(void 0,r):void 0)}))}))};"undefined"!=typeof define&&define.amd?define([],(function(){return n})):"undefined"!=typeof e&&e.exports?e.exports=n:t.asyncEach=n})(this)}),{}],12:[(function(t,e,n){(function(n){function r(t,e,r){function s(){var n=0,a=t.length;o(t,(function(t,r){var o="string"==typeof t?t:t.url;i(o,e,(function(o,i){o&&(u.emit("not-found",t),i=e.defaultImage||null),u.emit("progress",{count:++n,total:a,image:i,data:t}),r(null,i)}))}),(function(t,e){"function"==typeof r&&r(e)}))}"function"==typeof e&&(r=e,e={}),e=e||{};var u=new a;return n.nextTick(s),u}var o=t(2),i=t(4),a=t(3).EventEmitter;e.exports=r}).call(this,t(1))}),{1:25,2:11,3:63,4:132}],13:[(function(t,e,n){(function(t){function n(t,e,n){function o(n){t[n]((function(t){return t?e(t):n<a-1?o(n+1):e()}))}var i,a=t.length;return a?(n&&(i=o,o=function(t){r((function(){i(t)}),1)}),void o(0)):r(e,1)}var r="undefined"!=typeof t?t.nextTick:"undefined"!=typeof setImmediate?setImmediate:setTimeout;e.exports=n}).call(this,t(1))}),{1:25}],14:[(function(t,e,n){e.exports={VERSION:"1.0.0",DEV_ID:"i5iSjo",VERSION_PARAM:"&_av",USAGE_PARAM:"&_au",NULL_DIMENSION:"(not set)"}}),{}],15:[(function(t,e,n){function r(t,e){if(s.track(t,s.plugins.EVENT_TRACKER),window.addEventListener){this.opts=o({events:["click"],fieldsObj:{},attributePrefix:"ga-",hitFilter:null},e),this.tracker=t,this.handleEvents=this.handleEvents.bind(this);var n="["+this.opts.attributePrefix+"on]";this.delegates={},this.opts.events.forEach(function(t){this.delegates[t]=i(document,t,n,this.handleEvents,{composed:!0,useCapture:!0})}.bind(this))}}var o=t(5),i=t(4),a=t(1),s=t(2),u=t(3).createFieldsObj,c=t(3).getAttributeFields;r.prototype.handleEvents=function(t,e){var n=this.opts.attributePrefix;if(t.type==e.getAttribute(n+"on")){var r={transport:"beacon"},i=c(e,n),a=o({},this.opts.fieldsObj,i),s=i.hitType||"event";this.tracker.send(s,u(r,a,this.tracker,this.opts.hitFilter,e))}},r.prototype.remove=function(){Object.keys(this.delegates).forEach(function(t){this.delegates[t].destroy()}.bind(this))},a("eventTracker",r)}),{1:17,2:18,3:19,4:42,5:138}],16:[(function(t,e,n){function r(t,e){s.track(t,s.plugins.URL_CHANGE_TRACKER),history.pushState&&window.addEventListener&&(this.opts=i({shouldTrackUrlChange:this.shouldTrackUrlChange,fieldsObj:{},hitFilter:null},e),this.tracker=t,this.path=o(),this.updateTrackerData=this.updateTrackerData.bind(this),this.originalPushState=history.pushState,history.pushState=function(t,e){c(t)&&e&&(t.title=e),this.originalPushState.apply(history,arguments),this.updateTrackerData()}.bind(this),this.originalReplaceState=history.replaceState,history.replaceState=function(t,e){c(t)&&e&&(t.title=e),this.originalReplaceState.apply(history,arguments),this.updateTrackerData(!1)}.bind(this),window.addEventListener("popstate",this.updateTrackerData))}function o(){return location.pathname+location.search}var i=t(4),a=t(1),s=t(2),u=t(3).createFieldsObj,c=t(3).isObject;r.prototype.updateTrackerData=function(t){t=t!==!1,setTimeout(function(){var e=this.path,n=o();if(e!=n&&this.opts.shouldTrackUrlChange.call(this,n,e)&&(this.path=n,this.tracker.set({page:n,title:c(history.state)&&history.state.title||document.title}),t)){var r={transport:"beacon"};this.tracker.send("pageview",u(r,this.opts.fieldsObj,this.tracker,this.opts.hitFilter))}}.bind(this),0)},r.prototype.shouldTrackUrlChange=function(t,e){return t&&e},r.prototype.remove=function(){window.removeEventListener("popstate",this.updateTrackerData),history.replaceState=this.originalReplaceState,history.pushState=this.originalPushState,this.tracker=null,this.opts=null,this.path=null,this.updateTrackerData=null,this.originalReplaceState=null,this.originalPushState=null},a("urlChangeTracker",r)}),{1:17,2:18,3:19,4:138}],17:[(function(t,e,n){var r=t(1),o=t(2);(window.gaDevIds=window.gaDevIds||[]).push(r.DEV_ID),e.exports=function(t,e){var n=window.GoogleAnalyticsObject||"ga";window[n]=window[n]||function(){(window[n].q=window[n].q||[]).push(arguments)},window[n]("provide",t,e),window.gaplugins=window.gaplugins||{},window.gaplugins[o.capitalize(t)]=e}}),{1:14,2:19}],18:[(function(t,e,n){function r(t){return parseInt(t||"0",16).toString(2)}function o(t){return parseInt(t||"0",2).toString(16)}function i(t,e){if(t.length<e)for(var n=e-t.length;n;)t="0"+t,n--;return t}function a(t,e){return t.substr(0,e)+1+t.substr(e+1)}function s(t,e){var n=t.get(c.USAGE_PARAM),s=i(r(n),f);s=a(s,f-e),t.set(c.USAGE_PARAM,o(s))}function u(t){t.set(c.VERSION_PARAM,c.VERSION)}var c=t(1),l={CLEAN_URL_TRACKER:1,EVENT_TRACKER:2,IMPRESSION_TRACKER:3,MEDIA_QUERY_TRACKER:4,OUTBOUND_FORM_TRACKER:5,OUTBOUND_LINK_TRACKER:6,PAGE_VISIBILITY_TRACKER:7,SOCIAL_WIDGET_TRACKER:8,URL_CHANGE_TRACKER:9},f=9;e.exports={track:function(t,e){u(t),s(t,e)},plugins:l}}),{1:14}],19:[(function(t,e,n){var r=t(2),o=t(1),i={createFieldsObj:function(t,e,n,o,i){if("function"==typeof o){var a=n.get("buildHitTask");return{buildHitTask:function(n){n.set(t,null,!0),n.set(e,null,!0),o(n,i),a(n)}}}return r({},t,e)},getAttributeFields:function(t,e){var n=o(t),r={};return Object.keys(n).forEach((function(t){if(0===t.indexOf(e)&&t!=e+"on"){var o=n[t];"true"==o&&(o=!0),"false"==o&&(o=!1);var a=i.camelCase(t.slice(e.length));r[a]=o}})),r},domReady:function(t){"loading"==document.readyState?document.addEventListener("DOMContentLoaded",(function e(){document.removeEventListener("DOMContentLoaded",e),t()})):t()},withTimeout:function(t,e){var n=!1;return setTimeout(t,e||2e3),function(){n||(n=!0,t())}},camelCase:function(t){return t.replace(/[\-\_]+(\w?)/g,(function(t,e){return e.toUpperCase()}))},capitalize:function(t){return t.charAt(0).toUpperCase()+t.slice(1)},isObject:function(t){return"object"==typeof t&&null!==t},isArray:Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)},toArray:function(t){return i.isArray(t)?t:[t]}};e.exports=i}),{1:43,2:138}],20:[(function(t,e,n){"use strict";function r(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");return"="===t[e-2]?2:"="===t[e-1]?1:0}function o(t){return 3*t.length/4-r(t)}function i(t){var e,n,o,i,a,s,u=t.length;a=r(t),s=new f(3*u/4-a),o=a>0?u-4:u;var c=0;for(e=0,n=0;e<o;e+=4,n+=3)i=l[t.charCodeAt(e)]<<18|l[t.charCodeAt(e+1)]<<12|l[t.charCodeAt(e+2)]<<6|l[t.charCodeAt(e+3)],s[c++]=i>>16&255,s[c++]=i>>8&255,s[c++]=255&i;return 2===a?(i=l[t.charCodeAt(e)]<<2|l[t.charCodeAt(e+1)]>>4,s[c++]=255&i):1===a&&(i=l[t.charCodeAt(e)]<<10|l[t.charCodeAt(e+1)]<<4|l[t.charCodeAt(e+2)]>>2,s[c++]=i>>8&255,s[c++]=255&i),s}function a(t){return c[t>>18&63]+c[t>>12&63]+c[t>>6&63]+c[63&t]}function s(t,e,n){for(var r,o=[],i=e;i<n;i+=3)r=(t[i]<<16)+(t[i+1]<<8)+t[i+2],o.push(a(r));return o.join("")}function u(t){for(var e,n=t.length,r=n%3,o="",i=[],a=16383,u=0,l=n-r;u<l;u+=a)i.push(s(t,u,u+a>l?l:u+a));return 1===r?(e=t[n-1],o+=c[e>>2],o+=c[e<<4&63],o+="=="):2===r&&(e=(t[n-2]<<8)+t[n-1],o+=c[e>>10],o+=c[e>>4&63],o+=c[e<<2&63],o+="="),i.push(o),i.join("")}n.byteLength=o,n.toByteArray=i,n.fromByteArray=u;for(var c=[],l=[],f="undefined"!=typeof Uint8Array?Uint8Array:Array,h="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",d=0,p=h.length;d<p;++d)c[d]=h[d],l[h.charCodeAt(d)]=d;l["-".charCodeAt(0)]=62,l["_".charCodeAt(0)]=63}),{}],21:[(function(t,e,n){function r(t,e,n){function i(t){if(Array.isArray(t))for(var e=0;e<t.length;e++){var n=t[e];if(Array.isArray(n))i(n);else{if(("number"==typeof n||"boolean"==typeof n||n instanceof Date||n instanceof RegExp)&&(n=n.toString()),"string"==typeof n){if(f.lastChild&&"#text"===f.lastChild.nodeName){f.lastChild.nodeValue+=n;continue}n=o.createTextNode(n)}n&&n.nodeType&&f.appendChild(n)}}}var f;l.indexOf(t)!==-1&&(e.namespace=s);var h=!1;if(e.namespace&&(h=e.namespace,delete e.namespace),f=h?o.createElementNS(h,t):o.createElement(t),e.onload||e.onunload){var d=e.onload||function(){},p=e.onunload||function(){};a(f,(function(){d(f)}),(function(){p(f)}),r.caller.caller.caller),delete e.onload,delete e.onunload}for(var v in e)if(e.hasOwnProperty(v)){var g=v.toLowerCase(),m=e[v];if("classname"===g&&(g="class",v="class"),"htmlFor"===v&&(v="for"),c[g])if("true"===m)m=g;else if("false"===m)continue;"on"===g.slice(0,2)?f[v]=m:h?"xlink:href"===v?f.setAttributeNS(u,v,m):f.setAttributeNS(null,v,m):f.setAttribute(v,m)}return i(n),f}var o=t(1),i=t(2),a=t(3),s="http://www.w3.org/2000/svg",u="http://www.w3.org/1999/xlink",c={autofocus:1,checked:1,defaultchecked:1,disabled:1,formnovalidate:1,indeterminate:1,readonly:1,required:1,selected:1,willvalidate:1},l=["svg","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignObject","g","glyph","glyphRef","hkern","image","line","linearGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","set","stop","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"];e.exports=i(r),e.exports.createElement=r}),{1:94,2:106,3:139}],22:[(function(t,e,n){e.exports=function(t,e){for(var n=0,r=0;r<2;++r)for(var o=e[r][0],i=0;i<2;++i)for(var a=e[i][1],s=0;s<2;++s){var u=e[s][2],c=o*t[3]+a*t[7]+u*t[11]+t[15],l=o*t[0]+a*t[4]+u*t[8]+t[12];if(l<=c&&(n|=1),l>=-c&&(n|=2),63===n)return!0;if(l=o*t[1]+a*t[5]+u*t[9]+t[13],l<=c&&(n|=4),l>=-c&&(n|=8),63===n)return!0;if(l=o*t[2]+a*t[6]+u*t[10]+t[14],l<=c&&(n|=16),l>=0&&(n|=32),63===n)return!0}return!1}}),{}],23:[(function(t,e,n){}),{}],24:[(function(t,e,n){arguments[4][23][0].apply(n,arguments)}),{1:23}],25:[(function(t,e,n){function r(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function i(t){if(f===setTimeout)return setTimeout(t,0);if((f===r||!f)&&setTimeout)return f=setTimeout,setTimeout(t,0);try{return f(t,0)}catch(e){try{return f.call(null,t,0)}catch(e){return f.call(this,t,0)}}}function a(t){if(h===clearTimeout)return clearTimeout(t);if((h===o||!h)&&clearTimeout)return h=clearTimeout,clearTimeout(t);try{return h(t)}catch(e){try{return h.call(null,t)}catch(e){return h.call(this,t)}}}function s(){g&&p&&(g=!1,p.length?v=p.concat(v):m=-1,v.length&&u())}function u(){if(!g){var t=i(s);g=!0;for(var e=v.length;e;){for(p=v,v=[];++m<e;)p&&p[m].run();m=-1,e=v.length}p=null,g=!1,a(t)}}function c(t,e){this.fun=t,this.array=e}function l(){}var f,h,d=e.exports={};!(function(){try{f="function"==typeof setTimeout?setTimeout:r}catch(t){f=r}try{h="function"==typeof clearTimeout?clearTimeout:o}catch(t){h=o}})();var p,v=[],g=!1,m=-1;d.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];v.push(new c(t,e)),1!==v.length||g||i(u)},c.prototype.run=function(){this.fun.apply(null,this.array)},d.title="browser",d.browser=!0,d.env={},d.argv=[],d.version="",d.versions={},d.on=l,d.addListener=l,d.once=l,d.off=l,d.removeListener=l,d.removeAllListeners=l,d.emit=l,d.binding=function(t){throw new Error("process.binding is not supported")},d.cwd=function(){return"/"},d.chdir=function(t){throw new Error("process.chdir is not supported")},d.umask=function(){return 0}}),{}],26:[(function(t,e,n){var r=t(1).Buffer;e.exports=function(t,e){if(r.isBuffer(t)&&r.isBuffer(e)){if("function"==typeof t.equals)return t.equals(e);if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}}}),{1:27}],27:[(function(t,e,n){(function(e){"use strict";function r(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(t){return!1}}function o(){return a.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function i(t,e){if(o()<e)throw new RangeError("Invalid typed array length");return a.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e),t.__proto__=a.prototype):(null===t&&(t=new a(e)),t.length=e),t}function a(t,e,n){if(!(a.TYPED_ARRAY_SUPPORT||this instanceof a))return new a(t,e,n);if("number"==typeof t){if("string"==typeof e)throw new Error("If encoding is specified then the first argument must be a string");return l(this,t)}return s(this,t,e,n)}function s(t,e,n,r){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer?d(t,e,n,r):"string"==typeof e?f(t,e,n):p(t,e)}function u(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function c(t,e,n,r){return u(e),e<=0?i(t,e):void 0!==n?"string"==typeof r?i(t,e).fill(n,r):i(t,e).fill(n):i(t,e)}function l(t,e){if(u(e),t=i(t,e<0?0:0|v(e)),!a.TYPED_ARRAY_SUPPORT)for(var n=0;n<e;++n)t[n]=0;return t}function f(t,e,n){if("string"==typeof n&&""!==n||(n="utf8"),!a.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|m(e,n);t=i(t,r);var o=t.write(e,n);return o!==r&&(t=t.slice(0,o)),t}function h(t,e){var n=e.length<0?0:0|v(e.length);t=i(t,n);for(var r=0;r<n;r+=1)t[r]=255&e[r];return t}function d(t,e,n,r){if(e.byteLength,n<0||e.byteLength<n)throw new RangeError("'offset' is out of bounds");if(e.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");return e=void 0===n&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,n):new Uint8Array(e,n,r),a.TYPED_ARRAY_SUPPORT?(t=e,t.__proto__=a.prototype):t=h(t,e),t}function p(t,e){if(a.isBuffer(e)){var n=0|v(e.length);return t=i(t,n),0===t.length?t:(e.copy(t,0,0,n),t)}if(e){if("undefined"!=typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return"number"!=typeof e.length||Z(e.length)?i(t,0):h(t,e);if("Buffer"===e.type&&Q(e.data))return h(t,e.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function v(t){if(t>=o())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o().toString(16)+" bytes");return 0|t}function g(t){return+t!=t&&(t=0),a.alloc(+t)}function m(t,e){if(a.isBuffer(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!=typeof t&&(t=""+t);var n=t.length;if(0===n)return 0;for(var r=!1;;)switch(e){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return H(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return Y(t).length;default:if(r)return H(t).length;e=(""+e).toLowerCase(),r=!0}}function y(t,e,n){var r=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if(n>>>=0,e>>>=0,n<=e)return"";for(t||(t="utf8");;)switch(t){case"hex":return M(this,e,n);case"utf8":case"utf-8":return R(this,e,n);case"ascii":return I(this,e,n);case"latin1":case"binary":return k(this,e,n);case"base64":return T(this,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return L(this,e,n);default:if(r)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),r=!0}}function b(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function w(t,e,n,r,o){if(0===t.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=o?0:t.length-1),n<0&&(n=t.length+n),n>=t.length){if(o)return-1;n=t.length-1}else if(n<0){if(!o)return-1;n=0}if("string"==typeof e&&(e=a.from(e,r)),a.isBuffer(e))return 0===e.length?-1:_(t,e,n,r,o);if("number"==typeof e)return e&=255,a.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?o?Uint8Array.prototype.indexOf.call(t,e,n):Uint8Array.prototype.lastIndexOf.call(t,e,n):_(t,[e],n,r,o);throw new TypeError("val must be string, number or Buffer")}function _(t,e,n,r,o){function i(t,e){return 1===a?t[e]:t.readUInt16BE(e*a)}var a=1,s=t.length,u=e.length;if(void 0!==r&&(r=String(r).toLowerCase(),"ucs2"===r||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(t.length<2||e.length<2)return-1;a=2,s/=2,u/=2,n/=2}var c;if(o){var l=-1;for(c=n;c<s;c++)if(i(t,c)===i(e,l===-1?0:c-l)){if(l===-1&&(l=c),c-l+1===u)return l*a}else l!==-1&&(c-=c-l),l=-1}else for(n+u>s&&(n=s-u),c=n;c>=0;c--){for(var f=!0,h=0;h<u;h++)if(i(t,c+h)!==i(e,h)){f=!1;break}if(f)return c}return-1}function E(t,e,n,r){n=Number(n)||0;var o=t.length-n;r?(r=Number(r),r>o&&(r=o)):r=o;var i=e.length;if(i%2!==0)throw new TypeError("Invalid hex string");r>i/2&&(r=i/2);for(var a=0;a<r;++a){var s=parseInt(e.substr(2*a,2),16);if(isNaN(s))return a;t[n+a]=s}return a}function x(t,e,n,r){return X(H(e,t.length-n),t,n,r)}function A(t,e,n,r){return X(K(e),t,n,r)}function S(t,e,n,r){return A(t,e,n,r)}function O(t,e,n,r){return X(Y(e),t,n,r)}function C(t,e,n,r){return X(q(e,t.length-n),t,n,r)}function T(t,e,n){return 0===e&&n===t.length?J.fromByteArray(t):J.fromByteArray(t.slice(e,n))}function R(t,e,n){n=Math.min(t.length,n);for(var r=[],o=e;o<n;){var i=t[o],a=null,s=i>239?4:i>223?3:i>191?2:1;if(o+s<=n){var u,c,l,f;switch(s){case 1:i<128&&(a=i);break;case 2:u=t[o+1],128===(192&u)&&(f=(31&i)<<6|63&u,f>127&&(a=f));break;case 3:u=t[o+1],c=t[o+2],128===(192&u)&&128===(192&c)&&(f=(15&i)<<12|(63&u)<<6|63&c,f>2047&&(f<55296||f>57343)&&(a=f));break;case 4:u=t[o+1],c=t[o+2],l=t[o+3],128===(192&u)&&128===(192&c)&&128===(192&l)&&(f=(15&i)<<18|(63&u)<<12|(63&c)<<6|63&l,f>65535&&f<1114112&&(a=f))}}null===a?(a=65533,s=1):a>65535&&(a-=65536,r.push(a>>>10&1023|55296),a=56320|1023&a),r.push(a),o+=s}return P(r)}function P(t){var e=t.length;if(e<=tt)return String.fromCharCode.apply(String,t);for(var n="",r=0;r<e;)n+=String.fromCharCode.apply(String,t.slice(r,r+=tt));return n}function I(t,e,n){var r="";n=Math.min(t.length,n);for(var o=e;o<n;++o)r+=String.fromCharCode(127&t[o]);return r}function k(t,e,n){var r="";n=Math.min(t.length,n);for(var o=e;o<n;++o)r+=String.fromCharCode(t[o]);return r}function M(t,e,n){var r=t.length;(!e||e<0)&&(e=0),(!n||n<0||n>r)&&(n=r);for(var o="",i=e;i<n;++i)o+=G(t[i]);return o}function L(t,e,n){for(var r=t.slice(e,n),o="",i=0;i<r.length;i+=2)o+=String.fromCharCode(r[i]+256*r[i+1]);return o}function F(t,e,n){if(t%1!==0||t<0)throw new RangeError("offset is not uint");if(t+e>n)throw new RangeError("Trying to access beyond buffer length")}function N(t,e,n,r,o,i){if(!a.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>o||e<i)throw new RangeError('"value" argument is out of bounds');if(n+r>t.length)throw new RangeError("Index out of range")}function D(t,e,n,r){e<0&&(e=65535+e+1);for(var o=0,i=Math.min(t.length-n,2);o<i;++o)t[n+o]=(e&255<<8*(r?o:1-o))>>>8*(r?o:1-o)}function j(t,e,n,r){e<0&&(e=4294967295+e+1);for(var o=0,i=Math.min(t.length-n,4);o<i;++o)t[n+o]=e>>>8*(r?o:3-o)&255}function U(t,e,n,r,o,i){if(n+r>t.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function B(t,e,n,r,o){return o||U(t,e,n,4,3.4028234663852886e38,-3.4028234663852886e38),$.write(t,e,n,r,23,4),n+4}function z(t,e,n,r,o){return o||U(t,e,n,8,1.7976931348623157e308,-1.7976931348623157e308),$.write(t,e,n,r,52,8),n+8}function V(t){if(t=W(t).replace(et,""),t.length<2)return"";for(;t.length%4!==0;)t+="=";return t}function W(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function G(t){return t<16?"0"+t.toString(16):t.toString(16)}function H(t,e){e=e||1/0;for(var n,r=t.length,o=null,i=[],a=0;a<r;++a){if(n=t.charCodeAt(a),n>55295&&n<57344){if(!o){if(n>56319){(e-=3)>-1&&i.push(239,191,189);continue}if(a+1===r){(e-=3)>-1&&i.push(239,191,189);continue}o=n;continue}if(n<56320){(e-=3)>-1&&i.push(239,191,189),o=n;continue}n=(o-55296<<10|n-56320)+65536}else o&&(e-=3)>-1&&i.push(239,191,189);if(o=null,n<128){if((e-=1)<0)break;i.push(n);
}else if(n<2048){if((e-=2)<0)break;i.push(n>>6|192,63&n|128)}else if(n<65536){if((e-=3)<0)break;i.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;i.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return i}function K(t){for(var e=[],n=0;n<t.length;++n)e.push(255&t.charCodeAt(n));return e}function q(t,e){for(var n,r,o,i=[],a=0;a<t.length&&!((e-=2)<0);++a)n=t.charCodeAt(a),r=n>>8,o=n%256,i.push(o),i.push(r);return i}function Y(t){return J.toByteArray(V(t))}function X(t,e,n,r){for(var o=0;o<r&&!(o+n>=e.length||o>=t.length);++o)e[o+n]=t[o];return o}function Z(t){return t!==t}var J=t(1),$=t(2),Q=t(3);n.Buffer=a,n.SlowBuffer=g,n.INSPECT_MAX_BYTES=50,a.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:r(),n.kMaxLength=o(),a.poolSize=8192,a._augment=function(t){return t.__proto__=a.prototype,t},a.from=function(t,e,n){return s(null,t,e,n)},a.TYPED_ARRAY_SUPPORT&&(a.prototype.__proto__=Uint8Array.prototype,a.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&a[Symbol.species]===a&&Object.defineProperty(a,Symbol.species,{value:null,configurable:!0})),a.alloc=function(t,e,n){return c(null,t,e,n)},a.allocUnsafe=function(t){return l(null,t)},a.allocUnsafeSlow=function(t){return l(null,t)},a.isBuffer=function(t){return!(null==t||!t._isBuffer)},a.compare=function(t,e){if(!a.isBuffer(t)||!a.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var n=t.length,r=e.length,o=0,i=Math.min(n,r);o<i;++o)if(t[o]!==e[o]){n=t[o],r=e[o];break}return n<r?-1:r<n?1:0},a.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(t,e){if(!Q(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return a.alloc(0);var n;if(void 0===e)for(e=0,n=0;n<t.length;++n)e+=t[n].length;var r=a.allocUnsafe(e),o=0;for(n=0;n<t.length;++n){var i=t[n];if(!a.isBuffer(i))throw new TypeError('"list" argument must be an Array of Buffers');i.copy(r,o),o+=i.length}return r},a.byteLength=m,a.prototype._isBuffer=!0,a.prototype.swap16=function(){var t=this.length;if(t%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)b(this,e,e+1);return this},a.prototype.swap32=function(){var t=this.length;if(t%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)b(this,e,e+3),b(this,e+1,e+2);return this},a.prototype.swap64=function(){var t=this.length;if(t%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)b(this,e,e+7),b(this,e+1,e+6),b(this,e+2,e+5),b(this,e+3,e+4);return this},a.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?R(this,0,t):y.apply(this,arguments)},a.prototype.equals=function(t){if(!a.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===a.compare(this,t)},a.prototype.inspect=function(){var t="",e=n.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,e).match(/.{2}/g).join(" "),this.length>e&&(t+=" ... ")),"<Buffer "+t+">"},a.prototype.compare=function(t,e,n,r,o){if(!a.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===n&&(n=t?t.length:0),void 0===r&&(r=0),void 0===o&&(o=this.length),e<0||n>t.length||r<0||o>this.length)throw new RangeError("out of range index");if(r>=o&&e>=n)return 0;if(r>=o)return-1;if(e>=n)return 1;if(e>>>=0,n>>>=0,r>>>=0,o>>>=0,this===t)return 0;for(var i=o-r,s=n-e,u=Math.min(i,s),c=this.slice(r,o),l=t.slice(e,n),f=0;f<u;++f)if(c[f]!==l[f]){i=c[f],s=l[f];break}return i<s?-1:s<i?1:0},a.prototype.includes=function(t,e,n){return this.indexOf(t,e,n)!==-1},a.prototype.indexOf=function(t,e,n){return w(this,t,e,n,!0)},a.prototype.lastIndexOf=function(t,e,n){return w(this,t,e,n,!1)},a.prototype.write=function(t,e,n,r){if(void 0===e)r="utf8",n=this.length,e=0;else if(void 0===n&&"string"==typeof e)r=e,n=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var o=this.length-e;if((void 0===n||n>o)&&(n=o),t.length>0&&(n<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var i=!1;;)switch(r){case"hex":return E(this,t,e,n);case"utf8":case"utf-8":return x(this,t,e,n);case"ascii":return A(this,t,e,n);case"latin1":case"binary":return S(this,t,e,n);case"base64":return O(this,t,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return C(this,t,e,n);default:if(i)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),i=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var tt=4096;a.prototype.slice=function(t,e){var n=this.length;t=~~t,e=void 0===e?n:~~e,t<0?(t+=n,t<0&&(t=0)):t>n&&(t=n),e<0?(e+=n,e<0&&(e=0)):e>n&&(e=n),e<t&&(e=t);var r;if(a.TYPED_ARRAY_SUPPORT)r=this.subarray(t,e),r.__proto__=a.prototype;else{var o=e-t;r=new a(o,void 0);for(var i=0;i<o;++i)r[i]=this[i+t]}return r},a.prototype.readUIntLE=function(t,e,n){t|=0,e|=0,n||F(t,e,this.length);for(var r=this[t],o=1,i=0;++i<e&&(o*=256);)r+=this[t+i]*o;return r},a.prototype.readUIntBE=function(t,e,n){t|=0,e|=0,n||F(t,e,this.length);for(var r=this[t+--e],o=1;e>0&&(o*=256);)r+=this[t+--e]*o;return r},a.prototype.readUInt8=function(t,e){return e||F(t,1,this.length),this[t]},a.prototype.readUInt16LE=function(t,e){return e||F(t,2,this.length),this[t]|this[t+1]<<8},a.prototype.readUInt16BE=function(t,e){return e||F(t,2,this.length),this[t]<<8|this[t+1]},a.prototype.readUInt32LE=function(t,e){return e||F(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},a.prototype.readUInt32BE=function(t,e){return e||F(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},a.prototype.readIntLE=function(t,e,n){t|=0,e|=0,n||F(t,e,this.length);for(var r=this[t],o=1,i=0;++i<e&&(o*=256);)r+=this[t+i]*o;return o*=128,r>=o&&(r-=Math.pow(2,8*e)),r},a.prototype.readIntBE=function(t,e,n){t|=0,e|=0,n||F(t,e,this.length);for(var r=e,o=1,i=this[t+--r];r>0&&(o*=256);)i+=this[t+--r]*o;return o*=128,i>=o&&(i-=Math.pow(2,8*e)),i},a.prototype.readInt8=function(t,e){return e||F(t,1,this.length),128&this[t]?(255-this[t]+1)*-1:this[t]},a.prototype.readInt16LE=function(t,e){e||F(t,2,this.length);var n=this[t]|this[t+1]<<8;return 32768&n?4294901760|n:n},a.prototype.readInt16BE=function(t,e){e||F(t,2,this.length);var n=this[t+1]|this[t]<<8;return 32768&n?4294901760|n:n},a.prototype.readInt32LE=function(t,e){return e||F(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},a.prototype.readInt32BE=function(t,e){return e||F(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},a.prototype.readFloatLE=function(t,e){return e||F(t,4,this.length),$.read(this,t,!0,23,4)},a.prototype.readFloatBE=function(t,e){return e||F(t,4,this.length),$.read(this,t,!1,23,4)},a.prototype.readDoubleLE=function(t,e){return e||F(t,8,this.length),$.read(this,t,!0,52,8)},a.prototype.readDoubleBE=function(t,e){return e||F(t,8,this.length),$.read(this,t,!1,52,8)},a.prototype.writeUIntLE=function(t,e,n,r){if(t=+t,e|=0,n|=0,!r){var o=Math.pow(2,8*n)-1;N(this,t,e,n,o,0)}var i=1,a=0;for(this[e]=255&t;++a<n&&(i*=256);)this[e+a]=t/i&255;return e+n},a.prototype.writeUIntBE=function(t,e,n,r){if(t=+t,e|=0,n|=0,!r){var o=Math.pow(2,8*n)-1;N(this,t,e,n,o,0)}var i=n-1,a=1;for(this[e+i]=255&t;--i>=0&&(a*=256);)this[e+i]=t/a&255;return e+n},a.prototype.writeUInt8=function(t,e,n){return t=+t,e|=0,n||N(this,t,e,1,255,0),a.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},a.prototype.writeUInt16LE=function(t,e,n){return t=+t,e|=0,n||N(this,t,e,2,65535,0),a.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):D(this,t,e,!0),e+2},a.prototype.writeUInt16BE=function(t,e,n){return t=+t,e|=0,n||N(this,t,e,2,65535,0),a.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):D(this,t,e,!1),e+2},a.prototype.writeUInt32LE=function(t,e,n){return t=+t,e|=0,n||N(this,t,e,4,4294967295,0),a.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):j(this,t,e,!0),e+4},a.prototype.writeUInt32BE=function(t,e,n){return t=+t,e|=0,n||N(this,t,e,4,4294967295,0),a.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):j(this,t,e,!1),e+4},a.prototype.writeIntLE=function(t,e,n,r){if(t=+t,e|=0,!r){var o=Math.pow(2,8*n-1);N(this,t,e,n,o-1,-o)}var i=0,a=1,s=0;for(this[e]=255&t;++i<n&&(a*=256);)t<0&&0===s&&0!==this[e+i-1]&&(s=1),this[e+i]=(t/a>>0)-s&255;return e+n},a.prototype.writeIntBE=function(t,e,n,r){if(t=+t,e|=0,!r){var o=Math.pow(2,8*n-1);N(this,t,e,n,o-1,-o)}var i=n-1,a=1,s=0;for(this[e+i]=255&t;--i>=0&&(a*=256);)t<0&&0===s&&0!==this[e+i+1]&&(s=1),this[e+i]=(t/a>>0)-s&255;return e+n},a.prototype.writeInt8=function(t,e,n){return t=+t,e|=0,n||N(this,t,e,1,127,-128),a.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},a.prototype.writeInt16LE=function(t,e,n){return t=+t,e|=0,n||N(this,t,e,2,32767,-32768),a.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):D(this,t,e,!0),e+2},a.prototype.writeInt16BE=function(t,e,n){return t=+t,e|=0,n||N(this,t,e,2,32767,-32768),a.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):D(this,t,e,!1),e+2},a.prototype.writeInt32LE=function(t,e,n){return t=+t,e|=0,n||N(this,t,e,4,2147483647,-2147483648),a.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):j(this,t,e,!0),e+4},a.prototype.writeInt32BE=function(t,e,n){return t=+t,e|=0,n||N(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),a.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):j(this,t,e,!1),e+4},a.prototype.writeFloatLE=function(t,e,n){return B(this,t,e,!0,n)},a.prototype.writeFloatBE=function(t,e,n){return B(this,t,e,!1,n)},a.prototype.writeDoubleLE=function(t,e,n){return z(this,t,e,!0,n)},a.prototype.writeDoubleBE=function(t,e,n){return z(this,t,e,!1,n)},a.prototype.copy=function(t,e,n,r){if(n||(n=0),r||0===r||(r=this.length),e>=t.length&&(e=t.length),e||(e=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),t.length-e<r-n&&(r=t.length-e+n);var o,i=r-n;if(this===t&&n<e&&e<r)for(o=i-1;o>=0;--o)t[o+e]=this[o+n];else if(i<1e3||!a.TYPED_ARRAY_SUPPORT)for(o=0;o<i;++o)t[o+e]=this[o+n];else Uint8Array.prototype.set.call(t,this.subarray(n,n+i),e);return i},a.prototype.fill=function(t,e,n,r){if("string"==typeof t){if("string"==typeof e?(r=e,e=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),1===t.length){var o=t.charCodeAt(0);o<256&&(t=o)}if(void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!a.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof t&&(t&=255);if(e<0||this.length<e||this.length<n)throw new RangeError("Out of range index");if(n<=e)return this;e>>>=0,n=void 0===n?this.length:n>>>0,t||(t=0);var i;if("number"==typeof t)for(i=e;i<n;++i)this[i]=t;else{var s=a.isBuffer(t)?t:H(new a(t,r).toString()),u=s.length;for(i=0;i<n-e;++i)this[i+e]=s[i%u]}return this};var et=/[^+\/0-9A-Za-z-_]/g}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})}),{1:20,2:107,3:28}],28:[(function(t,e,n){var r={}.toString;e.exports=Array.isArray||function(t){return"[object Array]"==r.call(t)}}),{}],29:[(function(t,e,n){function r(t,e,n){function r(){var e=r.parent||t.parentNode;if("function"==typeof e)var n=e(i)||i,s=n[0],u=n[1];else if(e&&e!==document.body)var c=o(e),s=0|c[0],u=0|c[1];else var s=window.innerWidth,u=window.innerHeight;return a?(t.setAttribute("width",s*r.scale+"px"),t.setAttribute("height",u*r.scale+"px")):(t.width=s*r.scale,t.height=u*r.scale),t.style.width=s+"px",t.style.height=u+"px",r}var a="SVG"===t.nodeName.toUpperCase();return t.style.position=t.style.position||"absolute",t.style.top=0,t.style.left=0,r.scale=parseFloat(n||1),r.parent=e,r()}var o=t(1);e.exports=r;var i=new Float32Array(2)}),{1:50}],30:[(function(t,e,n){!(function(){"use strict";function t(){for(var e=[],r=0;r<arguments.length;r++){var o=arguments[r];if(o){var i=typeof o;if("string"===i||"number"===i)e.push(o);else if(Array.isArray(o))e.push(t.apply(null,o));else if("object"===i)for(var a in o)n.call(o,a)&&o[a]&&e.push(a)}}return e.join(" ")}var n={}.hasOwnProperty;"undefined"!=typeof e&&e.exports?e.exports=t:"function"==typeof define&&"object"==typeof define.amd&&define.amd?define("classnames",[],(function(){return t})):window.classNames=t})()}),{}],31:[(function(t,e,n){"use strict";var r={Int8Array:"int8",Uint8Array:"uint8",Uint8ClampedArray:"uint8_clamped",Int16Array:"int16",Uint16Array:"uint16",Int32Array:"int32",Uint32Array:"uint32",Float32Array:"float32",Float64Array:"float64",Array:"generic"};e.exports=r}),{}],32:[(function(t,e,n){"use strict";function r(t){return o[t]||null}var o=t(1);e.exports=r}),{1:31}],33:[(function(t,e,n){"use strict";function r(t){var e,n;if(null===t)return"null";switch(e=typeof t){case"undefined":case"boolean":case"number":case"string":case"function":case"symbol":return e}return e=o(t),n=i(e),n?n:"Buffer"===e||"ArrayBuffer"===e?"binary":"generic"}var o=t(2),i=t(1);e.exports=r}),{1:32,2:188}],34:[(function(t,e,n){"use strict";var r,o=t(1),i=t(3),a=t(2),s=t(4);r=e.exports=function(t,e){var n,r,a,u,c;return arguments.length<2||"string"!=typeof t?(u=e,e=t,t=null):u=arguments[2],null==t?(n=a=!0,r=!1):(n=s.call(t,"c"),r=s.call(t,"e"),a=s.call(t,"w")),c={value:e,configurable:n,enumerable:r,writable:a},u?o(i(u),c):c},r.gs=function(t,e,n){var r,u,c,l;return"string"!=typeof t?(c=n,n=e,e=t,t=null):c=arguments[3],null==e?e=void 0:a(e)?null==n?n=void 0:a(n)||(c=n,n=void 0):(c=e,e=n=void 0),null==t?(r=!0,u=!1):(r=s.call(t,"c"),u=s.call(t,"e")),l={get:e,set:n,configurable:r,enumerable:u},c?o(i(c),l):l}}),{1:51,2:54,3:58,4:60}],35:[(function(t,e,n){var r=t(1);e.exports=function(t,e,n){function o(){var l=r()-u;l<e&&l>0?i=setTimeout(o,e-l):(i=null,n||(c=t.apply(s,a),i||(s=a=null)))}var i,a,s,u,c;return null==e&&(e=100),function(){s=this,a=arguments,u=r();var l=n&&!i;return i||(i=setTimeout(o,e)),l&&(c=t.apply(s,a),s=a=null),c}}}),{1:36}],36:[(function(t,e,n){function r(){return(new Date).getTime()}e.exports=Date.now||r}),{}],37:[(function(t,e,n){function r(t){return null===t||void 0===t}function o(t){return!(!t||"object"!=typeof t||"number"!=typeof t.length)&&("function"==typeof t.copy&&"function"==typeof t.slice&&!(t.length>0&&"number"!=typeof t[0]))}function i(t,e,n){var i,l;if(r(t)||r(e))return!1;if(t.prototype!==e.prototype)return!1;if(u(t))return!!u(e)&&(t=a.call(t),e=a.call(e),c(t,e,n));if(o(t)){if(!o(e))return!1;if(t.length!==e.length)return!1;for(i=0;i<t.length;i++)if(t[i]!==e[i])return!1;return!0}try{var f=s(t),h=s(e)}catch(t){return!1}if(f.length!=h.length)return!1;for(f.sort(),h.sort(),i=f.length-1;i>=0;i--)if(f[i]!=h[i])return!1;for(i=f.length-1;i>=0;i--)if(l=f[i],!c(t[l],e[l],n))return!1;return typeof t==typeof e}var a=Array.prototype.slice,s=t(2),u=t(1),c=e.exports=function(t,e,n){return n||(n={}),t===e||(t instanceof Date&&e instanceof Date?t.getTime()===e.getTime():!t||!e||"object"!=typeof t&&"object"!=typeof e?n.strict?t===e:t==e:i(t,e,n))}}),{1:38,2:39}],38:[(function(t,e,n){function r(t){return"[object Arguments]"==Object.prototype.toString.call(t)}function o(t){return t&&"object"==typeof t&&"number"==typeof t.length&&Object.prototype.hasOwnProperty.call(t,"callee")&&!Object.prototype.propertyIsEnumerable.call(t,"callee")||!1}var i="[object Arguments]"==(function(){return Object.prototype.toString.call(arguments)})();n=e.exports=i?r:o,n.supported=r,n.unsupported=o}),{}],39:[(function(t,e,n){function r(t){var e=[];for(var n in t)e.push(n);return e}n=e.exports="function"==typeof Object.keys?Object.keys:r,n.shim=r}),{}],40:[(function(t,e,n){"use strict";function r(t){return this instanceof r?(this.data=t||{},this.children=null,this.parent=null,void(this.sortVersion=1)):new r(t)}e.exports=r,r.prototype.add=function(t){var e=arguments.length;if(0===e)return this;if(1===e){if(Array.isArray(t)){for(var n=0,r=t.length;n<r;n++)this.addOne(t[n]);return this}return this.addOne(t)}for(var n=0,r=arguments.length;n<r;n++)if(Array.isArray(arguments[n]))for(var t=arguments[n],o=0,i=t.length;o<i;o++)this.addOne(t[o]);else this.addOne(arguments[n]);return this},r.prototype.addOne=function(t){if(!t)return this;null===this.children&&(this.children=[]),t.parent&&t.parent.remove(t);var e=this.children.indexOf(t);return e!==-1?this:(t.parent=this,this.children.push(t),this.resetLists(),this)},r.prototype.resetLists=function(){this.sortVersion++;for(var t=this.parent;t;)t.sortVersion++,t=t.parent},r.prototype.remove=function(t){var e=this.children;if(null===e)return this;var n=e.indexOf(t);return n!==-1&&e.splice(n,1),t.parent=null,this.resetLists(),this},r.prototype.clear=function(){var t=this.children;this.children=null;for(var e=0;e<t.length;e++)t[e].parent=null;return this},r.prototype.each=function(t){var e=this.children;if(null!==e){for(var n=0,r=e.length;n<r;n++){var o=e[n],i=t(o);i!==!1&&o.each(t)}return this}},r.prototype.findup=function(t){if(!this.parent)return this;var e=t(this.parent);return e===!1?this:(this.parent.findup(t),this)},r.prototype.flat=function(t){var e=0;return t=t||[],t.length=0,this.each((function(n,r){t[e++]=n})),t},r.prototype.list=function(t){function e(){return o.sortVersion===n?r:(n=o.sortVersion,t?o.flat(r).sort(t):o.flat(r))}var n=0,r=[],o=this;return e},r.prototype.size=function(){var t=0;return this.each((function(){t++})),t}}),{}],41:[(function(t,e,n){var r=t(1),o=t(2);e.exports=function(t,e,n){if(t&&1==t.nodeType&&e)for(var i,a=(n?[t]:[]).concat(o(t)),s=0;i=a[s];s++)if(r(i,e))return i}}),{1:44,2:45}],42:[(function(t,e,n){var r=t(1),o=t(2);e.exports=function(t,e,n,i,a){a=a||{};var s=function(t){if(a.composed&&"function"==typeof t.composedPath)for(var e,s=t.composedPath(),u=0;e=s[u];u++)1==e.nodeType&&o(e,n)&&(c=e);else var c=r(t.target,n,!0);c&&i.call(c,t,c)};return t.addEventListener(e,s,a.useCapture),{destroy:function(){t.removeEventListener(e,s,a.useCapture)}}}}),{1:41,2:44}],43:[(function(t,e,n){e.exports=function(t){var e={};if(!t||1!=t.nodeType)return e;var n=t.attributes;if(0===n.length)return{};for(var r,o=0;r=n[o];o++)e[r.name]=r.value;return e}}),{}],44:[(function(t,e,n){function r(t,e){if("string"!=typeof e)return!1;if(i)return i.call(t,e);for(var n,r=t.parentNode.querySelectorAll(e),o=0;n=r[o];o++)if(n==t)return!0;return!1}var o=window.Element.prototype,i=o.matches||o.matchesSelector||o.webkitMatchesSelector||o.mozMatchesSelector||o.msMatchesSelector||o.oMatchesSelector;e.exports=function(t,e){if(t&&1==t.nodeType&&e){if("string"==typeof e||1==e.nodeType)return t==e||r(t,e);if("length"in e)for(var n,o=0;n=e[o];o++)if(t==n||r(t,n))return!0}return!1}}),{}],45:[(function(t,e,n){e.exports=function(t){for(var e=[];t&&t.parentNode&&1==t.parentNode.nodeType;)e.push(t=t.parentNode);return e}}),{}],46:[(function(t,e,n){function r(t,e){return{configurable:!0,enumerable:!0,get:t,set:e}}e.exports=r}),{}],47:[(function(t,e,n){e.exports=function(t){switch(t){case"int8":return Int8Array;case"int16":return Int16Array;case"int32":return Int32Array;case"uint8":return Uint8Array;case"uint16":return Uint16Array;case"uint32":return Uint32Array;case"float32":return Float32Array;case"float64":return Float64Array;case"array":return Array;case"uint8_clamped":return Uint8ClampedArray}}}),{}],48:[(function(t,e,n){"use strict";function r(t,e,n){var o=0|t[n];if(o<=0)return[];var i,a=new Array(o);if(n===t.length-1)for(i=0;i<o;++i)a[i]=e;else for(i=0;i<o;++i)a[i]=r(t,e,n+1);return a}function o(t,e){var n,r;for(n=new Array(t),r=0;r<t;++r)n[r]=e;return n}function i(t,e){switch("undefined"==typeof e&&(e=0),typeof t){case"number":if(t>0)return o(0|t,e);break;case"object":if("number"==typeof t.length)return r(t,e,0)}return[]}e.exports=i}),{}],49:[(function(t,e,n){function r(e,n){n=n||function(){};var r;try{r=t("electron").remote}catch(e){r=t("remote")}setTimeout((function(){r.getCurrentWindow().capturePage((function(t){r.require("fs").writeFile(e.filename,t.toPng(),n)}))}),e.delay)}e.exports=r}),{}],50:[(function(t,e,n){function r(t){if(t===window||t===document.body)return[window.innerWidth,window.innerHeight];if(!t.parentNode){var e=!0;document.body.appendChild(t)}var n=t.getBoundingClientRect(),r=getComputedStyle(t),i=(0|n.height)+o(r.getPropertyValue("margin-top"))+o(r.getPropertyValue("margin-bottom")),a=(0|n.width)+o(r.getPropertyValue("margin-left"))+o(r.getPropertyValue("margin-right"));return e&&document.body.removeChild(t),[a,i]}function o(t){return parseFloat(t)||0}e.exports=r}),{}],51:[(function(t,e,n){"use strict";e.exports=t(1)()?Object.assign:t(2)}),{1:52,2:53}],52:[(function(t,e,n){"use strict";e.exports=function(){var t,e=Object.assign;return"function"==typeof e&&(t={foo:"raz"},e(t,{bar:"dwa"},{trzy:"trzy"}),t.foo+t.bar+t.trzy==="razdwatrzy")}}),{}],53:[(function(t,e,n){"use strict";var r=t(1),o=t(2),i=Math.max;e.exports=function(t,e){var n,a,s,u=i(arguments.length,2);for(t=Object(o(t)),s=function(r){try{t[r]=e[r]}catch(t){n||(n=t)}},a=1;a<u;++a)e=arguments[a],r(e).forEach(s);if(void 0!==n)throw n;return t}}),{1:55,2:59}],54:[(function(t,e,n){"use strict";e.exports=function(t){return"function"==typeof t}}),{}],55:[(function(t,e,n){"use strict";e.exports=t(1)()?Object.keys:t(2)}),{1:56,2:57}],56:[(function(t,e,n){"use strict";e.exports=function(){try{return Object.keys("primitive"),!0}catch(t){return!1}}}),{}],57:[(function(t,e,n){"use strict";var r=Object.keys;e.exports=function(t){return r(null==t?t:Object(t))}}),{}],58:[(function(t,e,n){"use strict";var r=Array.prototype.forEach,o=Object.create,i=function(t,e){var n;for(n in t)e[n]=t[n]};e.exports=function(t){var e=o(null);return r.call(arguments,(function(t){null!=t&&i(Object(t),e)})),e}}),{}],59:[(function(t,e,n){"use strict";e.exports=function(t){if(null==t)throw new TypeError("Cannot use null or undefined");return t}}),{}],60:[(function(t,e,n){"use strict";e.exports=t(1)()?String.prototype.contains:t(2)}),{1:61,2:62}],61:[(function(t,e,n){"use strict";var r="razdwatrzy";e.exports=function(){return"function"==typeof r.contains&&(r.contains("dwa")===!0&&r.contains("foo")===!1)}}),{}],62:[(function(t,e,n){"use strict";var r=String.prototype.indexOf;e.exports=function(t){return r.call(this,t,arguments[1])>-1}}),{}],63:[(function(t,e,n){function r(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function o(t){return"function"==typeof t}function i(t){return"number"==typeof t}function a(t){return"object"==typeof t&&null!==t}function s(t){return void 0===t}e.exports=r,r.EventEmitter=r,r.prototype._events=void 0,r.prototype._maxListeners=void 0,r.defaultMaxListeners=10,r.prototype.setMaxListeners=function(t){if(!i(t)||t<0||isNaN(t))throw TypeError("n must be a positive number");return this._maxListeners=t,this},r.prototype.emit=function(t){var e,n,r,i,u,c;if(this._events||(this._events={}),"error"===t&&(!this._events.error||a(this._events.error)&&!this._events.error.length)){if(e=arguments[1],e instanceof Error)throw e;var l=new Error('Uncaught, unspecified "error" event. ('+e+")");throw l.context=e,l}if(n=this._events[t],s(n))return!1;if(o(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:i=Array.prototype.slice.call(arguments,1),n.apply(this,i)}else if(a(n))for(i=Array.prototype.slice.call(arguments,1),c=n.slice(),r=c.length,u=0;u<r;u++)c[u].apply(this,i);return!0},r.prototype.addListener=function(t,e){var n;if(!o(e))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",t,o(e.listener)?e.listener:e),this._events[t]?a(this._events[t])?this._events[t].push(e):this._events[t]=[this._events[t],e]:this._events[t]=e,a(this._events[t])&&!this._events[t].warned&&(n=s(this._maxListeners)?r.defaultMaxListeners:this._maxListeners,n&&n>0&&this._events[t].length>n&&(this._events[t].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[t].length),"function"==typeof console.trace&&console.trace())),this},r.prototype.on=r.prototype.addListener,r.prototype.once=function(t,e){function n(){this.removeListener(t,n),r||(r=!0,e.apply(this,arguments))}if(!o(e))throw TypeError("listener must be a function");var r=!1;return n.listener=e,this.on(t,n),this},r.prototype.removeListener=function(t,e){var n,r,i,s;if(!o(e))throw TypeError("listener must be a function");if(!this._events||!this._events[t])return this;if(n=this._events[t],i=n.length,r=-1,n===e||o(n.listener)&&n.listener===e)delete this._events[t],this._events.removeListener&&this.emit("removeListener",t,e);else if(a(n)){for(s=i;s-- >0;)if(n[s]===e||n[s].listener&&n[s].listener===e){r=s;break}if(r<0)return this;1===n.length?(n.length=0,delete this._events[t]):n.splice(r,1),this._events.removeListener&&this.emit("removeListener",t,e)}return this},r.prototype.removeAllListeners=function(t){var e,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[t]&&delete this._events[t],this;if(0===arguments.length){for(e in this._events)"removeListener"!==e&&this.removeAllListeners(e);return this.removeAllListeners("removeListener"),this._events={},this}if(n=this._events[t],o(n))this.removeListener(t,n);else if(n)for(;n.length;)this.removeListener(t,n[n.length-1]);return delete this._events[t],this},r.prototype.listeners=function(t){var e;return e=this._events&&this._events[t]?o(this._events[t])?[this._events[t]]:this._events[t].slice():[]},r.prototype.listenerCount=function(t){if(this._events){var e=this._events[t];if(o(e))return 1;if(e)return e.length}return 0},r.listenerCount=function(t,e){return t.listenerCount(e)}}),{}],64:[(function(t,e,n){function r(t,e){return e||(e=[]),o(i,t),e[0]=i[12],e[1]=i[13],e[2]=i[14],e}var o=t(1),i=new Float32Array(16);e.exports=r}),{1:77}],65:[(function(t,e,n){function r(t,e){var n=t.length;e||(e=new Float32Array(n));for(var r=0;r<n;r+=9){var o=t[r+3]-t[r],i=t[r+4]-t[r+1],a=t[r+5]-t[r+2],s=t[r+6]-t[r],u=t[r+7]-t[r+1],c=t[r+8]-t[r+2],l=i*c-a*u,f=a*s-o*c,h=o*u-i*s,d=Math.sqrt(l*l+f*f+h*h);0===d?(e[r]=0,e[r+1]=0,e[r+2]=0,e[r+3]=0,e[r+4]=0,e[r+5]=0,e[r+6]=0,e[r+7]=0,e[r+8]=0):(l/=d,f/=d,h/=d,e[r]=l,e[r+1]=f,e[r+2]=h,e[r+3]=l,e[r+4]=f,e[r+5]=h,e[r+6]=l,e[r+7]=f,e[r+8]=h)}return e}e.exports=r}),{}],66:[(function(t,e,n){function r(t,e){for("string"==typeof e&&(e=o(e)),"function"!=typeof e&&(e=i(e));t&&!e(t);)t=t.parentNode;return t||null}function o(t){return t=String(t).toUpperCase(),function(e){return t===e.nodeName}}function i(t){return function(e){return t===e}}e.exports=r}),{}],67:[(function(t,e,n){e.exports=function(t,e){function n(t,r){return t.reduce((function(t,o){return Array.isArray(o)&&r<e?t.concat(n(o,r+1)):t.concat(o)}),[])}return e="number"==typeof e?e:1/0,n(t,1)}}),{}],68:[(function(t,e,n){function r(t,e,n){if(!s(e))throw new TypeError("iterator must be a function");arguments.length<3&&(n=this),"[object Array]"===u.call(t)?o(t,e,n):"string"==typeof t?i(t,e,n):a(t,e,n)}function o(t,e,n){for(var r=0,o=t.length;r<o;r++)c.call(t,r)&&e.call(n,t[r],r,t)}function i(t,e,n){for(var r=0,o=t.length;r<o;r++)e.call(n,t.charAt(r),r,t)}function a(t,e,n){for(var r in t)c.call(t,r)&&e.call(n,t[r],r,t)}var s=t(1);e.exports=r;var u=Object.prototype.toString,c=Object.prototype.hasOwnProperty}),{1:114}],69:[(function(t,e,n){function r(t,e){function n(){null===a&&(a=o(arguments),s=this,e&&t.apply(s,a),i(r))}function r(){e||t.apply(s,a),a=null,s=null}var a=null,s=null;return n}var o=t(2),i=t(1);e.exports=r}),{1:154,2:70}],70:[(function(t,e,n){e.exports=n=t(1)}),{1:71}],71:[(function(t,e,n){e.exports=function(t,e,n){var r=[],o=t.length;if(0===o)return r;var i=e<0?Math.max(0,e+o):e||0;for(void 0!==n&&(o=n<0?n+o:n);o-- >i;)r[o-i]=t[o];return r}}),{}],72:[(function(t,e,n){function r(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t}e.exports=r}),{}],73:[(function(t,e,n){function r(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}e.exports=r}),{}],74:[(function(t,e,n){function r(t,e){var n=e[0],r=e[1],o=e[2],i=e[3],a=e[4],s=e[5],u=e[6],c=e[7],l=e[8],f=e[9],h=e[10],d=e[11],p=e[12],v=e[13],g=e[14],m=e[15],y=n*s-r*a,b=n*u-o*a,w=n*c-i*a,_=r*u-o*s,E=r*c-i*s,x=o*c-i*u,A=l*v-f*p,S=l*g-h*p,O=l*m-d*p,C=f*g-h*v,T=f*m-d*v,R=h*m-d*g,P=y*R-b*T+w*C+_*O-E*S+x*A;return P?(P=1/P,t[0]=(s*R-u*T+c*C)*P,t[1]=(u*O-a*R-c*S)*P,t[2]=(a*T-s*O+c*A)*P,t[3]=(o*T-r*R-i*C)*P,t[4]=(n*R-o*O+i*S)*P,t[5]=(r*O-n*T-i*A)*P,t[6]=(v*x-g*E+m*_)*P,t[7]=(g*w-p*x-m*b)*P,t[8]=(p*E-v*w+m*y)*P,t):null}e.exports=r}),{}],75:[(function(t,e,n){function r(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}e.exports=r}),{}],76:[(function(t,e,n){function r(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}e.exports=r}),{}],77:[(function(t,e,n){function r(t,e){var n=e[0],r=e[1],o=e[2],i=e[3],a=e[4],s=e[5],u=e[6],c=e[7],l=e[8],f=e[9],h=e[10],d=e[11],p=e[12],v=e[13],g=e[14],m=e[15],y=n*s-r*a,b=n*u-o*a,w=n*c-i*a,_=r*u-o*s,E=r*c-i*s,x=o*c-i*u,A=l*v-f*p,S=l*g-h*p,O=l*m-d*p,C=f*g-h*v,T=f*m-d*v,R=h*m-d*g,P=y*R-b*T+w*C+_*O-E*S+x*A;return P?(P=1/P,t[0]=(s*R-u*T+c*C)*P,t[1]=(o*T-r*R-i*C)*P,t[2]=(v*x-g*E+m*_)*P,t[3]=(h*E-f*x-d*_)*P,t[4]=(u*O-a*R-c*S)*P,t[5]=(n*R-o*O+i*S)*P,t[6]=(g*w-p*x-m*b)*P,t[7]=(l*x-h*w+d*b)*P,t[8]=(a*T-s*O+c*A)*P,t[9]=(r*O-n*T-i*A)*P,t[10]=(p*E-v*w+m*y)*P,t[11]=(f*w-l*E-d*y)*P,t[12]=(s*S-a*C-u*A)*P,t[13]=(n*C-r*S+o*A)*P,t[14]=(v*b-p*_-g*y)*P,t[15]=(l*_-f*b+h*y)*P,t):null}e.exports=r}),{}],78:[(function(t,e,n){function r(t,e,n,r){var i,a,s,u,c,l,f,h,d,p,v=e[0],g=e[1],m=e[2],y=r[0],b=r[1],w=r[2],_=n[0],E=n[1],x=n[2];return Math.abs(v-_)<1e-6&&Math.abs(g-E)<1e-6&&Math.abs(m-x)<1e-6?o(t):(f=v-_,h=g-E,d=m-x,p=1/Math.sqrt(f*f+h*h+d*d),f*=p,h*=p,d*=p,i=b*d-w*h,a=w*f-y*d,s=y*h-b*f,p=Math.sqrt(i*i+a*a+s*s),p?(p=1/p,i*=p,a*=p,s*=p):(i=0,a=0,s=0),u=h*s-d*a,c=d*i-f*s,l=f*a-h*i,p=Math.sqrt(u*u+c*c+l*l),p?(p=1/p,u*=p,c*=p,l*=p):(u=0,c=0,l=0),t[0]=i,t[1]=u,t[2]=f,t[3]=0,t[4]=a,t[5]=c,t[6]=h,t[7]=0,t[8]=s,t[9]=l,t[10]=d,t[11]=0,t[12]=-(i*v+a*g+s*m),t[13]=-(u*v+c*g+l*m),t[14]=-(f*v+h*g+d*m),t[15]=1,t)}var o=t(1);e.exports=r}),{1:76}],79:[(function(t,e,n){function r(t,e,n){var r=e[0],o=e[1],i=e[2],a=e[3],s=e[4],u=e[5],c=e[6],l=e[7],f=e[8],h=e[9],d=e[10],p=e[11],v=e[12],g=e[13],m=e[14],y=e[15],b=n[0],w=n[1],_=n[2],E=n[3];return t[0]=b*r+w*s+_*f+E*v,t[1]=b*o+w*u+_*h+E*g,t[2]=b*i+w*c+_*d+E*m,t[3]=b*a+w*l+_*p+E*y,b=n[4],w=n[5],_=n[6],E=n[7],t[4]=b*r+w*s+_*f+E*v,t[5]=b*o+w*u+_*h+E*g,t[6]=b*i+w*c+_*d+E*m,t[7]=b*a+w*l+_*p+E*y,b=n[8],w=n[9],_=n[10],E=n[11],t[8]=b*r+w*s+_*f+E*v,t[9]=b*o+w*u+_*h+E*g,t[10]=b*i+w*c+_*d+E*m,t[11]=b*a+w*l+_*p+E*y,b=n[12],w=n[13],_=n[14],E=n[15],t[12]=b*r+w*s+_*f+E*v,t[13]=b*o+w*u+_*h+E*g,t[14]=b*i+w*c+_*d+E*m,t[15]=b*a+w*l+_*p+E*y,t}e.exports=r}),{}],80:[(function(t,e,n){function r(t,e,n,r,o,i,a){var s=1/(e-n),u=1/(r-o),c=1/(i-a);return t[0]=-2*s,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*u,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*c,t[11]=0,t[12]=(e+n)*s,t[13]=(o+r)*u,t[14]=(a+i)*c,t[15]=1,t}e.exports=r}),{}],81:[(function(t,e,n){function r(t,e,n,r,o){var i=1/Math.tan(e/2),a=1/(r-o);return t[0]=i/n,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=i,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=(o+r)*a,t[11]=-1,
t[12]=0,t[13]=0,t[14]=2*o*r*a,t[15]=0,t}e.exports=r}),{}],82:[(function(t,e,n){function r(t,e,n){var r=n[0],o=n[1],i=n[2];return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t[4]=e[4]*o,t[5]=e[5]*o,t[6]=e[6]*o,t[7]=e[7]*o,t[8]=e[8]*i,t[9]=e[9]*i,t[10]=e[10]*i,t[11]=e[11]*i,t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}e.exports=r}),{}],83:[(function(t,e,n){function r(t,e,n){var r,o,i,a,s,u,c,l,f,h,d,p,v=n[0],g=n[1],m=n[2];return e===t?(t[12]=e[0]*v+e[4]*g+e[8]*m+e[12],t[13]=e[1]*v+e[5]*g+e[9]*m+e[13],t[14]=e[2]*v+e[6]*g+e[10]*m+e[14],t[15]=e[3]*v+e[7]*g+e[11]*m+e[15]):(r=e[0],o=e[1],i=e[2],a=e[3],s=e[4],u=e[5],c=e[6],l=e[7],f=e[8],h=e[9],d=e[10],p=e[11],t[0]=r,t[1]=o,t[2]=i,t[3]=a,t[4]=s,t[5]=u,t[6]=c,t[7]=l,t[8]=f,t[9]=h,t[10]=d,t[11]=p,t[12]=r*v+s*g+f*m+e[12],t[13]=o*v+u*g+h*m+e[13],t[14]=i*v+c*g+d*m+e[14],t[15]=a*v+l*g+p*m+e[15]),t}e.exports=r}),{}],84:[(function(t,e,n){function r(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t}e.exports=r}),{}],85:[(function(t,e,n){function r(t,e,n){n*=.5;var r=e[0],o=e[1],i=e[2],a=e[3],s=Math.sin(n),u=Math.cos(n);return t[0]=r*u+a*s,t[1]=o*u+i*s,t[2]=i*u-o*s,t[3]=a*u-r*s,t}e.exports=r}),{}],86:[(function(t,e,n){function r(t,e,n){n*=.5;var r=e[0],o=e[1],i=e[2],a=e[3],s=Math.sin(n),u=Math.cos(n);return t[0]=r*u-i*s,t[1]=o*u+a*s,t[2]=i*u+r*s,t[3]=a*u-o*s,t}e.exports=r}),{}],87:[(function(t,e,n){function r(t,e,n){n*=.5;var r=e[0],o=e[1],i=e[2],a=e[3],s=Math.sin(n),u=Math.cos(n);return t[0]=r*u+o*s,t[1]=o*u-r*s,t[2]=i*u+a*s,t[3]=a*u-i*s,t}e.exports=r}),{}],88:[(function(t,e,n){"use strict";function r(t,e){if(!s){var n=Object.keys(a);s={};for(var r=0;r<n.length;++r){var o=n[r],i=t[o];"undefined"!=typeof i&&(s[i]=a[o])}}return s[e]}function o(t,e){for(var n=t.getProgramParameter(e,t.ACTIVE_UNIFORMS),o=[],i=0;i<n;++i){var a=t.getActiveUniform(e,i),s=r(t,a.type);if(a.size>1)for(var u=0;u<a.size;++u)o.push({name:a.name.replace("[0]","["+u+"]"),type:s});else o.push({name:a.name,type:s})}return o}function i(t,e){for(var n=t.getProgramParameter(e,t.ACTIVE_ATTRIBUTES),o=[],i=0;i<n;++i){var a=t.getActiveAttrib(e,i);a&&o.push({name:a.name,type:r(t,a.type)})}return o}var a=t(1);e.exports=function(t,e){return{uniforms:o(t,e),attributes:i(t,e)}},e.exports.uniforms=o,e.exports.attributes=i;var s=null}),{1:89}],89:[(function(t,e,n){e.exports={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube",FLOAT_MAT2x3:"mat2x3",FLOAT_MAT2x4:"mat2x4",FLOAT_MAT3x2:"mat3x2",FLOAT_MAT3x4:"mat3x4",FLOAT_MAT4x2:"mat4x2",FLOAT_MAT4x3:"mat4x3",UNSIGNED_INT:"uint",UNSIGNED_INT_VEC2:"uvec2",UNSIGNED_INT_VEC3:"uvec3",UNSIGNED_INT_VEC4:"uvec4",UNSIGNED_INT_SAMPLER_2D:"usampler2D",UNSIGNED_INT_SAMPLER_3D:"usampler3D",UNSIGNED_INT_SAMPLER_2D_ARRAY:"usampler2DArray",UNSIGNED_INT_SAMPLER_CUBE:"usamplerCube",INT_SAMPLER_2D:"isampler2D",INT_SAMPLER_3D:"isampler3D",INT_SAMPLER_2D_ARRAY:"isampler2DArray",INT_SAMPLER_CUBE:"isamplerCube"}}),{}],90:[(function(t,e,n){function r(t,e){var n=e[0]-t[0],r=e[1]-t[1];return Math.sqrt(n*n+r*r)}e.exports=r}),{}],91:[(function(t,e,n){function r(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t}e.exports=r}),{}],92:[(function(t,e,n){function r(t,e,n){var r=e[0],o=e[1],i=e[2],a=n[3]*r+n[7]*o+n[11]*i+n[15];return a=a||1,t[0]=(n[0]*r+n[4]*o+n[8]*i+n[12])/a,t[1]=(n[1]*r+n[5]*o+n[9]*i+n[13])/a,t[2]=(n[2]*r+n[6]*o+n[10]*i+n[14])/a,t}e.exports=r}),{}],93:[(function(t,e,n){function r(t,e,n){var r=e[0],o=e[1],i=e[2],a=n[0],s=n[1],u=n[2],c=n[3],l=c*r+s*i-u*o,f=c*o+u*r-a*i,h=c*i+a*o-s*r,d=-a*r-s*o-u*i;return t[0]=l*c+d*-a+f*-u-h*-s,t[1]=f*c+d*-s+h*-a-l*-u,t[2]=h*c+d*-u+l*-s-f*-a,t}e.exports=r}),{}],94:[(function(t,e,n){(function(n){var r="undefined"!=typeof n?n:"undefined"!=typeof window?window:{},o=t(1);if("undefined"!=typeof document)e.exports=document;else{var i=r["__GLOBAL_DOCUMENT_CACHE@4"];i||(i=r["__GLOBAL_DOCUMENT_CACHE@4"]=o),e.exports=i}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})}),{1:23}],95:[(function(t,e,n){(function(t){"undefined"!=typeof window?e.exports=window:"undefined"!=typeof t?e.exports=t:"undefined"!=typeof self?e.exports=self:e.exports={}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})}),{}],96:[(function(t,e,n){"use strict";n.__esModule=!0;n.addEventListener=function(t,e,n){return t.addEventListener?t.addEventListener(e,n,!1):t.attachEvent("on"+e,n)},n.removeEventListener=function(t,e,n){return t.removeEventListener?t.removeEventListener(e,n,!1):t.detachEvent("on"+e,n)},n.getConfirmation=function(t,e){return e(window.confirm(t))},n.supportsHistory=function(){var t=window.navigator.userAgent;return(t.indexOf("Android 2.")===-1&&t.indexOf("Android 4.0")===-1||t.indexOf("Mobile Safari")===-1||t.indexOf("Chrome")!==-1||t.indexOf("Windows Phone")!==-1)&&(window.history&&"pushState"in window.history)},n.supportsPopStateOnHashChange=function(){return window.navigator.userAgent.indexOf("Trident")===-1},n.supportsGoWithoutReloadUsingHash=function(){return window.navigator.userAgent.indexOf("Firefox")===-1}}),{}],97:[(function(t,e,n){"use strict";n.__esModule=!0;n.canUseDOM=!("undefined"==typeof window||!window.document||!window.document.createElement)}),{}],98:[(function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}n.__esModule=!0,n.locationsAreEqual=n.createLocation=void 0;var o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},i=t(2),a=r(i),s=t(3),u=r(s),c=t(1);n.createLocation=function(t,e,n,r){var i=void 0;return"string"==typeof t?(i=(0,c.parsePath)(t),i.state=e):(i=o({},t),void 0===i.pathname&&(i.pathname=""),i.search?"?"!==i.search.charAt(0)&&(i.search="?"+i.search):i.search="",i.hash?"#"!==i.hash.charAt(0)&&(i.hash="#"+i.hash):i.hash="",void 0!==e&&void 0===i.state&&(i.state=e)),i.key=n,r&&(i.pathname?"/"!==i.pathname.charAt(0)&&(i.pathname=(0,a.default)(i.pathname,r.pathname)):i.pathname=r.pathname),i},n.locationsAreEqual=function(t,e){return t.pathname===e.pathname&&t.search===e.search&&t.hash===e.hash&&t.key===e.key&&(0,u.default)(t.state,e.state)}}),{1:99,2:157,3:193}],99:[(function(t,e,n){"use strict";n.__esModule=!0;n.addLeadingSlash=function(t){return"/"===t.charAt(0)?t:"/"+t},n.stripLeadingSlash=function(t){return"/"===t.charAt(0)?t.substr(1):t},n.stripPrefix=function(t,e){return 0===t.indexOf(e)?t.substr(e.length):t},n.parsePath=function(t){var e=t||"/",n="",r="",o=e.indexOf("#");o!==-1&&(r=e.substr(o),e=e.substr(0,o));var i=e.indexOf("?");return i!==-1&&(n=e.substr(i),e=e.substr(0,i)),{pathname:e,search:"?"===n?"":n,hash:"#"===r?"":r}},n.createPath=function(t){var e=t.pathname,n=t.search,r=t.hash,o=e||"/";return n&&"?"!==n&&(o+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(o+="#"===r.charAt(0)?r:"#"+r),o}}),{}],100:[(function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}n.__esModule=!0;var o=("function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t},Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}),i=t(7),a=(r(i),t(6)),s=r(a),u=t(3),c=t(4),l=t(5),f=r(l),h=t(2),d=t(1),p="popstate",v="hashchange",g=function(){try{return window.history.state||{}}catch(t){return{}}},m=function(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];h.canUseDOM?void 0:(0,s.default)(!1);var e=window.history,n=(0,d.supportsHistory)(),r=!(0,d.supportsPopStateOnHashChange)(),i=t.basename,a=void 0===i?"":i,l=t.forceRefresh,m=void 0!==l&&l,y=t.getUserConfirmation,b=void 0===y?d.getConfirmation:y,w=t.keyLength,_=void 0===w?6:w,E=function(t){var e=t||{},n=e.key,r=e.state,i=window.location,s=i.pathname,u=i.search,l=i.hash,f=s+u+l;return a&&(f=(0,c.stripPrefix)(f,a)),o({},(0,c.parsePath)(f),{state:r,key:n})},x=function(){return Math.random().toString(36).substr(2,_)},A=(0,f.default)(),S=function(t){o(W,t),W.length=e.length,A.notifyListeners(W.location,W.action)},O=function(t){void 0!==t.state&&R(E(t.state))},C=function(){R(E(g()))},T=!1,R=function(t){T?(T=!1,S()):!(function(){var e="POP";A.confirmTransitionTo(t,e,b,(function(n){n?S({action:e,location:t}):P(t)}))})()},P=function(t){var e=W.location,n=k.indexOf(e.key);n===-1&&(n=0);var r=k.indexOf(t.key);r===-1&&(r=0);var o=n-r;o&&(T=!0,F(o))},I=E(g()),k=[I.key],M=function(t,r){var o="PUSH",i=(0,u.createLocation)(t,r,x(),W.location);A.confirmTransitionTo(i,o,b,(function(t){if(t){var r=a+(0,c.createPath)(i),s=i.key,u=i.state;if(n)if(e.pushState({key:s,state:u},null,r),m)window.location.href=r;else{var l=k.indexOf(W.location.key),f=k.slice(0,l===-1?0:l+1);f.push(i.key),k=f,S({action:o,location:i})}else window.location.href=r}}))},L=function(t,r){var o="REPLACE",i=(0,u.createLocation)(t,r,x(),W.location);A.confirmTransitionTo(i,o,b,(function(t){if(t){var r=a+(0,c.createPath)(i),s=i.key,u=i.state;if(n)if(e.replaceState({key:s,state:u},null,r),m)window.location.replace(r);else{var l=k.indexOf(W.location.key);l!==-1&&(k[l]=i.key),S({action:o,location:i})}else window.location.replace(r)}}))},F=function(t){e.go(t)},N=function(){return F(-1)},D=function(){return F(1)},j=0,U=function(t){j+=t,1===j?((0,d.addEventListener)(window,p,O),r&&(0,d.addEventListener)(window,v,C)):0===j&&((0,d.removeEventListener)(window,p,O),r&&(0,d.removeEventListener)(window,v,C))},B=!1,z=function(){var t=!(arguments.length<=0||void 0===arguments[0])&&arguments[0],e=A.setPrompt(t);return B||(U(1),B=!0),function(){return B&&(B=!1,U(-1)),e()}},V=function(t){var e=A.appendListener(t);return U(1),function(){return U(-1),e()}},W={length:e.length,action:"POP",location:I,push:M,replace:L,go:F,goBack:N,goForward:D,block:z,listen:V};return W};n.default=m}),{1:96,2:97,3:98,4:99,5:101,6:112,7:194}],101:[(function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}n.__esModule=!0;var o=t(1),i=(r(o),function(){var t=null,e=function(e){return t=e,function(){t===e&&(t=null)}},n=function(e,n,r,o){if(null!=t){var i="function"==typeof t?t(e,n):t;"string"==typeof i?"function"==typeof r?r(i,o):o(!0):o(i!==!1)}else o(!0)},r=[],o=function(t){return r.push(t),function(){r=r.filter((function(e){return e!==t}))}},i=function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return r.forEach((function(t){return t.apply(void 0,e)}))};return{setPrompt:e,confirmTransitionTo:n,appendListener:o,notifyListeners:i}});n.default=i}),{1:194}],102:[(function(t,e,n){function r(t,e,n,r){if(!t)throw o(e,n,r)}var o=t(2),i=t(1);e.exports=r,r.equal=function(t,e,n,o,i){r(t==e,n,o,i)},r.notEqual=function(t,e,n,o,i){r(t!=e,n,o,i)},r.strictEqual=function(t,e,n,o,i){r(t===e,n,o,i)},r.notStrictEqual=function(t,e,n,o,i){r(t!==e,n,o,i)},r.deepEqual=function(t,e,n,o,a){r(i(t,e),n,o,a)},r.notDeepEqual=function(t,e,n,o,a){r(!i(t,e),n,o,a)}}),{1:37,2:103}],103:[(function(t,e,n){function r(t){return t.split(" ").map((function(t){return t.slice(0,1).toUpperCase()+t.slice(1)})).join("").replace(/[^ _0-9a-z]/gi,"")}var o=t(2),i=t(1);n=e.exports=function t(){for(var e,r,i=500,a={},s=0;s<arguments.length;s++){var u=arguments[s];if(u instanceof Error)e=u,i=e.status||e.statusCode||i;else switch(typeof u){case"string":r=u;break;case"number":i=u;break;case"object":a=u}}"number"==typeof i&&o[i]||(i=500);var c=n[i];e||(e=c?new c(r):new Error(r||o[i]),Error.captureStackTrace(e,t)),c&&e instanceof c||(e.expose=i<500,e.status=e.statusCode=i);for(var l in a)"status"!==l&&"statusCode"!==l&&(e[l]=a[l]);return e};var a=n.HttpError=function(){throw new TypeError("cannot construct abstract class")};i(a,Error);var s=o.codes.filter((function(t){return t>=400}));s.forEach((function(t){var e=r(o[t]),s=e.match(/Error$/)?e:e+"Error";if(t>=500){var u=function e(n){var r=new Error(null!=n?n:o[t]);return Error.captureStackTrace(r,e),r.__proto__=e.prototype,Object.defineProperty(r,"name",{enumerable:!1,configurable:!0,value:s,writable:!0}),r};return i(u,a),u.prototype.status=u.prototype.statusCode=t,u.prototype.expose=!1,void(n[t]=n[e]=u)}var c=function e(n){var r=new Error(null!=n?n:o[t]);return Error.captureStackTrace(r,e),r.__proto__=e.prototype,Object.defineProperty(r,"name",{enumerable:!1,configurable:!0,value:s,writable:!0}),r};i(c,a),c.prototype.status=c.prototype.statusCode=t,c.prototype.expose=!0,n[t]=n[e]=c})),n["I'mateapot"]=n.ImATeapot}),{1:104,2:180}],104:[(function(t,e,n){"function"==typeof Object.create?e.exports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(t,e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}}),{}],105:[(function(t,e,n){function r(t){return function(e,n,r){for(var i in n)i in o&&(n[o[i]]=n[i],delete n[i]);return t(e,n,r)}}e.exports=r;var o={class:"className",for:"htmlFor","http-equiv":"httpEquiv"}}),{}],106:[(function(t,e,n){function r(t){return t===v||t===g}function o(t){return b.test(t)}var i=t(1),a=0,s=1,u=2,c=3,l=4,f=5,h=6,d=7,p=8,v=9,g=10,m=11,y=12;e.exports=function(t,e){function n(t){return"function"==typeof t?t:"string"==typeof t?t:t&&"object"==typeof t?t:b("",t)}t=i(t),e||(e={});var b=e.concat||function(t,e){return String(t)+String(e)};return function(e){function i(t){var e=[];w===d&&(w=l);for(var n=0;n<t.length;n++){var o=t.charAt(n);w===s&&"<"===o?(_.length&&e.push([s,_]),_="",w=u):">"!==o||r(w)?w===s?_+=o:w===u&&/\s/.test(o)?(e.push([u,_]),_="",w=l):w===u?_+=o:w===l&&/[\w-]/.test(o)?(w=f,_=o):w===l&&/\s/.test(o)?(_.length&&e.push([f,_]),e.push([y])):w===f&&/\s/.test(o)?(e.push([f,_]),_="",w=h):w===f&&"="===o?(e.push([f,_],[m]),_="",w=d):w===f?_+=o:w!==h&&w!==l||"="!==o?w!==h&&w!==l||/\s/.test(o)?w===d&&'"'===o?w=g:w===d&&"'"===o?w=v:w===g&&'"'===o?(e.push([p,_],[y]),_="",w=l):w===v&&"'"===o?(e.push([p,_],[y]),_="",w=l):w!==d||/\s/.test(o)?w===p&&/\s/.test(o)?(e.push([p,_],[y]),_="",w=l):w!==p&&w!==v&&w!==g||(_+=o):(w=p,n--):(e.push([y]),/[\w-]/.test(o)?(_+=o,w=f):w=l):(e.push([m]),w=d):(w===u?e.push([u,_]):w===f?e.push([f,_]):w===p&&_.length&&e.push([p,_]),e.push([c]),_="",w=s)}return w===s&&_.length?(e.push([s,_]),_=""):w===p&&_.length?(e.push([p,_]),_=""):w===g&&_.length?(e.push([p,_]),_=""):w===v&&_.length?(e.push([p,_]),_=""):w===f&&(e.push([f,_]),_=""),e}for(var w=s,_="",E=arguments.length,x=[],A=0;A<e.length;A++)if(A<E-1){var S=arguments[A+1],O=i(e[A]),C=w;C===g&&(C=p),C===v&&(C=p),C===d&&(C=p),C===l&&(C=f),O.push([a,C,S]),x.push.apply(x,O)}else x.push.apply(x,i(e[A]));for(var T=[null,{},[]],R=[[T,-1]],A=0;A<x.length;A++){var P=R[R.length-1][0],O=x[A],I=O[0];if(I===u&&/^\//.test(O[1])){var k=R[R.length-1][1];R.length>1&&(R.pop(),R[R.length-1][0][2][k]=t(P[0],P[1],P[2].length?P[2]:void 0))}else if(I===u){var M=[O[1],{},[]];P[2].push(M),R.push([M,P[2].length-1])}else if(I===f||I===a&&O[1]===f){for(var L,F="";A<x.length;A++)if(x[A][0]===f)F=b(F,x[A][1]);else{if(x[A][0]!==a||x[A][1]!==f)break;if("object"!=typeof x[A][2]||F)F=b(F,x[A][2]);else for(L in x[A][2])x[A][2].hasOwnProperty(L)&&!P[1][L]&&(P[1][L]=x[A][2][L])}x[A][0]===m&&A++;for(var N=A;A<x.length;A++)if(x[A][0]===p||x[A][0]===f)P[1][F]?P[1][F]=b(P[1][F],x[A][1]):P[1][F]=n(x[A][1]);else{if(x[A][0]!==a||x[A][1]!==p&&x[A][1]!==f){!F.length||P[1][F]||A!==N||x[A][0]!==c&&x[A][0]!==y||(P[1][F]=F.toLowerCase());break}P[1][F]?P[1][F]=b(P[1][F],x[A][2]):P[1][F]=n(x[A][2])}}else if(I===f)P[1][O[1]]=!0;else if(I===a&&O[1]===f)P[1][O[2]]=!0;else if(I===c){if(o(P[0])&&R.length){var k=R[R.length-1][1];R.pop(),R[R.length-1][0][2][k]=t(P[0],P[1],P[2].length?P[2]:void 0)}}else if(I===a&&O[1]===s)void 0===O[2]||null===O[2]?O[2]="":O[2]||(O[2]=b("",O[2])),Array.isArray(O[2][0])?P[2].push.apply(P[2],O[2]):P[2].push(O[2]);else if(I===s)P[2].push(O[1]);else if(I!==m&&I!==y)throw new Error("unhandled: "+I)}if(T[2].length>1&&/^\s*$/.test(T[2][0])&&T[2].shift(),T[2].length>2||2===T[2].length&&/\S/.test(T[2][1]))throw new Error("multiple root elements must be wrapped in an enclosing tag");return Array.isArray(T[2][0])&&"string"==typeof T[2][0][0]&&Array.isArray(T[2][0][2])&&(T[2][0]=t(T[2][0][0],T[2][0][1],T[2][0][2])),T[2][0]}};var b=(Object.prototype.hasOwnProperty,RegExp("^("+["area","base","basefont","bgsound","br","col","command","embed","frame","hr","img","input","isindex","keygen","link","meta","param","source","track","wbr","animate","animateTransform","circle","cursor","desc","ellipse","feBlend","feColorMatrix","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","font-face-format","font-face-name","font-face-uri","glyph","glyphRef","hkern","image","line","missing-glyph","mpath","path","polygon","polyline","rect","set","stop","tref","use","view","vkern"].join("|")+")(?:[.#][a-zA-Z0-9-_:-]+)*$"))}),{1:105}],107:[(function(t,e,n){n.read=function(t,e,n,r,o){var i,a,s=8*o-r-1,u=(1<<s)-1,c=u>>1,l=-7,f=n?o-1:0,h=n?-1:1,d=t[e+f];for(f+=h,i=d&(1<<-l)-1,d>>=-l,l+=s;l>0;i=256*i+t[e+f],f+=h,l-=8);for(a=i&(1<<-l)-1,i>>=-l,l+=r;l>0;a=256*a+t[e+f],f+=h,l-=8);if(0===i)i=1-c;else{if(i===u)return a?NaN:(d?-1:1)*(1/0);a+=Math.pow(2,r),i-=c}return(d?-1:1)*a*Math.pow(2,i-r)},n.write=function(t,e,n,r,o,i){var a,s,u,c=8*i-o-1,l=(1<<c)-1,f=l>>1,h=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,d=r?0:i-1,p=r?1:-1,v=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(s=isNaN(e)?1:0,a=l):(a=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-a))<1&&(a--,u*=2),e+=a+f>=1?h/u:h*Math.pow(2,1-f),e*u>=2&&(a++,u/=2),a+f>=l?(s=0,a=l):a+f>=1?(s=(e*u-1)*Math.pow(2,o),a+=f):(s=e*Math.pow(2,f-1)*Math.pow(2,o),a=0));o>=8;t[n+d]=255&s,d+=p,s/=256,o-=8);for(a=a<<o|s,c+=o;c>0;t[n+d]=255&a,d+=p,a/=256,c-=8);t[n+d-p]|=128*v}}),{}],108:[(function(t,e,n){function r(t,e){function n(){i?t.detachEvent("onload",n):t.removeEventListener("load",n,!1),e(null,!1)}var r,i;return t.nodeName?"img"!==t.nodeName.toLowerCase()?e(new Error("Element supplied is not an image")):t.src&&t.complete&&void 0!==t.naturalWidth?e(null,!0):(i=!t.addEventListener,i?t.attachEvent("onload",n):t.addEventListener("load",n,!1),void((t.readyState||t.complete)&&(r=t.src,t.src=o,t.src=r))):e(new Error("First argument must be an image element"))}var o="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==";e.exports=r}),{}],109:[(function(t,e,n){e.exports=function(t){if(!t||"string"!=typeof t)throw new Error("must specify property for indexof search");return new Function("array","value","start",["start = start || 0","for (var i=start; i<array.length; i++)",'  if (array[i]["'+t+'"] === value)',"      return i","return -1"].join("\n"))}}),{}],110:[(function(t,e,n){arguments[4][104][0].apply(n,arguments)}),{1:104}],111:[(function(t,e,n){function r(){var t=document.createElement("style");return t.setAttribute("type","text/css"),t}var o=[],i=[];e.exports=function(t,e){e=e||{};var n=e.prepend===!0?"prepend":"append",a=void 0!==e.container?e.container:document.querySelector("head"),s=o.indexOf(a);s===-1&&(s=o.push(a)-1,i[s]={});var u;return void 0!==i[s]&&void 0!==i[s][n]?u=i[s][n]:(u=i[s][n]=r(),"prepend"===n?a.insertBefore(u,a.childNodes[0]):a.appendChild(u)),u.styleSheet?u.styleSheet.cssText+=t:u.textContent+=t,u}}),{}],112:[(function(t,e,n){"use strict";var r=function(t,e,n,r,o,i,a,s){if(!t){var u;if(void 0===e)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,r,o,i,a,s],l=0;u=new Error(e.replace(/%s/g,(function(){return c[l++]}))),u.name="Invariant Violation"}throw u.framesToPop=1,u}};e.exports=r}),{}],113:[(function(t,e,n){function r(t){return!!t.constructor&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)}function o(t){return"function"==typeof t.readFloatLE&&"function"==typeof t.slice&&r(t.slice(0,0))}e.exports=function(t){return null!=t&&(r(t)||o(t)||!!t._isBuffer)}}),{}],114:[(function(t,e,n){function r(t){var e=o.call(t);return"[object Function]"===e||"function"==typeof t&&"[object RegExp]"!==e||"undefined"!=typeof window&&(t===window.setTimeout||t===window.alert||t===window.confirm||t===window.prompt)}e.exports=r;var o=Object.prototype.toString}),{}],115:[(function(t,e,n){function r(t){function e(){}return i(e,o),e.prototype._name=String(t),e._name=String(t),e}function o(){}var i=t(1);e.exports=r,o.prototype.init=function(){},o.prototype.preStep=function(){},o.prototype.step=function(){},o.prototype.postStep=function(){},o.prototype.preDraw=function(){},o.prototype.draw=function(){},o.prototype.postDraw=function(){},o.prototype.stop=function(){},o.prototype._name="unnamed"}),{1:110}],116:[(function(t,e,n){function r(t,e,n,o){return this instanceof r?(t&&t.positions&&t.cells&&(e=t.positions,n=t.normals,o=t.uvs,t=t.cells),this.id=c++,this.dirty=!0,this.cache=new Map,this.length=0,this.elements=t?u(t,Uint32Array):null,this.attribData=[],this.attribSize=[],this.attribName=[],this.attribRaw=[],e&&this.attr("position",e),n&&this.attr("normal",n),void(o&&this.attr("uv",o))):new r(t,e,n,o)}function o(t){t.dispose()}var i=t(4),a=t(1),s=t(2),u=t(3);e.exports=r;var c=parseInt(Math.random().toString(32).slice(2,10),32);r.prototype.attr=function t(e,t,n){this.dirty=!0;var r="number"==typeof t[0]?3:t[0].length,o=n&&n.dimensions||r,i=n&&n.type||"float32",a=(!n||n.index!==!1)&&this.elements,u=s(t,a,o,i),c=this.attribName.indexOf(e);return c===-1&&(c=this.attribName.length),this.attribName[c]=e,this.attribSize[c]=o,this.attribData[c]=u,this.length=0===c?u.length/o:this.length,this},r.prototype.attrFaceNormals=function(t){var e=i(this.attribData[0]);return this.attr(t||"normal",e,{index:!1})},r.prototype.attrVertNormals=function(t){if(!this.elements)throw new Error("Vertex (smooth) normals are only available if your mesh is indexed");throw new Error("TODO: implement vertex normal calculation")},r.prototype.attrNormals=function(t){return this.elements?this.attrVertNormals(t):this.attrFaceNormals(t)},r.prototype.bind=function(t,e){this._getBindings(t).bind(e)},r.prototype._createBindings=function(t,e){e&&e.dispose();for(var n=new a(t),r=0;r<this.attribName.length;r++)n.push(this.attribName[r],this.attribSize[r],this.attribData[r]);return n},r.prototype._getBindings=function(t){var e=this.cache.get(t);return!this.dirty&&e||(e=this._createBindings(t,e),this.cache.set(t,e)),this.dirty=!1,e},r.prototype.draw=function(t,e,n,r){var o=this._getBindings(t),i=o.attributeState,a=n||0,s="number"==typeof r?r:this.length,u="number"==typeof e?e:t.TRIANGLES;i.done(o.id),t.drawArrays(u,a,s)},r.prototype.dispose=function(){this.cache.forEach(o),this.cache.clear()}}),{1:117,2:119,3:7,4:65}],117:[(function(t,e,n){function r(t){this.gl=t,this.id=i.generate(),this.attributeState=o.get(t),this.bindings=Object.create(null)}var o=t(1),i=t(2),a=[];e.exports=r,r.prototype.push=function(t,e,n){var r=this.gl,o=a.length?a.pop():r.createBuffer();r.bindBuffer(r.ARRAY_BUFFER,o),r.bufferData(r.ARRAY_BUFFER,n,r.STATIC_DRAW),this.bindings[t]={buffer:o,size:e}},r.prototype.bind=function(t){var e=this.attributeState,n=this.gl;e.init(this.id);for(var r in t){var o=this.bindings[r],i=t[r];o&&e.shouldBind(this.id)&&(n.bindBuffer(n.ARRAY_BUFFER,o.buffer),e.enable(this.id,i),n.vertexAttribPointer(i,o.size,n.FLOAT,!1,0,0))}},r.prototype.dispose=function(){var t=this.gl;for(var e in this.bindings){var n=this.bindings[e].buffer;a.push(n),t.bindBuffer(t.ARRAY_BUFFER,n),t.bufferData(t.ARRAY_BUFFER,0,t.STATIC_DRAW)}this.attributeState.dispose(this.id),this.attributeState=null,this.bindings=null,this.gl=null,this.id=null}}),{1:118,2:170}],118:[(function(t,e,n){var r=t(1);r("__KINDRED_ATTRIBUTE_CACHE__",e,(function(){function t(t){var n=o.get(t);return n||(n=e(t),o.set(t,n)),n}function e(t){if(!(this instanceof e)){var n=t.getExtension("OES_vertex_array_object");return n||t.createVertexArray?new r(t,n):new e(t)}this.gl=t,this.dirty=!0,this.limit=t.getParameter(t.MAX_VERTEX_ATTRIBS),this.enabled=new Uint8Array(this.limit),this.updated=new Uint8Array(this.limit)}function r(t,e){this.gl=t,this.ext=e||null,this.limit=t.getParameter(t.MAX_VERTEX_ATTRIBS),this.index={},this.setup={},delete this.index.x,delete this.setup.x}var o=new WeakMap;n.get=t,e.prototype.init=function(t){this.dirty=!0;for(var e=0;e<this.limit;e++)this.updated[e]=0},e.prototype.enable=function(t,e){this.dirty=!0,this.enabled[e]||(this.gl.enableVertexAttribArray(e),this.enabled[e]=1)},e.prototype.disable=function(t,e){this.dirty=!0,this.enabled[e]&&(this.gl.disableVertexAttribArray(e),this.enabled[e]=0)},e.prototype.done=function(t){if(this.dirty)for(var e=0;e<this.limit;e++)!this.enabled[e]&&this.updated[e]?(this.disable(t,e),this.updated[e]=0):this.updated[e]=1;this.dirty=!0},e.prototype.dispose=function(t){},e.prototype.shouldBind=function(t){return!0},r.prototype.init=function(t){this.index[t]||(this.ext?this.index[t]=this.ext.createVertexArrayOES():this.index[t]=this.gl.createVertexArray()),this.ext?this.ext.bindVertexArrayOES(this.index[t]):this.gl.bindVertexArray(this.index[t])},r.prototype.enable=function(t,e){this.setup[t]||this.gl.enableVertexAttribArray(e)},r.prototype.disable=function(t,e){this.setup[t]||this.gl.disableVertexAttribArray(e)},r.prototype.done=function(t){if(!this.index[t])throw new Error("Unexpectedly calling .done(id) on AttributeCache before calling .init(id)");this.setup[t]||(this.setup[t]=!0)},r.prototype.dispose=function(t){this.index[t]&&(this.ext?this.ext.deleteVertexArrayOES(this.index[t]):this.gl.deleteVertexArray(this.index[t]),delete this.index[t],delete this.setup[t])},r.prototype.shouldBind=function(t){return!this.setup[t]}}))}),{1:4}],119:[(function(t,e,n){function r(t,e,n,r){return e&&(t=s(i(t,n),i(e,3))),"number"==typeof t[0]?o(t,r):u(t,r)}function o(t,e){var n=a(t);return n===e?t:new(c(e))(t)}function i(t,e){if("number"!=typeof t[0])return t;for(var n=[],r=[],o=0,i=0,a=0;o<t.length;o++)r[i++]=t[o],i===e&&(n[a++]=r,r=[],i=0);return n}var a=t(2),s=t(4),u=t(1),c=t(3);e.exports=r}),{1:7,2:33,3:47,4:189}],120:[(function(t,e,n){e.exports=t(1),e.exports.Scene=t(2)}),{1:121,2:122}],121:[(function(t,e,n){function r(t){return this instanceof r?(o.call(this,t),this._componentList=[],this._componentIndex={},delete this._componentIndex.x,void(this.data.visible=!(t&&"visible"in t)||t.visible)):new r(t)}var o=t(2),i=t(1);e.exports=r,i(r,o),r.prototype.use=function(t,e){var n=new t,r=n._name;if(this._componentIndex[r])throw new Error("You may only include one component of each type per node");return this._componentIndex[r]=n,this._componentList.push(n),this.resetLists(),n.init(this,e),this},r.prototype.unuse=function(t){throw this.resetLists(),t=t&&t._name?t._name:t,new Error("TODO: unuse()")},r.prototype.component=function(t){return t=t&&t._name?t._name:t,this._componentIndex[t]},r.prototype.components=function(){return this._componentList}}),{1:110,2:163}],122:[(function(t,e,n){function r(t){if(!(this instanceof r))return new r(t);u.call(this,t),this._projection=null,this._eachSorter=this.list();var e=this.data;e.fog=e.fog||!1,"background"in e||(e.background=[0,0,0,1]),e.fog&&3===e.fog.length&&(e.fog[3]=1),e.background&&3===e.background.length&&(e.background[3]=1),e.frame=e.frame||0}function o(t){function e(e,n){for(var r=e._componentList,o=0;o<r.length;o++){var i=r[o];i[t](n)}}return function(t,n){e(this,n);for(var r=0;r<t.length;r++)e(t[r],n)}}function i(t,e){return s(h,Math.PI/4,t/e,.1,500)}var a=t(2),s=t(5),u=t(1),c=t(4),l=t(6),f=t(3),h=new Float32Array(16),d=new Float32Array(3),p={background:null,proj:null,view:null,eye:null,fog:null,gl:null};delete p.x,e.exports=r,l(r,u),r.prototype.loop=function(t,e){function n(){if(i){var r=t.width,a=t.height;o.enable(o.DEPTH_TEST),o.enable(o.CULL_FACE),e(o,r,a),window.requestAnimationFrame(n)}}if("function"==typeof t&&(e=t,t=null),!t){var r=this.data.pixelRatio||1;t=document.createElement("canvas"),document.body.appendChild(t),window.addEventListener("resize",f(t,null,r),!1)}var o=t.getContext("webgl")||t.getContext("experimental-webgl"),i=!0;return window.requestAnimationFrame(n),function(){i=!1}},r.prototype.perspective=function(t,e,n,r,o){return this._projection||(this._projection=new Float32Array(16)),s(this._projection,t,e/n,r,o)},r.prototype.step=function(t){this.data.frame++;var e=this._eachSorter();this._eachPreStep(e,t),this._eachStep(e,t),this._eachPostStep(e,t),this.tick()},r.prototype.getFrameProps=function(t,e,n){return p.proj=this._projection||i(e,n),p.view=t.data?a(t):t,p.background=this.data.background,p.fog=this.data.fog,p.eye=c(p.view,d),p.frame=this.data.frame,p.width=e,p.height=n,p},r.prototype._eachStep=o("step"),r.prototype._eachPreStep=o("preStep"),r.prototype._eachPostStep=o("postStep")}),{1:121,2:123,3:29,4:64,5:81,6:110}],123:[(function(t,e,n){function r(t){return h[0]=0,h[1]=0,h[2]=1,d[0]=0,d[1]=1,d[2]=0,s(f,t.data.position),o(h,h,t.data.rotation),o(d,d,t.data.rotation),f[0]+=h[0],f[1]+=h[1],f[2]+=h[2],u(l,t.data.position,f,d),t.parent&&i(l,l,a(c,t.parent.modelMatrix)),l}var o=t(5),i=t(3),a=t(1),s=t(4),u=t(2),c=new Float32Array(16),l=new Float32Array(16),f=new Float32Array(3),h=new Float32Array(3),d=new Float32Array(3);e.exports=r}),{1:77,2:78,3:79,4:91,5:93}],124:[(function(t,e,n){function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a=(function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}})(),s=t(1),u=4,c=null,l=null,f=null;e.exports=(function(t){function e(){return r(this,e),o(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return i(e,t),a(e,[{key:"init",value:function(t,e){this.node=t,this.geometry=e.geometry,this.shader=e.shader,this.uniforms=e.uniforms||null,this.textures=e.textures||{},this.drawStart=e.drawStart,this.drawCount=e.drawCount,this.zIndex=e.zIndex||0,this.stopped=!1,this.primitive="number"==typeof e.primitive?e.primitive:u}},{key:"stop",value:function(){this.geometry=null,this.shader=null,this.node=null,this.stopped=!0}},{key:"draw",value:function(t){if(!this.stopped&&this.node.data.visible){var e=this.shader,n=!1,r=t.gl,o=e.uniforms;if((e!==c||t.frame>l)&&(e.bind(r),o.uFrame=t.frame,o.uProj=t.proj,o.uView=t.view,o.uFog=t.fog,o.uEye=t.eye,c=e,l=t.frame,n=!0),o.uModel=this.node.modelMatrix,o.uNormal=this.node.normalMatrix,this.textures){var i=0;for(var a in this.textures){var s=this.textures[a];"number"==typeof s?o[a]=s:s&&(o[a]=s.bind(r,i++))}}null!==this.uniforms&&this.uniforms(r,this.node,o),(n||f!==this.geometry)&&(this.geometry.bind(r,e.attributes),f=this.geometry),this.geometry.draw(r,this.primitive,this.drawStart,this.drawCount)}}}]),e})(s("render"))}),{1:115}],125:[(function(t,e,n){function r(t){return function(e,n){for(var r=0;r<e.length;r++)for(var o=e[r]._componentList,i=0;i<o.length;i++)o[i][t](n)}}function o(t,e){var n=t.component(i),r=e.component(i);if(!n)return-1;if(!r)return 1;if(n.zIndex!==r.zIndex)return n.zIndex-r.zIndex;var o=n.shader.id,a=n.shader.id;if(o!==a)return o-a;var s=n.geometry.id,u=r.geometry.id;
return s!==u?s-u:0}var i=e.exports=t(1),a="_kindredRendererSorter_"+Math.random().toString(36).slice(2),s="_kindredRendererSortFn_"+Math.random().toString(36).slice(2);i.draw=function(t,e,n){var r=e.getFrameProps(n,t.canvas.width,t.canvas.height),i=e.data.background;i&&(t.clearColor(i[0],i[1],i[2],i[3]),t.clear(t.COLOR_BUFFER_BIT|t.DEPTH_BUFFER_BIT)),t.viewport(0,0,t.canvas.width,t.canvas.height);var f=e.data.drawSort||o,h=e[s];e[a]&&f===h||(e[a]=e.list(f),e[s]=f);var d=e[a]();r.gl=t,c(d,r),l(d,r),u(d,r),r.gl=null};var u=r("postDraw"),c=r("preDraw"),l=r("draw")}),{1:124}],126:[(function(t,e,n){function r(t,e,n,r){function a(t){for(var e=Object.keys(t),n=0;n<e.length;n++){var r=e[n],i=Object.getOwnPropertyDescriptor(t,r);i.configurable&&(a(t[r]),o(t,r))}}r=r||{},n=n||c(t,e).uniforms,n.sort(u);for(var s={},l=0;l<n.length;l++){var f=n[l].name,h=n[l].type,d=[],p=f.replace(/\[\d+\]|\.[^\.\[]+/g,(function(t){var e=!t.indexOf("[");return t=e?t.slice(1,-1):t.slice(1),d.push({key:t,isArray:e}),""}));if(d.unshift({key:p,isArray:!1}),d.length<=1)i(t,e,s,f,f,h,r);else{for(var v=s,g=0;g<d.length-1;g++){var m=d[g];v[m.key]=v[m.key]||(d[g+1].isArray?[]:{}),v=v[m.key]}i(t,e,v,d[d.length-1].key,f,h,r)}}return a(s),s}function o(t,e){var n=t[e];Object.defineProperty(t,e,{get:function(){return n},set:function(t){for(var e in t)n[e]=t[e]},enumerable:!0,configurable:!1})}function i(t,e,n,r,o,i,u){function c(e){return x=e,t[_](w,!1,x)}function l(e){if(x!==e)return x=e,t[_](w,x)}function f(t){switch(t){case 1:return d;case 2:return p;case 3:return v;case 4:return g;default:return h}}function h(e){return x=e,t[_](w,x)}function d(e){if(x[0]!==e[0])return x=e,t[_](w,x)}function p(e){if(x[0]!==e[0]||x[1]!==e[1])return x=e,t[_](w,x)}function v(e){if(x[0]!==e[0]||x[1]!==e[1]||x[2]!==e[2])return x=e,t[_](w,x)}function g(e){if(x[0]!==e[0]||x[1]!==e[1]||x[2]!==e[2]||x[3]!==e[3])return x=e,t[_](w,x)}var m,y=!("cacheScalars"in u)||u.cacheScalars,b=!!u.cacheVectors,w=t.getUniformLocation(e,o),_=s(i,o),E=0===i.indexOf("mat"),x=a(i,o),A=!Array.isArray(x);m=E?c:A?y?l:h:b?f(x.length):h,Object.defineProperty(n,r,{get:function(){return x},set:m,enumerable:!0,configurable:!1})}function a(t,e){switch(t){case"bool":return!1;case"int":case"float":case"sampler":case"sampler2D":case"samplerCube":return 0}var n=t.indexOf("vec");if(n>=0&&n<=1&&t.length===4+n){var r=parseInt(t.charAt(t.length-1),10);if(r<2||r>4)throw new Error("Invalid data type ("+t+') for uniform "'+e+'"');return"b"===t.charAt(0)?l(r,!1):l(r,0)}if(0===t.indexOf("mat")&&4===t.length){var o=parseInt(t.charAt(t.length-1),10);if(o<2||o>4)throw new Error("Invalid data type ("+t+') for uniform "'+e+'"');return l(o*o,0)}throw new Error("Invalid data type ("+t+') for uniform "'+e+'"')}function s(t,e){switch(t){case"float":return"uniform1f";case"bool":case"int":case"sampler":case"sampler2D":case"samplerCube":return"uniform1i"}var n=t.indexOf("vec"),r=parseInt(t.charAt(t.length-1),10);if(r<2||r>4)throw new Error("Invalid data type ("+t+') for uniform "'+e+'"');if(n>=0&&n<=1&&t.length===4+n){switch(t.charAt(0)){case"b":case"i":return"uniform"+r+"iv";case"v":return"uniform"+r+"fv"}throw new Error("Invalid data type ("+t+') for uniform "'+e+'"')}if(0===t.indexOf("mat")&&4===t.length)return"uniformMatrix"+r+"fv";throw new Error("Invalid data type ("+t+') for uniform "'+e+'"')}function u(t,e){return t.name.localeCompare(e.name)}var c=t(2),l=t(1);e.exports=r}),{1:48,2:88}],127:[(function(t,e,n){function r(t,e){return new o(t,e)}function o(t,e){this.gl=null,this.id=u++,this.program=null,this.vertShader=null,this.fragShader=null,this._vertSource=t,this._fragSource=e,this.compiled=!1,this.uniforms={},this.attributes={}}var i=t(1),a=t(2),s=t(3);e.exports=r;var u=parseInt(Math.random().toString(32).slice(2,10),32);Object.defineProperties(o.prototype,{frag:{get:function(){return this._fragSource}},vert:{get:function(){return this._vertSource}}}),o.prototype.bind=function(t){if(null===this.gl){if(!t)throw new Error(".bind() must be called with a WebGL context at least once.");this._setup(t)}else{if(t&&this.gl!==t)throw new Error("Shaders can only support one context at a time.");this.compiled||this._setup(t)}return this.gl.useProgram(this.program),this},o.prototype._bail=function(t,e){throw t&&(e+="\n"+i(t)),new Error("\n"+e+"\n")},o.prototype._setup=function(t){if(!t)throw new Error("._setup() needs to be called with a WebGLRenderingContext");if(this.gl&&this.compiled)throw new Error("._setup() called unexpectedly");if(this.gl=t,this.program=t.createProgram(),this.vertShader=t.createShader(t.VERTEX_SHADER),this.fragShader=t.createShader(t.FRAGMENT_SHADER),t.shaderSource(this.vertShader,this.vert),t.shaderSource(this.fragShader,this.frag),t.compileShader(this.vertShader),t.compileShader(this.fragShader),!t.getShaderParameter(this.vertShader,t.COMPILE_STATUS))return this._bail(this.vert,t.getShaderInfoLog(this.vertShader));if(!t.getShaderParameter(this.fragShader,t.COMPILE_STATUS))return this._bail(this.frag,t.getShaderInfoLog(this.fragShader));if(t.attachShader(this.program,this.vertShader),t.attachShader(this.program,this.fragShader),t.linkProgram(this.program),!t.getProgramParameter(this.program,t.LINK_STATUS))return this._bail("",t.getProgramInfoLog(this.program));t.useProgram(this.program);var e=s(t,this.program);this.compiled=!0,this.uniforms=a(t,this.program,e.uniforms),this.attributes={};for(var n=0;n<e.attributes.length;n++){var r=e.attributes[n].name;Object.defineProperty(this.attributes,r,{value:t.getAttribLocation(this.program,r),enumerable:!0,configurable:!1})}},o.prototype.dispose=function(){if(this.gl){var t=this.gl;t.deleteShader(this.vertShader),t.deleteShader(this.fragShader),t.deleteProgram(this.program),this.gl=null,this.program=null,this.uniforms=null,this.attributes=null,this.vertShader=null,this.fragShader=null}},o.prototype.recompile=function(t,e){var n=this.gl,r=this._vertSource,o=this._fragSource;this.dispose(),this._vertSource=t,this._fragSource=e;try{this.bind(n)}catch(t){throw this._vertSource=r,this._fragSource=o,this.bind(n),t}},o.prototype.copy=function(){return new o(this.vert,this.frag)},o.prototype.toJSON=function(){return{vert:this.vert,frag:this.frag,uniforms:this.uniforms,attributes:this.attributes}}}),{1:5,2:126,3:88}],128:[(function(t,e,n){function r(){return this instanceof r?(this.gl=null,this.texture=null,this.hasContent=!1,this.type=a,this.shape=new Float32Array(3),this.format=s,this.minFilter=u,this.magFilter=u,this.wrap=[c,c],this._loadedWith=null,void(this.isLoaded=!0)):new r}function o(t,e){switch(e){case 1:return t.LUMINANCE;case 2:return t.LUMINANCE_ALPHA;case 4:return t.RGBA}throw new Error("Invalid pixel format: textures must have 1, 2 or 4 channels, not "+e)}var i=t(1),a=5121,s=6048,u=9728,c=33071,l=new Uint8Array(4);e.exports=r,r.prototype.bind=function(t,e){if(t=t||this.gl,e=e||0,t&&this.gl&&this.gl!==t)throw new Error("Textures are currently only supported for a single WebGL context");return this.texture?(t.activeTexture(t.TEXTURE0+e),t.bindTexture(t.TEXTURE_2D,this.texture)):(this.gl=t,this.texture=t.createTexture(),t.activeTexture(t.TEXTURE0+e),t.bindTexture(t.TEXTURE_2D,this.texture),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,l)),null!==this._loadedWith&&(this.uploadElement(this._loadedWith),this.setFilters(this.minFilter,this.magFilter),this.setWrapping(this.wrap[0],this.wrap[1]),this._loadedWith=null),e},r.prototype.init=function(t,e){var n=1;return n*=t[0],n*=t[1],n*=t.length>2?t[2]:4,e=e||Uint8Array,this.uploadData(new e(n),t),this.setFilters(this.minFilter,this.magFilter),this.setWrapping(this.wrap[0],this.wrap[1]),this},r.prototype.setFilters=function(t,e){if(!t&&!e)return this;if(1===arguments.length)return this.setFilters(t,t);var n=this.gl;return t&&n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,t),e&&n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MAG_FILTER,e),this.minFilter=t,this.magFilter=e,this},r.prototype.setWrapping=function(t,e){if(!t&&!e)return this;if(1===arguments.length)return this.setWrapping(t,t);var n=this.gl;return t&&n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_S,t),e&&n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_T,e),this.wrap[0]=t,this.wrap[1]=e,this};var f=null;r.prototype.uploadData=function(t,e){var n=this.gl;if(this.bind(),this.shape[0]=e[0],this.shape[1]=e[1],this.shape[2]=e.length>2?e[2]:4,this.format=o(n,this.shape[2]),Array.isArray(t)&&(t=new Uint8Array(t)),t instanceof Float32Array){if(f=f||n.getExtension("OES_TEXTURE_FLOAT"),this.type=n.FLOAT,!f)throw new Error("Floating point textures are not available on this device")}else this.type=n.UNSIGNED_BYTE;return n.pixelStorei(n.UNPACK_ALIGNMENT,this.shape[2]),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1),n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,!1),n.texImage2D(n.TEXTURE_2D,0,this.format,this.shape[0],this.shape[1],0,this.format,this.type,t),this},r.prototype.uploadElement=function(t){var e=this.gl;this.shape[0]=t.naturalWidth||t.width,this.shape[1]=t.naturalHeight||t.height,this.shape[2]=4,this.format=o(e,this.shape[2]),e.pixelStorei(e.UNPACK_ALIGNMENT,this.shape[2]),e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1),e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL,!0),e.texImage2D(e.TEXTURE_2D,0,this.format,this.format,this.type,t)},r.prototype.insertData=function(t,e,n){var r=this.gl;Array.isArray(t)&&(t=this.type===r.FLOAT?new Float32Array(t):new Uint8Array(t));var o=n[0]*n[1]*this.shape[2];if(o!==t.length)throw new Error("Your data should be "+o+" elements long, but is currently "+t.length);return this.bind(),r.pixelStorei(r.UNPACK_ALIGNMENT,this.shape[2]),r.pixelStorei(r.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1),r.pixelStorei(r.UNPACK_FLIP_Y_WEBGL,!1),r.texSubImage2D(r.TEXTURE_2D,0,e[0],e[1],n[0],n[1],this.format,this.type,t),this},r.fromImage=function(t){if("string"==typeof t){var e=t;t=document.createElement("img"),t.src=e}var n=r();return n.isLoaded=!1,i(t,(function(e){if(e)throw e;n.isLoaded=!0,n._loadedWith=t})),n}}),{1:108}],129:[(function(t,e,n){function r(t){this.glyphs=[],this._measure=this.computeMetrics.bind(this),this.update(t)}function o(t){Object.defineProperty(r.prototype,t,{get:i(t),configurable:!0})}function i(t){return new Function(["return function "+t+"() {","  return this._"+t,"}"].join("\n"))()}function a(t,e){if(!t.chars||0===t.chars.length)return null;var n=p(t.chars,e);return n>=0?t.chars[n]:null}function s(t){for(var e=0;e<g.length;e++){var n=g[e].charCodeAt(0),r=p(t.chars,n);if(r>=0)return t.chars[r].height}return 0}function u(t){for(var e=0;e<m.length;e++){var n=m[e].charCodeAt(0),r=p(t.chars,n);if(r>=0)return t.chars[r]}return 0}function c(t){for(var e=0;e<y.length;e++){var n=y[e].charCodeAt(0),r=p(t.chars,n);if(r>=0)return t.chars[r].height}return 0}function l(t,e,n){if(!t.kernings||0===t.kernings.length)return 0;for(var r=t.kernings,o=0;o<r.length;o++){var i=r[o];if(i.first===e&&i.second===n)return i.amount}return 0}function f(t){return"center"===t?E:"right"===t?x:_}var h=t(3),d=t(4),p=t(2)("id"),v=t(1),g=["x","e","a","o","n","s","r","c","u","m","v","w","z"],m=["m","w"],y=["H","I","N","E","F","K","L","T","U","V","W","X","Y","Z"],b="\t".charCodeAt(0),w=" ".charCodeAt(0),_=0,E=1,x=2;e.exports=function(t){return new r(t)},r.prototype.update=function(t){if(t=d({measure:this._measure},t),this._opt=t,this._opt.tabSize=v(this._opt.tabSize,4),!t.font)throw new Error("must provide a valid bitmap font");var e=this.glyphs,n=t.text||"",r=t.font;this._setupSpaceGlyphs(r);var o=h.lines(n,t),i=t.width||0;e.length=0;var a=o.reduce((function(t,e){return Math.max(t,e.width,i)}),0),u=0,p=0,g=v(t.lineHeight,r.common.lineHeight),m=r.common.base,y=g-m,b=t.letterSpacing||0,w=g*o.length-y,_=f(this._opt.align);p-=w,this._width=a,this._height=w,this._descender=g-m,this._baseline=m,this._xHeight=s(r),this._capHeight=c(r),this._lineHeight=g,this._ascender=g-y-this._xHeight;var A=this;o.forEach((function(t,o){for(var i,s=t.start,c=t.end,f=t.width,h=s;h<c;h++){var d=n.charCodeAt(h),v=A.getGlyph(r,d);if(v){i&&(u+=l(r,i.id,v.id));var m=u;_===E?m+=(a-f)/2:_===x&&(m+=a-f),e.push({position:[m,p],data:v,index:h,line:o}),u+=v.xadvance+b,i=v}}p+=g,u=0})),this._linesTotal=o.length},r.prototype._setupSpaceGlyphs=function(t){if(this._fallbackSpaceGlyph=null,this._fallbackTabGlyph=null,t.chars&&0!==t.chars.length){var e=a(t,w)||u(t)||t.chars[0],n=this._opt.tabSize*e.xadvance;this._fallbackSpaceGlyph=e,this._fallbackTabGlyph=d(e,{x:0,y:0,xadvance:n,id:b,xoffset:0,yoffset:0,width:0,height:0})}},r.prototype.getGlyph=function(t,e){var n=a(t,e);return n?n:e===b?this._fallbackTabGlyph:e===w?this._fallbackSpaceGlyph:null},r.prototype.computeMetrics=function(t,e,n,r){var o,i,a=this._opt.letterSpacing||0,s=this._opt.font,u=0,c=0,f=0;if(!s.chars||0===s.chars.length)return{start:e,end:e,width:0};n=Math.min(t.length,n);for(var h=e;h<n;h++){var d=t.charCodeAt(h),o=this.getGlyph(s,d);if(o){var p=(o.xoffset,i?l(s,i.id,o.id):0);u+=p;var v=u+o.xadvance+a,g=u+o.width;if(g>=r||v>=r)break;u=v,c=g,i=o}f++}return i&&(c+=i.xoffset),{start:e,end:e+f,width:c}},["width","height","descender","ascender","xHeight","baseline","capHeight","lineHeight"].forEach(o)}),{1:9,2:109,3:196,4:200}],130:[(function(t,e,n){(function(n){function r(t){var e=Object.prototype.toString;return"[object ArrayBuffer]"===e.call(t)}function o(t){if(h)return f(t,{responseType:"arraybuffer"});if("undefined"==typeof self.XMLHttpRequest)throw new Error("your browser does not support XHR loading");var e=new self.XMLHttpRequest;return e.overrideMimeType("text/plain; charset=x-user-defined"),f({xhr:e},t)}var i=t(6),a=function(){},s=t(3),u=t(5),c=t(4),l=t(1),f=t(7),h=(function(){return self.XMLHttpRequest&&"withCredentials"in new XMLHttpRequest})();e.exports=function(t,e){e="function"==typeof e?e:a,"string"==typeof t?t={uri:t}:t||(t={});var f=t.binary;f&&(t=o(t)),i(t,(function(o,i,f){if(o)return e(o);if(!/^2/.test(i.statusCode))return e(new Error("http status code: "+i.statusCode));if(!f)return e(new Error("no body result"));var h=!1;if(r(f)){var d=new Uint8Array(f);f=new n(d,"binary")}l(f)&&(h=!0,"string"==typeof f&&(f=new n(f,"binary"))),h||(n.isBuffer(f)&&(f=f.toString(t.encoding)),f=f.trim());var p;try{var v=i.headers["content-type"];p=h?c(f):/json/.test(v)||"{"===f.charAt(0)?JSON.parse(f):/xml/.test(v)||"<"===f.charAt(0)?u(f):s(f)}catch(t){e(new Error("error parsing font "+t.message)),e=a}e(null,p)}))}}).call(this,t(2).Buffer)}),{1:131,2:27,3:142,4:143,5:144,6:198,7:200}],131:[(function(t,e,n){(function(n){var r=t(2),o=new n([66,77,70,3]);e.exports=function(t){return"string"==typeof t?"BMF"===t.substring(0,3):t.length>4&&r(t.slice(0,4),o)}}).call(this,t(1).Buffer)}),{1:27,2:26}],132:[(function(t,e,n){function r(t,e,n){"function"==typeof e&&(n=e,e=null);var r,o=document.createElement("img");return o.onload=function(){r||(r=!0,n&&n(void 0,o))},o.onerror=function(){r||(r=!0,n&&n(new Error('Unable to load "'+t+'"'),o))},e&&e.crossOrigin&&(o.crossOrigin=e.crossOrigin),o.src=t,o}e.exports=r}),{}],133:[(function(t,e,n){(function(r){!(function(t){if("object"==typeof n&&"undefined"!=typeof e)e.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var o;o="undefined"!=typeof window?window:"undefined"!=typeof r?r:"undefined"!=typeof self?self:this,o.localforage=t()}})((function(){return (function e(n,r,o){function i(s,u){if(!r[s]){if(!n[s]){var c="function"==typeof t&&t;if(!u&&c)return c(s,!0);if(a)return a(s,!0);var l=new Error("Cannot find module '"+s+"'");throw l.code="MODULE_NOT_FOUND",l}var f=r[s]={exports:{}};n[s][0].call(f.exports,(function(t){var e=n[s][1][t];return i(e?e:t)}),f,f.exports,e,n,r,o)}return r[s].exports}for(var a="function"==typeof t&&t,s=0;s<o.length;s++)i(o[s]);return i})({1:[(function(t,e,n){(function(t){"use strict";function n(){l=!0;for(var t,e,n=f.length;n;){for(e=f,f=[],t=-1;++t<n;)e[t]();n=f.length}l=!1}function r(t){1!==f.push(t)||l||o()}var o,i=t.MutationObserver||t.WebKitMutationObserver;if(i){var a=0,s=new i(n),u=t.document.createTextNode("");s.observe(u,{characterData:!0}),o=function(){u.data=a=++a%2}}else if(t.setImmediate||"undefined"==typeof t.MessageChannel)o="document"in t&&"onreadystatechange"in t.document.createElement("script")?function(){var e=t.document.createElement("script");e.onreadystatechange=function(){n(),e.onreadystatechange=null,e.parentNode.removeChild(e),e=null},t.document.documentElement.appendChild(e)}:function(){setTimeout(n,0)};else{var c=new t.MessageChannel;c.port1.onmessage=n,o=function(){c.port2.postMessage(0)}}var l,f=[];e.exports=r}).call(this,"undefined"!=typeof r?r:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})}),{}],2:[(function(t,e,n){"use strict";function r(){}function o(t){if("function"!=typeof t)throw new TypeError("resolver must be a function");this.state=y,this.queue=[],this.outcome=void 0,t!==r&&u(this,t)}function i(t,e,n){this.promise=t,"function"==typeof e&&(this.onFulfilled=e,this.callFulfilled=this.otherCallFulfilled),"function"==typeof n&&(this.onRejected=n,this.callRejected=this.otherCallRejected)}function a(t,e,n){p((function(){var r;try{r=e(n)}catch(e){return v.reject(t,e)}r===t?v.reject(t,new TypeError("Cannot resolve promise with itself")):v.resolve(t,r)}))}function s(t){var e=t&&t.then;if(t&&"object"==typeof t&&"function"==typeof e)return function(){e.apply(t,arguments)}}function u(t,e){function n(e){i||(i=!0,v.reject(t,e))}function r(e){i||(i=!0,v.resolve(t,e))}function o(){e(r,n)}var i=!1,a=c(o);"error"===a.status&&n(a.value)}function c(t,e){var n={};try{n.value=t(e),n.status="success"}catch(t){n.status="error",n.value=t}return n}function l(t){return t instanceof this?t:v.resolve(new this(r),t)}function f(t){var e=new this(r);return v.reject(e,t)}function h(t){function e(t,e){function r(t){a[e]=t,++s!==o||i||(i=!0,v.resolve(c,a))}n.resolve(t).then(r,(function(t){i||(i=!0,v.reject(c,t))}))}var n=this;if("[object Array]"!==Object.prototype.toString.call(t))return this.reject(new TypeError("must be an array"));var o=t.length,i=!1;if(!o)return this.resolve([]);for(var a=new Array(o),s=0,u=-1,c=new this(r);++u<o;)e(t[u],u);return c}function d(t){function e(t){n.resolve(t).then((function(t){i||(i=!0,v.resolve(s,t))}),(function(t){i||(i=!0,v.reject(s,t))}))}var n=this;if("[object Array]"!==Object.prototype.toString.call(t))return this.reject(new TypeError("must be an array"));var o=t.length,i=!1;if(!o)return this.resolve([]);for(var a=-1,s=new this(r);++a<o;)e(t[a]);return s}var p=t(1),v={},g=["REJECTED"],m=["FULFILLED"],y=["PENDING"];e.exports=n=o,o.prototype.catch=function(t){return this.then(null,t)},o.prototype.then=function(t,e){if("function"!=typeof t&&this.state===m||"function"!=typeof e&&this.state===g)return this;var n=new this.constructor(r);if(this.state!==y){var o=this.state===m?t:e;a(n,o,this.outcome)}else this.queue.push(new i(n,t,e));return n},i.prototype.callFulfilled=function(t){v.resolve(this.promise,t)},i.prototype.otherCallFulfilled=function(t){a(this.promise,this.onFulfilled,t)},i.prototype.callRejected=function(t){v.reject(this.promise,t)},i.prototype.otherCallRejected=function(t){a(this.promise,this.onRejected,t)},v.resolve=function(t,e){var n=c(s,e);if("error"===n.status)return v.reject(t,n.value);var r=n.value;if(r)u(t,r);else{t.state=m,t.outcome=e;for(var o=-1,i=t.queue.length;++o<i;)t.queue[o].callFulfilled(e)}return t},v.reject=function(t,e){t.state=g,t.outcome=e;for(var n=-1,r=t.queue.length;++n<r;)t.queue[n].callRejected(e);return t},n.resolve=l,n.reject=f,n.all=h,n.race=d}),{1:1}],3:[(function(t,e,n){(function(e){"use strict";"function"!=typeof e.Promise&&(e.Promise=t(2))}).call(this,"undefined"!=typeof r?r:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})}),{2:2}],4:[(function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(){try{if("undefined"!=typeof indexedDB)return indexedDB;if("undefined"!=typeof webkitIndexedDB)return webkitIndexedDB;if("undefined"!=typeof mozIndexedDB)return mozIndexedDB;if("undefined"!=typeof OIndexedDB)return OIndexedDB;if("undefined"!=typeof msIndexedDB)return msIndexedDB}catch(t){}}function i(){try{if(!at)return!1;var t="undefined"!=typeof openDatabase&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),e="function"==typeof fetch&&fetch.toString().indexOf("[native code")!==-1;return(!t||e)&&"undefined"!=typeof indexedDB&&"undefined"!=typeof IDBKeyRange}catch(t){return!1}}function a(){return"function"==typeof openDatabase}function s(){try{return"undefined"!=typeof localStorage&&"setItem"in localStorage&&localStorage.setItem}catch(t){return!1}}function u(t,e){t=t||[],e=e||{};try{return new Blob(t,e)}catch(i){if("TypeError"!==i.name)throw i;for(var n="undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof MSBlobBuilder?MSBlobBuilder:"undefined"!=typeof MozBlobBuilder?MozBlobBuilder:WebKitBlobBuilder,r=new n,o=0;o<t.length;o+=1)r.append(t[o]);return r.getBlob(e.type)}}function c(t,e){e&&t.then((function(t){e(null,t)}),(function(t){e(t)}))}function l(t,e,n){"function"==typeof e&&t.then(e),"function"==typeof n&&t.catch(n)}function f(t){for(var e=t.length,n=new ArrayBuffer(e),r=new Uint8Array(n),o=0;o<e;o++)r[o]=t.charCodeAt(o);return n}function h(t){return new ct(function(e){var n=t.transaction(lt,"readwrite"),r=u([""]);n.objectStore(lt).put(r,"key"),n.onabort=function(t){t.preventDefault(),t.stopPropagation(),e(!1)},n.oncomplete=function(){var t=navigator.userAgent.match(/Chrome\/(\d+)/),n=navigator.userAgent.match(/Edge\//);e(n||!t||parseInt(t[1],10)>=43)}}).catch((function(){return!1}))}function d(t){return"boolean"==typeof st?ct.resolve(st):h(t).then((function(t){return st=t}))}function p(t){var e=ut[t.name],n={};n.promise=new ct(function(t){n.resolve=t}),e.deferredOperations.push(n),e.dbReady?e.dbReady=e.dbReady.then((function(){return n.promise})):e.dbReady=n.promise}function v(t){var e=ut[t.name],n=e.deferredOperations.pop();n&&n.resolve()}function g(t,e){return new ct(function(n,r){if(t.db){if(!e)return n(t.db);p(t),t.db.close()}var o=[t.name];e&&o.push(t.version);var i=at.open.apply(at,o);e&&(i.onupgradeneeded=function(e){var n=i.result;try{n.createObjectStore(t.storeName),e.oldVersion<=1&&n.createObjectStore(lt)}catch(n){if("ConstraintError"!==n.name)throw n;console.warn('The database "'+t.name+'" has been upgraded from version '+e.oldVersion+" to version "+e.newVersion+', but the storage "'+t.storeName+'" already exists.')}}),i.onerror=function(t){t.preventDefault(),r(i.error)},i.onsuccess=function(){n(i.result),v(t)}})}function m(t){return g(t,!1)}function y(t){return g(t,!0)}function b(t,e){if(!t.db)return!0;var n=!t.db.objectStoreNames.contains(t.storeName),r=t.version<t.db.version,o=t.version>t.db.version;if(r&&(t.version!==e&&console.warn('The database "'+t.name+"\" can't be downgraded from version "+t.db.version+" to version "+t.version+"."),t.version=t.db.version),o||n){if(n){var i=t.db.version+1;i>t.version&&(t.version=i)}return!0}return!1}function w(t){return new ct(function(e,n){var r=new FileReader;r.onerror=n,r.onloadend=function(n){var r=btoa(n.target.result||"");e({__local_forage_encoded_blob:!0,data:r,type:t.type})},r.readAsBinaryString(t)})}function _(t){var e=f(atob(t.data));return u([e],{type:t.type})}function E(t){return t&&t.__local_forage_encoded_blob}function x(t){var e=this,n=e._initReady().then((function(){var t=ut[e._dbInfo.name];if(t&&t.dbReady)return t.dbReady}));return l(n,t,t),n}function A(t){function e(){return ct.resolve()}var n=this,r={db:null};if(t)for(var o in t)r[o]=t[o];ut||(ut={});var i=ut[r.name];i||(i={forages:[],db:null,dbReady:null,deferredOperations:[]},ut[r.name]=i),i.forages.push(n),n._initReady||(n._initReady=n.ready,n.ready=x);for(var a=[],s=0;s<i.forages.length;s++){var u=i.forages[s];u!==n&&a.push(u._initReady().catch(e))}var c=i.forages.slice(0);return ct.all(a).then((function(){return r.db=i.db,m(r)})).then((function(t){return r.db=t,b(r,n._defaultConfig.version)?y(r):t})).then((function(t){r.db=i.db=t,n._dbInfo=r;for(var e=0;e<c.length;e++){var o=c[e];o!==n&&(o._dbInfo.db=r.db,o._dbInfo.version=r.version)}}))}function S(t,e){var n=this;"string"!=typeof t&&(console.warn(t+" used as a key, but it is not a string."),t=String(t));var r=new ct(function(e,r){n.ready().then((function(){var o=n._dbInfo,i=o.db.transaction(o.storeName,"readonly").objectStore(o.storeName),a=i.get(t);a.onsuccess=function(){var t=a.result;void 0===t&&(t=null),E(t)&&(t=_(t)),e(t)},a.onerror=function(){r(a.error)}})).catch(r)});return c(r,e),r}function O(t,e){var n=this,r=new ct(function(e,r){n.ready().then((function(){var o=n._dbInfo,i=o.db.transaction(o.storeName,"readonly").objectStore(o.storeName),a=i.openCursor(),s=1;a.onsuccess=function(){var n=a.result;if(n){var r=n.value;E(r)&&(r=_(r));var o=t(r,n.key,s++);void 0!==o?e(o):n.continue()}else e()},a.onerror=function(){r(a.error)}})).catch(r)});return c(r,e),r}function C(t,e,n){var r=this;"string"!=typeof t&&(console.warn(t+" used as a key, but it is not a string."),t=String(t));var o=new ct(function(n,o){var i;r.ready().then((function(){return i=r._dbInfo,"[object Blob]"===ft.call(e)?d(i.db).then((function(t){return t?e:w(e)})):e})).then((function(e){var r=i.db.transaction(i.storeName,"readwrite"),a=r.objectStore(i.storeName),s=a.put(e,t);null===e&&(e=void 0),r.oncomplete=function(){void 0===e&&(e=null),n(e)},r.onabort=r.onerror=function(){var t=s.error?s.error:s.transaction.error;o(t)}})).catch(o)});return c(o,n),o}function T(t,e){var n=this;"string"!=typeof t&&(console.warn(t+" used as a key, but it is not a string."),t=String(t));var r=new ct(function(e,r){n.ready().then((function(){var o=n._dbInfo,i=o.db.transaction(o.storeName,"readwrite"),a=i.objectStore(o.storeName),s=a.delete(t);i.oncomplete=function(){e()},i.onerror=function(){r(s.error)},i.onabort=function(){var t=s.error?s.error:s.transaction.error;r(t)}})).catch(r)});return c(r,e),r}function R(t){var e=this,n=new ct(function(t,n){e.ready().then((function(){var r=e._dbInfo,o=r.db.transaction(r.storeName,"readwrite"),i=o.objectStore(r.storeName),a=i.clear();o.oncomplete=function(){t()},o.onabort=o.onerror=function(){var t=a.error?a.error:a.transaction.error;n(t)}})).catch(n)});return c(n,t),n}function P(t){var e=this,n=new ct(function(t,n){e.ready().then((function(){var r=e._dbInfo,o=r.db.transaction(r.storeName,"readonly").objectStore(r.storeName),i=o.count();i.onsuccess=function(){t(i.result)},i.onerror=function(){n(i.error)}})).catch(n)});return c(n,t),n}function I(t,e){var n=this,r=new ct(function(e,r){return t<0?void e(null):void n.ready().then((function(){var o=n._dbInfo,i=o.db.transaction(o.storeName,"readonly").objectStore(o.storeName),a=!1,s=i.openCursor();s.onsuccess=function(){var n=s.result;return n?void(0===t?e(n.key):a?e(n.key):(a=!0,n.advance(t))):void e(null)},s.onerror=function(){r(s.error)}})).catch(r)});return c(r,e),r}function k(t){var e=this,n=new ct(function(t,n){e.ready().then((function(){var r=e._dbInfo,o=r.db.transaction(r.storeName,"readonly").objectStore(r.storeName),i=o.openCursor(),a=[];i.onsuccess=function(){var e=i.result;return e?(a.push(e.key),void e.continue()):void t(a)},i.onerror=function(){n(i.error)}})).catch(n)});return c(n,t),n}function M(t){var e,n,r,o,i,a=.75*t.length,s=t.length,u=0;"="===t[t.length-1]&&(a--,"="===t[t.length-2]&&a--);var c=new ArrayBuffer(a),l=new Uint8Array(c);for(e=0;e<s;e+=4)n=dt.indexOf(t[e]),r=dt.indexOf(t[e+1]),o=dt.indexOf(t[e+2]),i=dt.indexOf(t[e+3]),l[u++]=n<<2|r>>4,l[u++]=(15&r)<<4|o>>2,l[u++]=(3&o)<<6|63&i;return c}function L(t){var e,n=new Uint8Array(t),r="";for(e=0;e<n.length;e+=3)r+=dt[n[e]>>2],r+=dt[(3&n[e])<<4|n[e+1]>>4],r+=dt[(15&n[e+1])<<2|n[e+2]>>6],r+=dt[63&n[e+2]];return n.length%3===2?r=r.substring(0,r.length-1)+"=":n.length%3===1&&(r=r.substring(0,r.length-2)+"=="),r}function F(t,e){var n="";if(t&&(n=Pt.call(t)),t&&("[object ArrayBuffer]"===n||t.buffer&&"[object ArrayBuffer]"===Pt.call(t.buffer))){var r,o=gt;t instanceof ArrayBuffer?(r=t,o+=yt):(r=t.buffer,"[object Int8Array]"===n?o+=wt:"[object Uint8Array]"===n?o+=_t:"[object Uint8ClampedArray]"===n?o+=Et:"[object Int16Array]"===n?o+=xt:"[object Uint16Array]"===n?o+=St:"[object Int32Array]"===n?o+=At:"[object Uint32Array]"===n?o+=Ot:"[object Float32Array]"===n?o+=Ct:"[object Float64Array]"===n?o+=Tt:e(new Error("Failed to get type for BinaryArray"))),e(o+L(r))}else if("[object Blob]"===n){var i=new FileReader;i.onload=function(){var n=pt+t.type+"~"+L(this.result);e(gt+bt+n)},i.readAsArrayBuffer(t)}else try{e(JSON.stringify(t))}catch(n){console.error("Couldn't convert value into a JSON string: ",t),e(null,n)}}function N(t){if(t.substring(0,mt)!==gt)return JSON.parse(t);var e,n=t.substring(Rt),r=t.substring(mt,Rt);if(r===bt&&vt.test(n)){var o=n.match(vt);e=o[1],n=n.substring(o[0].length)}var i=M(n);switch(r){case yt:return i;case bt:return u([i],{type:e});case wt:return new Int8Array(i);case _t:return new Uint8Array(i);case Et:return new Uint8ClampedArray(i);case xt:return new Int16Array(i);case St:return new Uint16Array(i);case At:return new Int32Array(i);case Ot:return new Uint32Array(i);case Ct:return new Float32Array(i);case Tt:return new Float64Array(i);default:throw new Error("Unkown type: "+r)}}function D(t){var e=this,n={db:null};if(t)for(var r in t)n[r]="string"!=typeof t[r]?t[r].toString():t[r];var o=new ct(function(t,r){try{n.db=openDatabase(n.name,String(n.version),n.description,n.size)}catch(t){return r(t)}n.db.transaction((function(o){o.executeSql("CREATE TABLE IF NOT EXISTS "+n.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],(function(){e._dbInfo=n,t()}),(function(t,e){r(e)}))}))});return n.serializer=It,o}function j(t,e){var n=this;"string"!=typeof t&&(console.warn(t+" used as a key, but it is not a string."),t=String(t));var r=new ct(function(e,r){n.ready().then((function(){var o=n._dbInfo;o.db.transaction((function(n){n.executeSql("SELECT * FROM "+o.storeName+" WHERE key = ? LIMIT 1",[t],(function(t,n){var r=n.rows.length?n.rows.item(0).value:null;r&&(r=o.serializer.deserialize(r)),e(r)}),(function(t,e){r(e)}))}))})).catch(r)});return c(r,e),r}function U(t,e){var n=this,r=new ct(function(e,r){n.ready().then((function(){var o=n._dbInfo;o.db.transaction((function(n){n.executeSql("SELECT * FROM "+o.storeName,[],(function(n,r){for(var i=r.rows,a=i.length,s=0;s<a;s++){var u=i.item(s),c=u.value;if(c&&(c=o.serializer.deserialize(c)),c=t(c,u.key,s+1),void 0!==c)return void e(c)}e()}),(function(t,e){r(e)}))}))})).catch(r)});return c(r,e),r}function B(t,e,n,r){var o=this;"string"!=typeof t&&(console.warn(t+" used as a key, but it is not a string."),t=String(t));var i=new ct(function(i,a){o.ready().then((function(){void 0===e&&(e=null);var s=e,u=o._dbInfo;u.serializer.serialize(e,(function(e,c){c?a(c):u.db.transaction((function(n){n.executeSql("INSERT OR REPLACE INTO "+u.storeName+" (key, value) VALUES (?, ?)",[t,e],(function(){i(s)}),(function(t,e){a(e)}))}),(function(e){if(e.code===e.QUOTA_ERR){if(r>0)return void i(B.apply(o,[t,s,n,r-1]));a(e)}}))}))})).catch(a)});return c(i,n),i}function z(t,e,n){return B.apply(this,[t,e,n,1])}function V(t,e){var n=this;"string"!=typeof t&&(console.warn(t+" used as a key, but it is not a string."),t=String(t));var r=new ct(function(e,r){n.ready().then((function(){var o=n._dbInfo;o.db.transaction((function(n){n.executeSql("DELETE FROM "+o.storeName+" WHERE key = ?",[t],(function(){e()}),(function(t,e){r(e)}))}))})).catch(r)});return c(r,e),r}function W(t){var e=this,n=new ct(function(t,n){e.ready().then((function(){var r=e._dbInfo;r.db.transaction((function(e){e.executeSql("DELETE FROM "+r.storeName,[],(function(){t()}),(function(t,e){n(e)}))}))})).catch(n)});return c(n,t),n}function G(t){var e=this,n=new ct(function(t,n){e.ready().then((function(){var r=e._dbInfo;r.db.transaction((function(e){e.executeSql("SELECT COUNT(key) as c FROM "+r.storeName,[],(function(e,n){var r=n.rows.item(0).c;t(r)}),(function(t,e){n(e)}))}))})).catch(n)});return c(n,t),n}function H(t,e){var n=this,r=new ct(function(e,r){n.ready().then((function(){var o=n._dbInfo;o.db.transaction((function(n){n.executeSql("SELECT key FROM "+o.storeName+" WHERE id = ? LIMIT 1",[t+1],(function(t,n){
var r=n.rows.length?n.rows.item(0).key:null;e(r)}),(function(t,e){r(e)}))}))})).catch(r)});return c(r,e),r}function K(t){var e=this,n=new ct(function(t,n){e.ready().then((function(){var r=e._dbInfo;r.db.transaction((function(e){e.executeSql("SELECT key FROM "+r.storeName,[],(function(e,n){for(var r=[],o=0;o<n.rows.length;o++)r.push(n.rows.item(o).key);t(r)}),(function(t,e){n(e)}))}))})).catch(n)});return c(n,t),n}function q(t){var e=this,n={};if(t)for(var r in t)n[r]=t[r];return n.keyPrefix=n.name+"/",n.storeName!==e._defaultConfig.storeName&&(n.keyPrefix+=n.storeName+"/"),e._dbInfo=n,n.serializer=It,ct.resolve()}function Y(t){var e=this,n=e.ready().then((function(){for(var t=e._dbInfo.keyPrefix,n=localStorage.length-1;n>=0;n--){var r=localStorage.key(n);0===r.indexOf(t)&&localStorage.removeItem(r)}}));return c(n,t),n}function X(t,e){var n=this;"string"!=typeof t&&(console.warn(t+" used as a key, but it is not a string."),t=String(t));var r=n.ready().then((function(){var e=n._dbInfo,r=localStorage.getItem(e.keyPrefix+t);return r&&(r=e.serializer.deserialize(r)),r}));return c(r,e),r}function Z(t,e){var n=this,r=n.ready().then((function(){for(var e=n._dbInfo,r=e.keyPrefix,o=r.length,i=localStorage.length,a=1,s=0;s<i;s++){var u=localStorage.key(s);if(0===u.indexOf(r)){var c=localStorage.getItem(u);if(c&&(c=e.serializer.deserialize(c)),c=t(c,u.substring(o),a++),void 0!==c)return c}}}));return c(r,e),r}function J(t,e){var n=this,r=n.ready().then((function(){var e,r=n._dbInfo;try{e=localStorage.key(t)}catch(t){e=null}return e&&(e=e.substring(r.keyPrefix.length)),e}));return c(r,e),r}function $(t){var e=this,n=e.ready().then((function(){for(var t=e._dbInfo,n=localStorage.length,r=[],o=0;o<n;o++)0===localStorage.key(o).indexOf(t.keyPrefix)&&r.push(localStorage.key(o).substring(t.keyPrefix.length));return r}));return c(n,t),n}function Q(t){var e=this,n=e.keys().then((function(t){return t.length}));return c(n,t),n}function tt(t,e){var n=this;"string"!=typeof t&&(console.warn(t+" used as a key, but it is not a string."),t=String(t));var r=n.ready().then((function(){var e=n._dbInfo;localStorage.removeItem(e.keyPrefix+t)}));return c(r,e),r}function et(t,e,n){var r=this;"string"!=typeof t&&(console.warn(t+" used as a key, but it is not a string."),t=String(t));var o=r.ready().then((function(){void 0===e&&(e=null);var n=e;return new ct(function(o,i){var a=r._dbInfo;a.serializer.serialize(e,(function(e,r){if(r)i(r);else try{localStorage.setItem(a.keyPrefix+t,e),o(n)}catch(t){"QuotaExceededError"!==t.name&&"NS_ERROR_DOM_QUOTA_REACHED"!==t.name||i(t),i(t)}}))})}));return c(o,n),o}function nt(t,e){t[e]=function(){var n=arguments;return t.ready().then((function(){return t[e].apply(t,n)}))}}function rt(){for(var t=1;t<arguments.length;t++){var e=arguments[t];if(e)for(var n in e)e.hasOwnProperty(n)&&(Bt(e[n])?arguments[0][n]=e[n].slice():arguments[0][n]=e[n])}return arguments[0]}function ot(t){for(var e in Ft)if(Ft.hasOwnProperty(e)&&Ft[e]===t)return!0;return!1}var it="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},at=o();"undefined"==typeof Promise&&t(3);var st,ut,ct=Promise,lt="local-forage-detect-blob-support",ft=Object.prototype.toString,ht={_driver:"asyncStorage",_initStorage:A,iterate:O,getItem:S,setItem:C,removeItem:T,clear:R,length:P,key:I,keys:k},dt="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",pt="~~local_forage_type~",vt=/^~~local_forage_type~([^~]+)~/,gt="__lfsc__:",mt=gt.length,yt="arbf",bt="blob",wt="si08",_t="ui08",Et="uic8",xt="si16",At="si32",St="ur16",Ot="ui32",Ct="fl32",Tt="fl64",Rt=mt+yt.length,Pt=Object.prototype.toString,It={serialize:F,deserialize:N,stringToBuffer:M,bufferToString:L},kt={_driver:"webSQLStorage",_initStorage:D,iterate:U,getItem:j,setItem:z,removeItem:V,clear:W,length:G,key:H,keys:K},Mt={_driver:"localStorageWrapper",_initStorage:q,iterate:Z,getItem:X,setItem:et,removeItem:tt,clear:Y,length:Q,key:J,keys:$},Lt={},Ft={INDEXEDDB:"asyncStorage",LOCALSTORAGE:"localStorageWrapper",WEBSQL:"webSQLStorage"},Nt=[Ft.INDEXEDDB,Ft.WEBSQL,Ft.LOCALSTORAGE],Dt=["clear","getItem","iterate","key","keys","length","removeItem","setItem"],jt={description:"",driver:Nt.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1},Ut={};Ut[Ft.INDEXEDDB]=i(),Ut[Ft.WEBSQL]=a(),Ut[Ft.LOCALSTORAGE]=s();var Bt=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)},zt=(function(){function t(e){r(this,t),this.INDEXEDDB=Ft.INDEXEDDB,this.LOCALSTORAGE=Ft.LOCALSTORAGE,this.WEBSQL=Ft.WEBSQL,this._defaultConfig=rt({},jt),this._config=rt({},this._defaultConfig,e),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch((function(){}))}return t.prototype.config=function(t){if("object"===("undefined"==typeof t?"undefined":it(t))){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var e in t){if("storeName"===e&&(t[e]=t[e].replace(/\W/g,"_")),"version"===e&&"number"!=typeof t[e])return new Error("Database version must be a number.");this._config[e]=t[e]}return!("driver"in t&&t.driver)||this.setDriver(this._config.driver)}return"string"==typeof t?this._config[t]:this._config},t.prototype.defineDriver=function(t,e,n){var r=new ct(function(e,n){try{var r=t._driver,o=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver"),i=new Error("Custom driver name already in use: "+t._driver);if(!t._driver)return void n(o);if(ot(t._driver))return void n(i);for(var a=Dt.concat("_initStorage"),s=0;s<a.length;s++){var u=a[s];if(!u||!t[u]||"function"!=typeof t[u])return void n(o)}var c=ct.resolve(!0);"_support"in t&&(c=t._support&&"function"==typeof t._support?t._support():ct.resolve(!!t._support)),c.then((function(n){Ut[r]=n,Lt[r]=t,e()}),n)}catch(t){n(t)}});return l(r,e,n),r},t.prototype.driver=function(){return this._driver||null},t.prototype.getDriver=function(t,e,n){var r=this,o=ct.resolve().then((function(){if(!ot(t)){if(Lt[t])return Lt[t];throw new Error("Driver not found.")}switch(t){case r.INDEXEDDB:return ht;case r.LOCALSTORAGE:return Mt;case r.WEBSQL:return kt}}));return l(o,e,n),o},t.prototype.getSerializer=function(t){var e=ct.resolve(It);return l(e,t),e},t.prototype.ready=function(t){var e=this,n=e._driverSet.then((function(){return null===e._ready&&(e._ready=e._initDriver()),e._ready}));return l(n,t,t),n},t.prototype.setDriver=function(t,e,n){function r(){a._config.driver=a.driver()}function o(t){return a._extend(t),r(),a._ready=a._initStorage(a._config),a._ready}function i(t){return function(){function e(){for(;n<t.length;){var i=t[n];return n++,a._dbInfo=null,a._ready=null,a.getDriver(i).then(o).catch(e)}r();var s=new Error("No available storage method found.");return a._driverSet=ct.reject(s),a._driverSet}var n=0;return e()}}var a=this;Bt(t)||(t=[t]);var s=this._getSupportedDrivers(t),u=null!==this._driverSet?this._driverSet.catch((function(){return ct.resolve()})):ct.resolve();return this._driverSet=u.then((function(){var t=s[0];return a._dbInfo=null,a._ready=null,a.getDriver(t).then((function(t){a._driver=t._driver,r(),a._wrapLibraryMethodsWithReady(),a._initDriver=i(s)}))})).catch((function(){r();var t=new Error("No available storage method found.");return a._driverSet=ct.reject(t),a._driverSet})),l(this._driverSet,e,n),this._driverSet},t.prototype.supports=function(t){return!!Ut[t]},t.prototype._extend=function(t){rt(this,t)},t.prototype._getSupportedDrivers=function(t){for(var e=[],n=0,r=t.length;n<r;n++){var o=t[n];this.supports(o)&&e.push(o)}return e},t.prototype._wrapLibraryMethodsWithReady=function(){for(var t=0;t<Dt.length;t++)nt(this,Dt[t])},t.prototype.createInstance=function(e){return new t(e)},t})(),Vt=new zt;e.exports=Vt}),{3:3}]},{},[4])(4)}))}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})}),{}],134:[(function(t,e,n){function r(t,e,n,r){function a(){if(c===d)return r(null,f);for(;h<e&&!l&&p!==d;)u()}function s(t){return l=!0,r(t)}function u(){var e=p++;h+=1,n(t[e],(function(t,n){return t?s(t):(f[e]=n,c+=1,h-=1,void a())}))}var c=0,l=!1,f=[],h=0,d=t.length,p=0;if(r=o(r||i),"function"!=typeof n)throw new Error("Iterator function must be passed as the third argument");for(var v=0;v<d;v++)f[v]=null;a()}var o=t(1),i=function(){};e.exports=r}),{1:140}],135:[(function(t,e,n){"use strict";function r(t){!h&&p.createRange&&(h=p.createRange(),h.selectNode(p.body));var e;return h&&h.createContextualFragment?e=h.createContextualFragment(t):(e=p.createElement("body"),e.innerHTML=t),e.childNodes[0]}function o(t,e,n){t[n]!==e[n]&&(t[n]=e[n],t[n]?t.setAttribute(n,""):t.removeAttribute(n,""))}function i(){}function a(t,e){var n=t.nodeName,r=e.nodeName;return n===r||!!(e.actualize&&n.charCodeAt(0)<91&&r.charCodeAt(0)>90)&&n===r.toUpperCase()}function s(t,e){return e&&e!==g?p.createElementNS(e,t):p.createElement(t)}function u(t,e){if(e.assignAttributes)e.assignAttributes(t);else{var n,r,o,i,a,s,u=e.attributes;for(n=u.length-1;n>=0;--n)r=u[n],o=r.name,i=r.namespaceURI,a=r.value,i?(o=r.localName||o,s=t.getAttributeNS(i,o),s!==a&&t.setAttributeNS(i,o,a)):(s=t.getAttribute(o),s!==a&&t.setAttribute(o,a));for(u=t.attributes,n=u.length-1;n>=0;--n)r=u[n],r.specified!==!1&&(o=r.name,i=r.namespaceURI,i?(o=r.localName||o,d(e,i,o)||t.removeAttributeNS(i,o)):d(e,null,o)||t.removeAttribute(o))}}function c(t,e){for(var n=t.firstChild;n;){var r=n.nextSibling;e.appendChild(n),n=r}return e}function l(t){return t.id}function f(t,e,n){function o(t){E?E.push(t):E=[t]}function f(t,e){if(t.nodeType===m)for(var n=t.firstChild;n;){var r=void 0;e&&(r=x(n))?o(r):(R(n),n.firstChild&&f(n,e)),n=n.nextSibling}}function h(t,e,n){T(t)!==!1&&(e&&e.removeChild(t),R(t),f(t,n))}function d(t){if(t.nodeType===m)for(var e=t.firstChild;e;){var n=x(e);n&&(k[n]=e),d(e),e=e.nextSibling}}function v(t){S(t);for(var e=t.firstChild;e;){var n=e.nextSibling,r=x(e);if(r){var o=k[r];o&&a(e,o)&&(e.parentNode.replaceChild(o,e),g(o,e))}v(e),e=n}}function g(n,r,i){var s,c=x(r);if(c&&delete k[c],!e.isSameNode||!e.isSameNode(t)){if(!i){if(O(n,r)===!1)return;if(u(n,r),C(n),P(n,r)===!1)return}if("TEXTAREA"!==n.nodeName){var l,f,d,_,E=r.firstChild,S=n.firstChild;t:for(;E;){for(d=E.nextSibling,l=x(E);S;){if(f=S.nextSibling,E.isSameNode&&E.isSameNode(S)){E=d,S=f;continue t}s=x(S);var T=S.nodeType,R=void 0;if(T===E.nodeType&&(T===m?(l?l!==s&&((_=k[l])?S.nextSibling===_?R=!1:(n.insertBefore(_,S),s?o(s):h(S,n,!0),f=S.nextSibling,S=_):R=!1):s&&(R=!1),R=R!==!1&&a(S,E),R&&g(S,E)):T!==y&&T!=b||(R=!0,S.nodeValue=E.nodeValue)),R){E=d,S=f;continue t}s?o(s):h(S,n,!0),S=f}if(l&&(_=k[l])&&a(_,E))n.appendChild(_),g(_,E);else{var I=A(E);I!==!1&&(I&&(E=I),E.actualize&&(E=E.actualize(n.ownerDocument||p)),n.appendChild(E),v(E))}E=d,S=f}for(;S;)f=S.nextSibling,(s=x(S))?o(s):h(S,n,!0),S=f}var M=w[n.nodeName];M&&M(n,r)}}if(n||(n={}),"string"==typeof e)if("#document"===t.nodeName||"HTML"===t.nodeName){var _=e;e=p.createElement("html"),e.innerHTML=_}else e=r(e);var E,x=n.getNodeKey||l,A=n.onBeforeNodeAdded||i,S=n.onNodeAdded||i,O=n.onBeforeElUpdated||i,C=n.onElUpdated||i,T=n.onBeforeNodeDiscarded||i,R=n.onNodeDiscarded||i,P=n.onBeforeElChildrenUpdated||i,I=n.childrenOnly===!0,k={};d(t);var M=t,L=M.nodeType,F=e.nodeType;if(!I)if(L===m)F===m?a(t,e)||(R(t),M=c(t,s(e.nodeName,e.namespaceURI))):M=e;else if(L===y||L===b){if(F===L)return M.nodeValue=e.nodeValue,M;M=e}if(M===e)R(t);else if(g(M,e,I),E)for(var N=0,D=E.length;N<D;N++){var j=k[E[N]];j&&h(j,j.parentNode,!1)}return!I&&M!==t&&t.parentNode&&(M.actualize&&(M=M.actualize(t.ownerDocument||p)),t.parentNode.replaceChild(M,t)),M}var h,d,p="undefined"!=typeof document&&document,v=p?p.body||p.createElement("div"):{},g="http://www.w3.org/1999/xhtml",m=1,y=3,b=8;d=v.hasAttributeNS?function(t,e,n){return t.hasAttributeNS(e,n)}:v.hasAttribute?function(t,e,n){return t.hasAttribute(n)}:function(t,e,n){return!!t.getAttributeNode(n)};var w={OPTION:function(t,e){o(t,e,"selected")},INPUT:function(t,e){o(t,e,"checked"),o(t,e,"disabled"),t.value!==e.value&&(t.value=e.value),d(e,null,"value")||t.removeAttribute("value")},TEXTAREA:function(t,e){var n=e.value;t.value!==n&&(t.value=n),t.firstChild&&(t.firstChild.nodeValue=n)}};e.exports=f}),{}],136:[(function(t,e,n){function r(t,e,n){e=e||t.currentTarget||t.srcElement,Array.isArray(n)||(n=[0,0]);var r=t.clientX||0,i=t.clientY||0,a=o(e);return n[0]=r-a.left,n[1]=i-a.top,n}function o(t){return t===window||t===document||t===document.body?i:t.getBoundingClientRect()}var i={left:0,top:0};e.exports=r}),{}],137:[(function(t,e,n){"use strict";function r(t,e,n){"function"==typeof t&&(n=!!e,e=t,t=window);var r=o("ex",t),i=function(t){n&&t.preventDefault();var o=t.deltaX||0,i=t.deltaY||0,a=t.deltaZ||0,s=t.deltaMode,u=1;switch(s){case 1:u=r;break;case 2:u=window.innerHeight}if(o*=u,i*=u,a*=u,o||i||a)return e(o,i,a,t)};return t.addEventListener("wheel",i),i}var o=t(1);e.exports=r}),{1:184}],138:[(function(t,e,n){"use strict";function r(t){if(null===t||void 0===t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}function o(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},n=0;n<10;n++)e["_"+String.fromCharCode(n)]=n;var r=Object.getOwnPropertyNames(e).map((function(t){return e[t]}));if("0123456789"!==r.join(""))return!1;var o={};return"abcdefghijklmnopqrst".split("").forEach((function(t){o[t]=t})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},o)).join("")}catch(t){return!1}}var i=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable;e.exports=o()?Object.assign:function(t,e){for(var n,o,s=r(t),u=1;u<arguments.length;u++){n=Object(arguments[u]);for(var c in n)i.call(n,c)&&(s[c]=n[c]);if(Object.getOwnPropertySymbols){o=Object.getOwnPropertySymbols(n);for(var l=0;l<o.length;l++)a.call(n,o[l])&&(s[o[l]]=n[o[l]])}}return s}}),{}],139:[(function(t,e,n){function r(t,e){l[t][0]&&0===l[t][2]&&(l[t][0](e),l[t][2]=1)}function o(t,e){l[t][1]&&1===l[t][2]&&(l[t][1](e),l[t][2]=0)}function i(t,e,n){var r=t.target.getAttribute(h);return a(t.oldValue,r)?void(l[r]=l[t.oldValue]):(l[t.oldValue]&&n(t.oldValue,t.target),void(l[r]&&e(r,t.target)))}function a(t,e){return!(!t||!e)&&l[t][3]===l[e][3]}function s(t,e){for(var n=Object.keys(l),r=0;r<t.length;r++){if(t[r]&&t[r].getAttribute&&t[r].getAttribute(h)){var o=t[r].getAttribute(h);n.forEach((function(n){o===n&&e(n,t[r])}))}t[r].childNodes.length>0&&s(t[r].childNodes,e)}}var u=t(1),c=t(2),l=Object.create(null),f="onloadid"+(new Date%9e6).toString(36),h="data-"+f,d=0;if(c&&c.MutationObserver){var p=new MutationObserver(function(t){if(!(Object.keys(l).length<1))for(var e=0;e<t.length;e++)t[e].attributeName!==h?(s(t[e].removedNodes,o),s(t[e].addedNodes,r)):i(t[e],r,o)});p.observe(u.body,{childList:!0,subtree:!0,attributes:!0,attributeOldValue:!0,attributeFilter:[h]})}e.exports=function t(e,n,r,o){return n=n||function(){},r=r||function(){},e.setAttribute(h,"o"+d),l["o"+d]=[n,r,0,o||t.caller],d+=1,e}}),{1:94,2:95}],140:[(function(t,e,n){function r(t){var e=function(){return e.called?e.value:(e.called=!0,e.value=t.apply(this,arguments))};return e.called=!1,e}var o=t(1);e.exports=o(r),r.proto=r((function(){Object.defineProperty(Function.prototype,"once",{value:function(){return r(this)},configurable:!0})}))}),{1:197}],141:[(function(t,e,n){"use strict";var r=t(1);e.exports=function(t,e,n){return n="undefined"!=typeof n?n+"":" ",r(n,e)+t}}),{1:156}],142:[(function(t,e,n){function r(t,e){if(t=t.replace(/\t+/g," ").trim(),!t)return null;var n=t.indexOf(" ");if(n===-1)throw new Error("no named row at line "+e);var r=t.substring(0,n);t=t.substring(n+1),t=t.replace(/letter=[\'\"]\S+[\'\"]/gi,""),t=t.split("="),t=t.map((function(t){return t.trim().match(/(".*?"|[^"\s]+)+(?=\s*|\s*$)/g)}));for(var i=[],a=0;a<t.length;a++){var s=t[a];0===a?i.push({key:s[0],data:""}):a===t.length-1?i[i.length-1].data=o(s[0]):(i[i.length-1].data=o(s[0]),i.push({key:s[1],data:""}))}var u={key:r,data:{}};return i.forEach((function(t){u.data[t.key]=t.data})),u}function o(t){return t&&0!==t.length?0===t.indexOf('"')||0===t.indexOf("'")?t.substring(1,t.length-1):t.indexOf(",")!==-1?i(t):parseInt(t,10):""}function i(t){return t.split(",").map((function(t){return parseInt(t,10)}))}e.exports=function(t){if(!t)throw new Error("no data provided");t=t.toString().trim();var e={pages:[],chars:[],kernings:[]},n=t.split(/\r\n?|\n/g);if(0===n.length)throw new Error("no data in BMFont file");for(var o=0;o<n.length;o++){var i=r(n[o],o);if(i)if("page"===i.key){if("number"!=typeof i.data.id)throw new Error("malformed file at line "+o+" -- needs page id=N");if("string"!=typeof i.data.file)throw new Error("malformed file at line "+o+' -- needs page file="path"');e.pages[i.data.id]=i.data.file}else"chars"===i.key||"kernings"===i.key||("char"===i.key?e.chars.push(i.data):"kerning"===i.key?e.kernings.push(i.data):e[i.key]=i.data)}return e}}),{}],143:[(function(t,e,n){function r(t,e,n){if(n>e.length-1)return 0;var r=e.readUInt8(n++),c=e.readInt32LE(n);switch(n+=4,r){case 1:t.info=o(e,n);break;case 2:t.common=i(e,n);break;case 3:t.pages=a(e,n,c);break;case 4:t.chars=s(e,n,c);break;case 5:t.kernings=u(e,n,c)}return 5+c}function o(t,e){var n={};n.size=t.readInt16LE(e);var r=t.readUInt8(e+2);return n.smooth=r>>7&1,n.unicode=r>>6&1,n.italic=r>>5&1,n.bold=r>>4&1,r>>3&1&&(n.fixedHeight=1),n.charset=t.readUInt8(e+3)||"",n.stretchH=t.readUInt16LE(e+4),n.aa=t.readUInt8(e+6),n.padding=[t.readInt8(e+7),t.readInt8(e+8),t.readInt8(e+9),t.readInt8(e+10)],n.spacing=[t.readInt8(e+11),t.readInt8(e+12)],n.outline=t.readUInt8(e+13),n.face=l(t,e+14),n}function i(t,e){var n={};n.lineHeight=t.readUInt16LE(e),n.base=t.readUInt16LE(e+2),n.scaleW=t.readUInt16LE(e+4),n.scaleH=t.readUInt16LE(e+6),n.pages=t.readUInt16LE(e+8);t.readUInt8(e+10);return n.packed=0,n.alphaChnl=t.readUInt8(e+11),n.redChnl=t.readUInt8(e+12),n.greenChnl=t.readUInt8(e+13),n.blueChnl=t.readUInt8(e+14),n}function a(t,e,n){for(var r=[],o=c(t,e),i=o.length+1,a=n/i,s=0;s<a;s++)r[s]=t.slice(e,e+o.length).toString("utf8"),e+=i;return r}function s(t,e,n){for(var r=[],o=n/20,i=0;i<o;i++){var a={},s=20*i;a.id=t.readUInt32LE(e+0+s),a.x=t.readUInt16LE(e+4+s),a.y=t.readUInt16LE(e+6+s),a.width=t.readUInt16LE(e+8+s),a.height=t.readUInt16LE(e+10+s),a.xoffset=t.readInt16LE(e+12+s),a.yoffset=t.readInt16LE(e+14+s),a.xadvance=t.readInt16LE(e+16+s),a.page=t.readUInt8(e+18+s),a.chnl=t.readUInt8(e+19+s),r[i]=a}return r}function u(t,e,n){for(var r=[],o=n/10,i=0;i<o;i++){var a={},s=10*i;a.first=t.readUInt32LE(e+0+s),a.second=t.readUInt32LE(e+4+s),a.amount=t.readInt16LE(e+8+s),r[i]=a}return r}function c(t,e){for(var n=e;n<t.length&&0!==t[n];n++);return t.slice(e,n)}function l(t,e){return c(t,e).toString("utf8")}var f=[66,77,70];e.exports=function(t){if(t.length<6)throw new Error("invalid buffer length for BMFont");var e=f.every((function(e,n){return t.readUInt8(n)===e}));if(!e)throw new Error("BMFont missing BMF byte header");var n=3,o=t.readUInt8(n++);if(o>3)throw new Error("Only supports BMFont Binary v3 (BMFont App v1.10)");for(var i={kernings:[],chars:[]},a=0;a<5;a++)n+=r(i,t,n);return i}}),{}],144:[(function(t,e,n){function r(t){var e=o(t);return e.reduce((function(t,e){var n=i(e.nodeName);return t[n]=e.nodeValue,t}),{})}function o(t){for(var e=[],n=0;n<t.attributes.length;n++)e.push(t.attributes[n]);return e}function i(t){return u[t.toLowerCase()]||t}var a=t(1),s=t(2),u={scaleh:"scaleH",scalew:"scaleW",stretchh:"stretchH",lineheight:"lineHeight",alphachnl:"alphaChnl",redchnl:"redChnl",greenchnl:"greenChnl",bluechnl:"blueChnl"};e.exports=function(t){t=t.toString();var e=s(t),n={pages:[],chars:[],kernings:[]};["info","common"].forEach((function(t){var o=e.getElementsByTagName(t)[0];o&&(n[t]=a(r(o)))}));var o=e.getElementsByTagName("pages")[0];if(!o)throw new Error("malformed file -- no <pages> element");for(var i=o.getElementsByTagName("page"),u=0;u<i.length;u++){var c=i[u],l=parseInt(c.getAttribute("id"),10),f=c.getAttribute("file");if(isNaN(l))throw new Error('malformed file -- page "id" attribute is NaN');if(!f)throw new Error('malformed file -- needs page "file" attribute');n.pages[parseInt(l,10)]=f}return["chars","kernings"].forEach((function(t){var o=e.getElementsByTagName(t)[0];if(o)for(var i=t.substring(0,t.length-1),s=o.getElementsByTagName(i),u=0;u<s.length;u++){var c=s[u];n[t].push(a(r(c)))}})),n}}),{1:145,2:199}],145:[(function(t,e,n){function r(t){return t.split(",").map((function(t){return parseInt(t,10)}))}var o="chasrset";e.exports=function(t){o in t&&(t.charset=t[o],delete t[o]);for(var e in t)"face"!==e&&"charset"!==e&&("padding"===e||"spacing"===e?t[e]=r(t[e]):t[e]=parseInt(t[e],10));return t}}),{}],146:[(function(t,e,n){var r=t(2),o=t(1),i=function(t){return"[object Array]"===Object.prototype.toString.call(t)};e.exports=function(t){if(!t)return{};var e={};return o(r(t).split("\n"),(function(t){var n=t.indexOf(":"),o=r(t.slice(0,n)).toLowerCase(),a=r(t.slice(n+1));"undefined"==typeof e[o]?e[o]=a:i(e[o])?e[o].push(a):e[o]=[e[o],a]})),e}}),{1:68,2:187}],147:[(function(t,e,n){e.exports=function(t,e){e||(e=[0,""]),t=String(t);var n=parseFloat(t,10);return e[0]=n,e[1]=t.match(/[\d.\-\+]*\s*(.*)/)[1]||"",e}}),{}],148:[(function(t,e,n){(function(t){function e(t,e){for(var n=0,r=t.length-1;r>=0;r--){var o=t[r];"."===o?t.splice(r,1):".."===o?(t.splice(r,1),n++):n&&(t.splice(r,1),n--)}if(e)for(;n--;n)t.unshift("..");return t}function r(t,e){if(t.filter)return t.filter(e);for(var n=[],r=0;r<t.length;r++)e(t[r],r,t)&&n.push(t[r]);return n}var o=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,i=function(t){return o.exec(t).slice(1)};n.resolve=function(){for(var n="",o=!1,i=arguments.length-1;i>=-1&&!o;i--){var a=i>=0?arguments[i]:t.cwd();if("string"!=typeof a)throw new TypeError("Arguments to path.resolve must be strings");a&&(n=a+"/"+n,o="/"===a.charAt(0))}return n=e(r(n.split("/"),(function(t){return!!t})),!o).join("/"),(o?"/":"")+n||"."},n.normalize=function(t){var o=n.isAbsolute(t),i="/"===a(t,-1);return t=e(r(t.split("/"),(function(t){return!!t})),!o).join("/"),t||o||(t="."),t&&i&&(t+="/"),(o?"/":"")+t},n.isAbsolute=function(t){return"/"===t.charAt(0)},n.join=function(){var t=Array.prototype.slice.call(arguments,0);return n.normalize(r(t,(function(t,e){if("string"!=typeof t)throw new TypeError("Arguments to path.join must be strings");return t})).join("/"))},n.relative=function(t,e){function r(t){for(var e=0;e<t.length&&""===t[e];e++);for(var n=t.length-1;n>=0&&""===t[n];n--);return e>n?[]:t.slice(e,n-e+1)}t=n.resolve(t).substr(1),e=n.resolve(e).substr(1);for(var o=r(t.split("/")),i=r(e.split("/")),a=Math.min(o.length,i.length),s=a,u=0;u<a;u++)if(o[u]!==i[u]){s=u;break}for(var c=[],u=s;u<o.length;u++)c.push("..");return c=c.concat(i.slice(s)),c.join("/")},n.sep="/",n.delimiter=":",n.dirname=function(t){var e=i(t),n=e[0],r=e[1];return n||r?(r&&(r=r.substr(0,r.length-1)),n+r):"."},n.basename=function(t,e){var n=i(t)[2];return e&&n.substr(-1*e.length)===e&&(n=n.substr(0,n.length-e.length)),n},n.extname=function(t){return i(t)[3]};var a="b"==="ab".substr(-1)?function(t,e,n){return t.substr(e,n)}:function(t,e,n){return e<0&&(e=t.length+e),t.substr(e,n)}}).call(this,t(1))}),{1:25}],149:[(function(t,e,n){(function(t){(function(){var n,r,o;"undefined"!=typeof performance&&null!==performance&&performance.now?e.exports=function(){return performance.now()}:"undefined"!=typeof t&&null!==t&&t.hrtime?(e.exports=function(){return(n()-o)/1e6},r=t.hrtime,n=function(){var t;return t=r(),1e9*t[0]+t[1]},o=n()):Date.now?(e.exports=function(){return Date.now()-o},o=Date.now()):(e.exports=function(){return(new Date).getTime()-o},o=(new Date).getTime())}).call(this)}).call(this,t(1))}),{1:25}],150:[(function(t,e,n){var r=t(2),o=t(1),i=t(3),a=[0,2,3],s=[2,1,3];e.exports=function(t,e){t&&(o(t)||i(t))||(e=t||{},t=null),e="number"==typeof e?{count:e}:e||{};for(var n="string"==typeof e.type?e.type:"uint16",u="number"==typeof e.count?e.count:1,c=e.start||0,l=e.clockwise!==!1?a:s,f=l[0],h=l[1],d=l[2],p=6*u,v=t||new(r(n))(p),g=0,m=0;g<p;g+=6,m+=4){var y=g+c;v[y+0]=m+0,v[y+1]=m+1,v[y+2]=m+2,v[y+3]=m+f,v[y+4]=m+h,v[y+5]=m+d}return v}}),{1:6,2:47,3:113}],151:[(function(t,e,n){"use strict";function r(t,e){return Object.prototype.hasOwnProperty.call(t,e)}e.exports=function(t,e,n,i){e=e||"&",n=n||"=";var a={};if("string"!=typeof t||0===t.length)return a;var s=/\+/g;t=t.split(e);var u=1e3;i&&"number"==typeof i.maxKeys&&(u=i.maxKeys);var c=t.length;u>0&&c>u&&(c=u);for(var l=0;l<c;++l){var f,h,d,p,v=t[l].replace(s,"%20"),g=v.indexOf(n);g>=0?(f=v.substr(0,g),h=v.substr(g+1)):(f=v,h=""),d=decodeURIComponent(f),p=decodeURIComponent(h),r(a,d)?o(a[d])?a[d].push(p):a[d]=[a[d],p]:a[d]=p}return a};var o=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)}}),{}],152:[(function(t,e,n){"use strict";function r(t,e){if(t.map)return t.map(e);for(var n=[],r=0;r<t.length;r++)n.push(e(t[r],r));return n}var o=function(t){switch(typeof t){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}};e.exports=function(t,e,n,s){return e=e||"&",n=n||"=",null===t&&(t=void 0),"object"==typeof t?r(a(t),(function(a){var s=encodeURIComponent(o(a))+n;return i(t[a])?r(t[a],(function(t){return s+encodeURIComponent(o(t))})).join(e):s+encodeURIComponent(o(t[a]))})).join(e):s?encodeURIComponent(o(s))+n+encodeURIComponent(o(t)):""};var i=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)},a=Object.keys||function(t){var e=[];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.push(n);return e}}),{}],153:[(function(t,e,n){"use strict";n.decode=n.parse=t(1),n.encode=n.stringify=t(2)}),{1:151,2:152}],154:[(function(t,e,n){for(var r=t(1),o="undefined"==typeof window?{}:window,i=["moz","webkit"],a="AnimationFrame",s=o["request"+a],u=o["cancel"+a]||o["cancelRequest"+a],c=!0,l=0;l<i.length&&!s;l++)s=o[i[l]+"Request"+a],u=o[i[l]+"Cancel"+a]||o[i[l]+"CancelRequest"+a];if(!s||!u){c=!1;var f=0,h=0,d=[],p=1e3/60;s=function(t){if(0===d.length){var e=r(),n=Math.max(0,p-(e-f));f=n+e,setTimeout((function(){var t=d.slice(0);d.length=0;for(var e=0;e<t.length;e++)if(!t[e].cancelled)try{t[e].callback(f)}catch(t){setTimeout((function(){throw t}),0)}}),Math.round(n))}return d.push({handle:++h,callback:t,cancelled:!1}),h},u=function(t){for(var e=0;e<d.length;e++)d[e].handle===t&&(d[e].cancelled=!0)}}e.exports=function(t){return c?s.call(o,(function(){try{t.apply(this,arguments)}catch(t){setTimeout((function(){throw t}),0)}})):s.call(o,t)},e.exports.cancel=function(){u.apply(o,arguments)}}),{1:149}],155:[(function(t,e,n){function r(t){return t&&t.parentNode&&t.parentNode.removeChild(t),t}e.exports=r}),{}],156:[(function(t,e,n){"use strict";function r(t,e){if("string"!=typeof t)throw new TypeError("expected a string");if(1===e)return t;if(2===e)return t+t;var n=t.length*e;if(o!==t||"undefined"==typeof o)o=t,i="";else if(i.length>=n)return i.substr(0,n);for(;n>i.length&&e>1;)1&e&&(i+=t),e>>=1,t+=t;return i+=t,i=i.substr(0,n)}var o,i="";e.exports=r}),{}],157:[(function(t,e,n){"use strict";var r=function(t){return"/"===t.charAt(0)},o=function(t,e){for(var n=e,r=n+1,o=t.length;r<o;n+=1,r+=1)t[n]=t[r];t.pop()},i=function(t){var e=arguments.length<=1||void 0===arguments[1]?"":arguments[1],n=t&&t.split("/")||[],i=e&&e.split("/")||[],a=t&&r(t),s=e&&r(e),u=a||s;if(t&&r(t)?i=n:n.length&&(i.pop(),i=i.concat(n)),!i.length)return"/";var c=void 0;if(i.length){var l=i[i.length-1];c="."===l||".."===l||""===l}else c=!1;for(var f=0,h=i.length;h>=0;h--){var d=i[h];"."===d?o(i,h):".."===d?(o(i,h),f++):f&&(o(i,h),f--)}if(!u)for(;f--;f)i.unshift("..");!u||""===i[0]||i[0]&&r(i[0])||i.unshift("");var p=i.join("/");return c&&"/"!==p.substr(-1)&&(p+="/"),p};e.exports=i}),{}],158:[(function(t,e,n){function r(t,e){var n=t[0],a=i.parse(n),s=a.name,u=Object.keys(a.string).map((function(t){return{name:s,string:t}}));return a.regex&&u.push({name:s,regex:a.regex}),u.length||(u=[{name:s}]),u=u.map(e._add,e),t.length-1?o(u.map(r.bind(null,t.slice(1)))):u}var o=t(2),i=t(1);i.prototype.define=function(t){if("string"!=typeof t)throw new TypeError("Only strings can be defined.");try{return r(t.split("/"),this)}catch(e){throw e.route=t,e}}}),{1:162,2:67}],159:[(function(t,e,n){e.exports=t(4),t(1),t(2),t(3)}),{1:158,2:160,3:161,4:162}],160:[(function(t,e,n){function r(t){try{return decodeURIComponent(t)}catch(t){return-1}}var o=t(2),i=t(1);i.prototype.match=function(t){var e,n,i,a,s,u=this,c=t.split("/"),l=c.length,f={param:{}};t:for(;l;){if(e=r(c.shift()),o(e!==-1,404,"malformed url: "+t),l=c.length,!(n=u.child[e])){i=u.children;for(var h=0,d=i.length;h<d;h++)if(n=i[h],!(a=n.regex)||a.test(e)){if((s=n.name)&&(f.param[s]=e),!l)return f.node=n,f;u=n;continue t}return}if((s=n.name)&&(f.param[s]=e),!l)return f.node=n,f;u=n}}}),{1:162,2:102}],161:[(function(t,e,n){function r(t){var e={name:"",string:{},regex:""};return o(t)?(e.string[t]=!0,e):i(t)?(t.split("|").forEach((function(t){e.string[t]=!0})),e):(t=t.replace(/^\:\w+\b/,(function(t){return e.name=t.slice(1),""})),t?/^\(.+\)$/.test(t)&&(t=t.slice(1,-1))?(i(t)?t.split("|").filter((function(t){e.string[t]=!0})):e.regex=t,e):void 0:e)}function o(t){return""===t||/^[\w\.-]+$/.test(t)}function i(t){return/^[\w\.\-][\w\.\-\|]+[\w\.\-]$/.test(t)}var a=t(2),s=t(1);s.parse=function(t){var e=r(t);return a(e,"Invalid parsed string: "+t),e}}),{1:162,2:10}],162:[(function(t,e,n){function r(t){return this instanceof r?void this._init(t):new r(t)}e.exports=r,r.prototype._init=function(t){t=t||{},this.child=Object.create(null),this.children=[],this.name=t.name||"","string"==typeof t.string?this.string=t.string:"string"==typeof t.regex?this.regex=new RegExp("^("+t.regex+")$",null==t.flag?"i":t.flag):t.regex instanceof RegExp&&(this.regex=t.regex)},r.prototype._add=function(t){return this._find(t)||this._attach(t)},r.prototype._find=function(t){if("string"==typeof t.string)return this.child[t.string];var e,n=this.children,r=n.length;if(t.name)for(var o=0;o<r;o++)if((e=n[o]).name===t.name)return e},r.prototype._attach=function(t){return t instanceof r||(t=new r(t)),t.parent=this,null==t.string?this.children.push(t):this.child[t.string]=t,t}}),{}],163:[(function(t,e,n){function r(t){return this instanceof r?(t=t||{},u.call(this,t),this._eachSorter=null,this.normalMatrix=l(new Float32Array(9)),this.modelMatrix=l(new Float32Array(16)),this.baseModelMatrix=l(new Float32Array(16)),this.matrixDirty=!0,this.matrixIdentity=!(t.rotation||t.position||t.scale||"number"==typeof t.scale),t.position=t.position||new Float32Array(3),t.scale="number"==typeof t.scale?i(t.scale):t.scale||i(1),void(t.rotation||(t.rotation=new Float32Array(4),t.rotation[3]=1))):new r(t)}function o(t){var e=t.data,n=t.modelMatrix,r=t.baseModelMatrix,o=t.normalMatrix;if(t.matrixIdentity)t.parent&&t.parent.modelMatrix?p(o,t.parent.normalMatrix):f(o);else{if(t.matrixDirty){l(r);var i=e.rotation,u=e.position,c=e.scale;a(r,i,u,c)}t.parent&&t.parent.modelMatrix?h(n,t.parent.modelMatrix,r):d(n,r),s(o,n)}t.matrixDirty=!1}function i(t){var e=new Float32Array(3);return e[0]=t,e[1]=t,e[2]=t,e}function a(t,e,n,r){var o=e[0],i=e[1],a=e[2],s=e[3],u=o+o,c=i+i,l=a+a,f=o*u,h=o*c,d=o*l,p=i*c,v=i*l,g=a*l,m=s*u,y=s*c,b=s*l,w=r[0],_=r[1],E=r[2];return t[0]=(1-(p+g))*w,t[1]=(h+b)*w,t[2]=(d-y)*w,t[3]=0,t[4]=(h-b)*_,t[5]=(1-(f+g))*_,t[6]=(v+m)*_,t[7]=0,t[8]=(d+y)*E,t[9]=(v-m)*E,t[10]=(1-(f+p))*E,t[11]=0,t[12]=n[0],t[13]=n[1],t[14]=n[2],t[15]=1,t}var s=t(4),u=t(1),c=t(8),l=t(6),f=t(3),h=t(7),d=t(5),p=t(2),v=t(12),g=t(9),m=t(10),y=t(11);e.exports=r,v(r,u),r.prototype.tick=function(){this._eachSorter||(this._eachSorter=this.list());var t=this._eachSorter();o(this);for(var e=0;e<t.length;e++)o(t[e])},r.prototype.setPosition=function(t,e,n){var r=this.data.position;return this.matrixDirty=!0,this.matrixIdentity=!1,
Array.isArray(t)?(r[0]=t[0],r[1]=t[1],r[2]=t[2]):(r[0]=t,r[1]=e,r[2]=n),this},r.prototype.setRotation=function(t,e,n,r){var o=this.data.rotation;return this.matrixDirty=!0,this.matrixIdentity=!1,Array.isArray(t)?(o[0]=t[0],o[1]=t[1],o[2]=t[2],o[3]=t[3]):(o[0]=t,o[1]=e,o[2]=n,o[3]=r),this},r.prototype.setEuler=function(t,e,n,r){var o=this.data.rotation;this.matrixDirty=!0,this.matrixIdentity=!1,c(o);var i,a,s,u;switch(Array.isArray(t)?(i=t[0],a=t[1],s=t[2],u=e||""):(i=t,a=e,s=n,u=r||""),u.toLowerCase()){case"xzy":g(o,o,i),y(o,o,a),m(o,o,s);break;case"yxz":m(o,o,i),g(o,o,a),y(o,o,s);break;case"yzx":m(o,o,i),y(o,o,a),g(o,o,s);break;case"zxy":y(o,o,i),g(o,o,a),m(o,o,s);break;case"zyx":y(o,o,i),m(o,o,a),g(o,o,s);break;default:g(o,o,i),m(o,o,a),y(o,o,s)}return this},r.prototype.setScale=function(t,e,n){var r=this.data.scale;return this.matrixDirty=!0,Array.isArray(t)?(r[0]=t[0],r[1]=t[1],r[2]=t[2]):1===arguments.length?r[0]=r[1]=r[2]=t:(r[0]=t,r[1]=e,r[2]=n),this}}),{1:40,10:86,11:87,12:110,2:72,3:73,4:74,5:75,6:76,7:79,8:84,9:85}],164:[(function(t,e,n){function r(t){function e(){for(var e=!1,r=0;r<t.length;r++){var o=t[r],i=o();if(o[a])i&&(e=!0,n[r]=i);else{var s=n[r];i!==s&&(e=!0,n[r]=i)}}return e}for(var n=[],r=0;r<t.length;r++)n[r]=t[r]();return e}function o(t){function e(){return t.length!==i?(i=t.length,n(),!0):o()}function n(){for(var e=[],n=0;n<t.length;n++)!(function(n){e[n]=function(){return t[n]}})(n);o=r(e)}var o,i=t.length;return n(),e[a]=!0,e}var i=t(1);e.exports=r,e.exports.array=o;var a=i("see-change-array")}),{1:165}],165:[(function(t,e,n){"use strict";e.exports=t(1)()?Symbol:t(2)}),{1:166,2:168}],166:[(function(t,e,n){"use strict";e.exports=function(){var t;if("function"!=typeof Symbol)return!1;t=Symbol("test symbol");try{String(t)}catch(t){return!1}return"symbol"==typeof Symbol.iterator||"object"==typeof Symbol.isConcatSpreadable&&("object"==typeof Symbol.iterator&&("object"==typeof Symbol.toPrimitive&&("object"==typeof Symbol.toStringTag&&"object"==typeof Symbol.unscopables)))}}),{}],167:[(function(t,e,n){"use strict";e.exports=function(t){return t&&("symbol"==typeof t||"Symbol"===t["@@toStringTag"])||!1}}),{}],168:[(function(t,e,n){"use strict";var r,o,i=t(2),a=t(1),s=Object.create,u=Object.defineProperties,c=Object.defineProperty,l=Object.prototype,f=s(null),h=(function(){var t=s(null);return function(e){for(var n,r=0;t[e+(r||"")];)++r;return e+=r||"",t[e]=!0,n="@@"+e,c(l,n,i.gs(null,(function(t){c(this,n,i(t))}))),n}})();o=function t(e){if(this instanceof o)throw new TypeError("TypeError: Symbol is not a constructor");return t(e)},e.exports=r=function t(e){var n;if(this instanceof t)throw new TypeError("TypeError: Symbol is not a constructor");return n=s(o.prototype),e=void 0===e?"":String(e),u(n,{__description__:i("",e),__name__:i("",h(e))})},u(r,{for:i((function(t){return f[t]?f[t]:f[t]=r(String(t))})),keyFor:i((function(t){var e;a(t);for(e in f)if(f[e]===t)return e})),hasInstance:i("",r("hasInstance")),isConcatSpreadable:i("",r("isConcatSpreadable")),iterator:i("",r("iterator")),match:i("",r("match")),replace:i("",r("replace")),search:i("",r("search")),species:i("",r("species")),split:i("",r("split")),toPrimitive:i("",r("toPrimitive")),toStringTag:i("",r("toStringTag")),unscopables:i("",r("unscopables"))}),u(o.prototype,{constructor:i(r),toString:i("",(function(){return this.__name__}))}),u(r.prototype,{toString:i((function(){return"Symbol ("+a(this).__description__+")"})),valueOf:i((function(){return a(this)}))}),c(r.prototype,r.toPrimitive,i("",(function(){return a(this)}))),c(r.prototype,r.toStringTag,i("c","Symbol")),c(o.prototype,r.toPrimitive,i("c",r.prototype[r.toPrimitive])),c(o.prototype,r.toStringTag,i("c",r.prototype[r.toStringTag]))}),{1:169,2:34}],169:[(function(t,e,n){"use strict";var r=t(1);e.exports=function(t){if(!r(t))throw new TypeError(t+" is not a symbol");return t}}),{1:167}],170:[(function(t,e,n){"use strict";e.exports=t(1)}),{1:174}],171:[(function(t,e,n){"use strict";function r(){h=!1}function o(t){if(!t)return void(l!==p&&(l=p,r()));if(t!==l){if(t.length!==p.length)throw new Error("Custom alphabet for shortid must be "+p.length+" unique characters. You submitted "+t.length+" characters: "+t);var e=t.split("").filter((function(t,e,n){return e!==n.lastIndexOf(t)}));if(e.length)throw new Error("Custom alphabet for shortid must be "+p.length+" unique characters. These characters were not unique: "+e.join(", "));l=t,r()}}function i(t){return o(t),l}function a(t){d.seed(t),f!==t&&(r(),f=t)}function s(){l||o(p);for(var t,e=l.split(""),n=[],r=d.nextValue();e.length>0;)r=d.nextValue(),t=Math.floor(r*e.length),n.push(e.splice(t,1)[0]);return n.join("")}function u(){return h?h:h=s()}function c(t){var e=u();return e[t]}var l,f,h,d=t(1),p="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ_-";e.exports={characters:i,seed:a,lookup:c,shuffled:u}}),{1:177}],172:[(function(t,e,n){"use strict";function r(t){var e=o.shuffled();return{version:15&e.indexOf(t.substr(0,1)),worker:15&e.indexOf(t.substr(1,1))}}var o=t(1);e.exports=r}),{1:171}],173:[(function(t,e,n){"use strict";function r(t,e){for(var n,r=0,i="";!n;)i+=t(e>>4*r&15|o()),n=e<Math.pow(16,r+1),r++;return i}var o=t(1);e.exports=r}),{1:176}],174:[(function(t,e,n){"use strict";function r(){var t="",e=Math.floor(.001*(Date.now()-d));return e===u?s++:(s=0,u=e),t+=l(c.lookup,p),t+=l(c.lookup,v),s>0&&(t+=l(c.lookup,s)),t+=l(c.lookup,e)}function o(t){return c.seed(t),e.exports}function i(t){return v=t,e.exports}function a(t){return void 0!==t&&c.characters(t),c.shuffled()}var s,u,c=t(1),l=t(3),f=t(2),h=t(4),d=1459707606518,p=6,v=t(5)||0;e.exports=r,e.exports.generate=r,e.exports.seed=o,e.exports.worker=i,e.exports.characters=a,e.exports.decode=f,e.exports.isValid=h}),{1:171,2:172,3:173,4:175,5:178}],175:[(function(t,e,n){"use strict";function r(t){if(!t||"string"!=typeof t||t.length<6)return!1;for(var e=o.characters(),n=t.length,r=0;r<n;r++)if(e.indexOf(t[r])===-1)return!1;return!0}var o=t(1);e.exports=r}),{1:171}],176:[(function(t,e,n){"use strict";function r(){if(!o||!o.getRandomValues)return 48&Math.floor(256*Math.random());var t=new Uint8Array(1);return o.getRandomValues(t),48&t[0]}var o="object"==typeof window&&(window.crypto||window.msCrypto);e.exports=r}),{}],177:[(function(t,e,n){"use strict";function r(){return i=(9301*i+49297)%233280,i/233280}function o(t){i=t}var i=1;e.exports={nextValue:r,seed:o}}),{}],178:[(function(t,e,n){"use strict";e.exports=0}),{}],179:[(function(t,e,n){e.exports={100:"Continue",101:"Switching Protocols",102:"Processing",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",208:"Already Reported",226:"IM Used",300:"Multiple Choices",301:"Moved Permanently",302:"Found",303:"See Other",304:"Not Modified",305:"Use Proxy",306:"(Unused)",307:"Temporary Redirect",308:"Permanent Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Payload Too Large",414:"URI Too Long",415:"Unsupported Media Type",416:"Range Not Satisfiable",417:"Expectation Failed",418:"I'm a teapot",421:"Misdirected Request",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",425:"Unordered Collection",426:"Upgrade Required",428:"Precondition Required",429:"Too Many Requests",431:"Request Header Fields Too Large",451:"Unavailable For Legal Reasons",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Timeout",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",508:"Loop Detected",509:"Bandwidth Limit Exceeded",510:"Not Extended",511:"Network Authentication Required"}}),{}],180:[(function(t,e,n){"use strict";function r(t,e){var n=[];return Object.keys(e).forEach((function(r){var o=e[r],i=Number(r);t[i]=o,t[o]=i,t[o.toLowerCase()]=i,n.push(i)})),n}function o(t){if("number"==typeof t){if(!o[t])throw new Error("invalid status code: "+t);return t}if("string"!=typeof t)throw new TypeError("code must be a number or string");var e=parseInt(t,10);if(!isNaN(e)){if(!o[e])throw new Error("invalid status code: "+e);return e}if(e=o[t.toLowerCase()],!e)throw new Error('invalid status message: "'+t+'"');return e}var i=t(1);e.exports=o,o.codes=r(o,i),o.redirect={300:!0,301:!0,302:!0,303:!0,305:!0,307:!0,308:!0},o.empty={204:!0,205:!0,304:!0},o.retry={502:!0,503:!0,504:!0}}),{1:179}],181:[(function(t,e,n){(function(n){function r(t,e){return t.ctrlKey==(e.ctrlKey||!1)&&t.altKey==(e.altKey||!1)&&t.shiftKey==(e.shiftKey||!1)&&t.metaKey==(e.metaKey||!1)&&t.keyCode==(e.keyCode||0)&&t.charCode==(e.charCode||0)||(t=document.createEvent("Event"),t.initEvent(e.type,e.bubbles,e.cancelable),t.ctrlKey=e.ctrlKey||!1,t.altKey=e.altKey||!1,t.shiftKey=e.shiftKey||!1,t.metaKey=e.metaKey||!1,t.keyCode=e.keyCode||0,t.charCode=e.charCode||0),t}if("undefined"==typeof n.document)return void(e.exports=function(){});var o=(n.window,n.document),i=(o.documentElement||{},!0);try{o.createEvent("KeyEvents")}catch(t){i=!1}var a=function(t,e){e=e||{};var n=l(t),a=n;"KeyboardEvent"===n&&i&&(n="KeyEvents",a="KeyEvent");var s=o.createEvent(n),c="init"+a,f="function"==typeof s[c]?c:"initEvent",h=u[f],d=[],p={};e.type=t;for(var v=0;v<h.length;++v){var g=h[v],m=e[g];void 0===m&&(m=s[g]),p[g]=!0,d.push(m)}s[f].apply(s,d),"KeyboardEvent"===n&&(s=r(s,e));for(var g in e)p[g]||(s[g]=e[g]);return s},s=function(t,e){e=e||{};var n=o.createEventObject();n.type=t;for(var r in e)void 0!==e[r]&&(n[r]=e[r]);return n};e.exports=o.createEvent?a:s;var u=t(1),c=t(2),l=(function(){var t={};for(var e in c)for(var n=c[e],r=0;r<n.length;r++)t[n[r]]=e;return function(e){return t[e]||"Event"}})()}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})}),{1:182,2:183}],182:[(function(t,e,n){e.exports={initEvent:["type","bubbles","cancelable"],initUIEvent:["type","bubbles","cancelable","view","detail"],initMouseEvent:["type","bubbles","cancelable","view","detail","screenX","screenY","clientX","clientY","ctrlKey","altKey","shiftKey","metaKey","button","relatedTarget"],initMutationEvent:["type","bubbles","cancelable","relatedNode","prevValue","newValue","attrName","attrChange"],initKeyboardEvent:["type","bubbles","cancelable","view","ctrlKey","altKey","shiftKey","metaKey","keyCode","charCode"],initKeyEvent:["type","bubbles","cancelable","view","ctrlKey","altKey","shiftKey","metaKey","keyCode","charCode"]}}),{}],183:[(function(t,e,n){e.exports={MouseEvent:["click","mousedown","mouseup","mouseover","mousemove","mouseout"],KeyboardEvent:["keydown","keyup","keypress"],MutationEvent:["DOMSubtreeModified","DOMNodeInserted","DOMNodeRemoved","DOMNodeRemovedFromDocument","DOMNodeInsertedIntoDocument","DOMAttrModified","DOMCharacterDataModified"],HTMLEvents:["load","unload","abort","error","select","change","submit","reset","focus","blur","resize","scroll"],UIEvent:["DOMFocusIn","DOMFocusOut","DOMActivate"]}}),{}],184:[(function(t,e,n){"use strict";function r(t,e){var n=a(getComputedStyle(t).getPropertyValue(e));return n[0]*i(n[1],t)}function o(t,e){var n=document.createElement("div");n.style["font-size"]="128"+t,e.appendChild(n);var o=r(n,"font-size")/128;return e.removeChild(n),o}function i(t,e){switch(e=e||document.body,t=(t||"px").trim().toLowerCase(),e!==window&&e!==document||(e=document.body),t){case"%":return e.clientHeight/100;case"ch":case"ex":return o(t,e);case"em":return r(e,"font-size");case"rem":return r(document.body,"font-size");case"vw":return window.innerWidth/100;case"vh":return window.innerHeight/100;case"vmin":return Math.min(window.innerWidth,window.innerHeight)/100;case"vmax":return Math.max(window.innerWidth,window.innerHeight)/100;case"in":return s;case"cm":return s/2.54;case"mm":return s/25.4;case"pt":return s/72;case"pc":return s/6}return 1}var a=t(1);e.exports=i;var s=96}),{1:147}],185:[(function(t,e,n){function r(t){function e(t){for(var e=t.identifier,n=0;n<p.length;n++)if(p[n]&&p[n].touch&&p[n].touch.identifier===e)return n;return-1}function n(){y||(y=!0,t.addEventListener("touchstart",c,!1),t.addEventListener("touchmove",l,!1),t.addEventListener("touchend",f,!1),t.addEventListener("touchcancel",f,!1))}function r(){y&&(y=!1,v=0,p[0]=null,p[1]=null,g=0,m=!1,t.removeEventListener("touchstart",c,!1),t.removeEventListener("touchmove",l,!1),t.removeEventListener("touchend",f,!1),t.removeEventListener("touchcancel",f,!1))}function c(n){for(var r=0;r<n.changedTouches.length;r++){var i=n.changedTouches[r],a=i.identifier,s=e(a);if(s===-1&&v<2){var c=0===v,l=p[0]?1:0,f=p[0]?0:1,y=new o;p[l]=y,v++,y.touch=i,u(i,t,y.position);var b=p[f]?p[f].touch:void 0;if(d.emit("place",i,b),!c){var w=h();m=!1,d.emit("start",w),g=w}}}}function l(n){for(var r=!1,o=0;o<n.changedTouches.length;o++){var i=n.changedTouches[o],a=e(i);a!==-1&&(r=!0,p[a].touch=i,u(i,t,p[a].position))}if(2===v&&r){var s=h();d.emit("change",s,g),g=s}}function f(t){for(var n=0;n<t.changedTouches.length;n++){var r=t.changedTouches[n],o=e(r);if(o!==-1){p[o]=null,v--;var i=0===o?1:0,a=p[i]?p[i].touch:void 0;d.emit("lift",r,a)}}m||2===v||(m=!0,d.emit("end"))}function h(){return v<2?0:i(p[0].position,p[1].position)}t=t||window;var d=new a,p=[null,null],v=0,g=0,m=!1,y=!1;return Object.defineProperties(d,{pinching:s((function(){return 2===v})),fingers:s((function(){return p}))}),n(),d.enable=n,d.disable=r,d.indexOfTouch=e,d}function o(){this.position=[0,0],this.touch=null}var i=t(3),a=t(2).EventEmitter,s=t(1),u=t(4);e.exports=r}),{1:46,2:63,3:90,4:136}],186:[(function(t,e,n){function r(t,e){var n=t.clientX||0,r=t.clientY||0,o=u(e);return[n-o.left,r-o.top]}function o(t,e){return Array.prototype.slice.call(t).filter((function(t){return t.target===e}))[0]||t[0]}function i(t,e){for(var n=0;n<t.length;n++)if(t[n].identifier===e)return t[n];return null}function a(t,e){return function(n){e?t.addEventListener(n.type,n.listener,{passive:!1}):t.removeEventListener(n.type,n.listener,{passive:!1})}}function s(t){return t.replace(/^(touch|mouse)/,"").replace(/up$/,"end").replace(/down$/,"start")}function u(t){return t===window||t===document||t===document.body?f:t.getBoundingClientRect()}var c=t(1),l=["touchstart","touchmove","touchend","touchcancel","mousedown","mousemove","mouseup"],f={left:0,top:0};e.exports=function(t,e){function n(t,e){var n;return f&&/^touch(end|cancel)/.test(e)?(n=i(t.changedTouches,f.identifier||0),n&&(f=null)):!f&&/^touchstart/.test(e)?f=n=o(t.changedTouches,u.target):f&&(n=i(t.changedTouches,f.identifier||0)),n}e=e||{},t=t||window;var u=new c;u.target=e.target||t;var f=null,h=e.filtered,d=l;"string"==typeof e.type&&(d=l.filter((function(t){return 0===t.indexOf(e.type)})));var p=d.map((function(t){var i=s(t),a=function(a){var s=a;if(/^touch/.test(t)&&(/^touchend$/.test(t)&&e.preventSimulated!==!1&&a.preventDefault(),s=h?n(a,t):o(a.changedTouches,u.target)),s){var c=r(s,u.target);u.emit(i,a,c)}};return{type:t,listener:a}}));return u.enable=function(){return p.forEach(a(t,!0)),u},u.disable=function(){return f=null,p.forEach(a(t,!1)),u},u.enable(),u}}),{1:63}],187:[(function(t,e,n){function r(t){return t.replace(/^\s*|\s*$/g,"")}n=e.exports=r,n.left=function(t){return t.replace(/^\s*/,"")},n.right=function(t){return t.replace(/\s*$/,"")}}),{}],188:[(function(t,e,n){"use strict";function r(t){return t.name?t.name:/^\s*function\s*([^\(]*)/im.exec(t.toString())[1]}function o(t){var e=a.call(t).slice(8,-1);return"Object"===e&&t.constructor?r(t.constructor):e}function i(t){var e;return null===t?"null":(e=typeof t,"object"===e?o(t):e)}var a=Object.prototype.toString;e.exports=i}),{}],189:[(function(t,e,n){function r(t,e,n){t.positions&&t.cells&&(n=e,e=t.cells,t=t.positions);var r=t.length?t[0].length:0,o=e.length?e[0].length:0;if(n=n||new Float32Array(e.length*o*r),3===o&&2===r)for(var i=0,a=0,s=e.length;i<s;i+=1){var u=e[i];n[a++]=t[u[0]][0],n[a++]=t[u[0]][1],n[a++]=t[u[1]][0],n[a++]=t[u[1]][1],n[a++]=t[u[2]][0],n[a++]=t[u[2]][1]}else if(3===o&&3===r)for(var i=0,a=0,s=e.length;i<s;i+=1){var u=e[i];n[a++]=t[u[0]][0],n[a++]=t[u[0]][1],n[a++]=t[u[0]][2],n[a++]=t[u[1]][0],n[a++]=t[u[1]][1],n[a++]=t[u[1]][2],n[a++]=t[u[2]][0],n[a++]=t[u[2]][1],n[a++]=t[u[2]][2]}else for(var i=0,a=0,s=e.length;i<s;i+=1)for(var u=e[i],c=0;c<u.length;c++)for(var l=u[c],f=0;f<r;f++)n[a++]=t[l][f];return n}e.exports=r}),{}],190:[(function(t,e,n){arguments[4][104][0].apply(n,arguments)}),{1:104}],191:[(function(t,e,n){e.exports=function(t){return t&&"object"==typeof t&&"function"==typeof t.copy&&"function"==typeof t.fill&&"function"==typeof t.readUInt8}}),{}],192:[(function(t,e,n){(function(e,r){function o(t,e){var r={seen:[],stylize:a};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),v(e)?r.showHidden=e:e&&n._extend(r,e),_(r.showHidden)&&(r.showHidden=!1),_(r.depth)&&(r.depth=2),_(r.colors)&&(r.colors=!1),_(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=i),u(r,t,r.depth)}function i(t,e){var n=o.styles[e];return n?"["+o.colors[n][0]+"m"+t+"["+o.colors[n][1]+"m":t}function a(t,e){return t}function s(t){var e={};return t.forEach((function(t,n){e[t]=!0})),e}function u(t,e,r){if(t.customInspect&&e&&O(e.inspect)&&e.inspect!==n.inspect&&(!e.constructor||e.constructor.prototype!==e)){var o=e.inspect(r,t);return b(o)||(o=u(t,o,r)),o}var i=c(t,e);if(i)return i;var a=Object.keys(e),v=s(a);if(t.showHidden&&(a=Object.getOwnPropertyNames(e)),S(e)&&(a.indexOf("message")>=0||a.indexOf("description")>=0))return l(e);if(0===a.length){if(O(e)){var g=e.name?": "+e.name:"";return t.stylize("[Function"+g+"]","special")}if(E(e))return t.stylize(RegExp.prototype.toString.call(e),"regexp");if(A(e))return t.stylize(Date.prototype.toString.call(e),"date");if(S(e))return l(e)}var m="",y=!1,w=["{","}"];if(p(e)&&(y=!0,w=["[","]"]),O(e)){var _=e.name?": "+e.name:"";m=" [Function"+_+"]"}if(E(e)&&(m=" "+RegExp.prototype.toString.call(e)),A(e)&&(m=" "+Date.prototype.toUTCString.call(e)),S(e)&&(m=" "+l(e)),0===a.length&&(!y||0==e.length))return w[0]+m+w[1];if(r<0)return E(e)?t.stylize(RegExp.prototype.toString.call(e),"regexp"):t.stylize("[Object]","special");t.seen.push(e);var x;return x=y?f(t,e,r,v,a):a.map((function(n){return h(t,e,r,v,n,y)})),t.seen.pop(),d(x,m,w)}function c(t,e){if(_(e))return t.stylize("undefined","undefined");if(b(e)){var n="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return t.stylize(n,"string")}return y(e)?t.stylize(""+e,"number"):v(e)?t.stylize(""+e,"boolean"):g(e)?t.stylize("null","null"):void 0}function l(t){return"["+Error.prototype.toString.call(t)+"]"}function f(t,e,n,r,o){for(var i=[],a=0,s=e.length;a<s;++a)I(e,String(a))?i.push(h(t,e,n,r,String(a),!0)):i.push("");return o.forEach((function(o){o.match(/^\d+$/)||i.push(h(t,e,n,r,o,!0))})),i}function h(t,e,n,r,o,i){var a,s,c;if(c=Object.getOwnPropertyDescriptor(e,o)||{value:e[o]},c.get?s=c.set?t.stylize("[Getter/Setter]","special"):t.stylize("[Getter]","special"):c.set&&(s=t.stylize("[Setter]","special")),I(r,o)||(a="["+o+"]"),s||(t.seen.indexOf(c.value)<0?(s=g(n)?u(t,c.value,null):u(t,c.value,n-1),s.indexOf("\n")>-1&&(s=i?s.split("\n").map((function(t){return"  "+t})).join("\n").substr(2):"\n"+s.split("\n").map((function(t){return"   "+t})).join("\n"))):s=t.stylize("[Circular]","special")),_(a)){if(i&&o.match(/^\d+$/))return s;a=JSON.stringify(""+o),a.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(a=a.substr(1,a.length-2),a=t.stylize(a,"name")):(a=a.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),a=t.stylize(a,"string"))}return a+": "+s}function d(t,e,n){var r=0,o=t.reduce((function(t,e){return r++,e.indexOf("\n")>=0&&r++,t+e.replace(/\u001b\[\d\d?m/g,"").length+1}),0);return o>60?n[0]+(""===e?"":e+"\n ")+" "+t.join(",\n  ")+" "+n[1]:n[0]+e+" "+t.join(", ")+" "+n[1]}function p(t){return Array.isArray(t)}function v(t){return"boolean"==typeof t}function g(t){return null===t}function m(t){return null==t}function y(t){return"number"==typeof t}function b(t){return"string"==typeof t}function w(t){return"symbol"==typeof t}function _(t){return void 0===t}function E(t){return x(t)&&"[object RegExp]"===T(t)}function x(t){return"object"==typeof t&&null!==t}function A(t){return x(t)&&"[object Date]"===T(t)}function S(t){return x(t)&&("[object Error]"===T(t)||t instanceof Error)}function O(t){return"function"==typeof t}function C(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||"undefined"==typeof t}function T(t){return Object.prototype.toString.call(t)}function R(t){return t<10?"0"+t.toString(10):t.toString(10)}function P(){var t=new Date,e=[R(t.getHours()),R(t.getMinutes()),R(t.getSeconds())].join(":");return[t.getDate(),F[t.getMonth()],e].join(" ")}function I(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var k=/%[sdj%]/g;n.format=function(t){if(!b(t)){for(var e=[],n=0;n<arguments.length;n++)e.push(o(arguments[n]));return e.join(" ")}for(var n=1,r=arguments,i=r.length,a=String(t).replace(k,(function(t){if("%%"===t)return"%";if(n>=i)return t;switch(t){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch(t){return"[Circular]"}default:return t}})),s=r[n];n<i;s=r[++n])a+=g(s)||!x(s)?" "+s:" "+o(s);return a},n.deprecate=function(t,o){function i(){if(!a){if(e.throwDeprecation)throw new Error(o);e.traceDeprecation?console.trace(o):console.error(o),a=!0}return t.apply(this,arguments)}if(_(r.process))return function(){return n.deprecate(t,o).apply(this,arguments)};if(e.noDeprecation===!0)return t;var a=!1;return i};var M,L={};n.debuglog=function(t){if(_(M)&&(M=e.env.NODE_DEBUG||""),t=t.toUpperCase(),!L[t])if(new RegExp("\\b"+t+"\\b","i").test(M)){var r=e.pid;L[t]=function(){var e=n.format.apply(n,arguments);console.error("%s %d: %s",t,r,e)}}else L[t]=function(){};return L[t]},n.inspect=o,o.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},o.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},n.isArray=p,n.isBoolean=v,n.isNull=g,n.isNullOrUndefined=m,n.isNumber=y,n.isString=b,n.isSymbol=w,n.isUndefined=_,n.isRegExp=E,n.isObject=x,n.isDate=A,n.isError=S,n.isFunction=O,n.isPrimitive=C,n.isBuffer=t(1);var F=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];n.log=function(){console.log("%s - %s",P(),n.format.apply(n,arguments))},n.inherits=t(3),n._extend=function(t,e){if(!e||!x(e))return t;for(var n=Object.keys(e),r=n.length;r--;)t[n[r]]=e[n[r]];return t}}).call(this,t(2),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})}),{1:191,2:25,3:190}],193:[(function(t,e,n){"use strict";n.__esModule=!0;var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=function t(e,n){if(e===n)return!0;if(null==e||null==n)return!1;if(Array.isArray(e))return!(!Array.isArray(n)||e.length!==n.length)&&e.every((function(e,r){return t(e,n[r])}));var o="undefined"==typeof e?"undefined":r(e),i="undefined"==typeof n?"undefined":r(n);if(o!==i)return!1;if("object"===o){var a=e.valueOf(),s=n.valueOf();if(a!==e||s!==n)return t(a,s);var u=Object.keys(e),c=Object.keys(n);return u.length===c.length&&u.every((function(r){return t(e[r],n[r])}))}return!1};n.default=o}),{}],194:[(function(t,e,n){"use strict";var r=function(){};e.exports=r}),{}],195:[(function(t,e,n){!(function(){function t(t,e,n){return t.call.apply(t.bind,arguments)}function n(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function r(e,o,i){return r=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?t:n,r.apply(null,arguments)}function o(t,e){this.a=t,this.m=e||t,this.c=this.m.document}function i(t,e,n,r){if(e=t.c.createElement(e),n)for(var o in n)n.hasOwnProperty(o)&&("style"==o?e.style.cssText=n[o]:e.setAttribute(o,n[o]));return r&&e.appendChild(t.c.createTextNode(r)),e}function a(t,e,n){t=t.c.getElementsByTagName(e)[0],t||(t=document.documentElement),t.insertBefore(n,t.lastChild)}function s(t){t.parentNode&&t.parentNode.removeChild(t)}function u(t,e,n){e=e||[],n=n||[];for(var r=t.className.split(/\s+/),o=0;o<e.length;o+=1){for(var i=!1,a=0;a<r.length;a+=1)if(e[o]===r[a]){i=!0;break}i||r.push(e[o])}for(e=[],o=0;o<r.length;o+=1){for(i=!1,a=0;a<n.length;a+=1)if(r[o]===n[a]){i=!0;break}i||e.push(r[o])}t.className=e.join(" ").replace(/\s+/g," ").replace(/^\s+|\s+$/,"")}function c(t,e){for(var n=t.className.split(/\s+/),r=0,o=n.length;r<o;r++)if(n[r]==e)return!0;return!1}function l(t){if("string"==typeof t.f)return t.f;var e=t.m.location.protocol;return"about:"==e&&(e=t.a.location.protocol),"https:"==e?"https:":"http:"}function f(t){return t.m.location.hostname||t.a.location.hostname}function h(t,e,n){function r(){c&&o&&s&&(c(u),c=null)}e=i(t,"link",{rel:"stylesheet",href:e,media:"all"});var o=!1,s=!0,u=null,c=n||null;ot?(e.onload=function(){o=!0,r()},e.onerror=function(){o=!0,u=Error("Stylesheet failed to load"),r()}):setTimeout((function(){o=!0,r()}),0),a(t,"head",e)}function d(t,e,n,r){var o=t.c.getElementsByTagName("head")[0];if(o){var a=i(t,"script",{src:e}),s=!1;return a.onload=a.onreadystatechange=function(){s||this.readyState&&"loaded"!=this.readyState&&"complete"!=this.readyState||(s=!0,n&&n(null),a.onload=a.onreadystatechange=null,"HEAD"==a.parentNode.tagName&&o.removeChild(a))},o.appendChild(a),setTimeout((function(){s||(s=!0,n&&n(Error("Script load timeout")))}),r||5e3),a}return null}function p(){this.a=0,this.c=null}function v(t){return t.a++,function(){t.a--,m(t)}}function g(t,e){t.c=e,m(t)}function m(t){0==t.a&&t.c&&(t.c(),t.c=null)}function y(t){this.a=t||"-"}function b(t,e){this.c=t,this.f=4,this.a="n";var n=(e||"n4").match(/^([nio])([1-9])$/i);n&&(this.a=n[1],this.f=parseInt(n[2],10))}function w(t){return x(t)+" "+(t.f+"00")+" 300px "+_(t.c)}function _(t){var e=[];t=t.split(/,\s*/);for(var n=0;n<t.length;n++){var r=t[n].replace(/['"]/g,"");-1!=r.indexOf(" ")||/^\d/.test(r)?e.push("'"+r+"'"):e.push(r)}return e.join(",")}function E(t){return t.a+t.f}function x(t){var e="normal";return"o"===t.a?e="oblique":"i"===t.a&&(e="italic"),e}function A(t){var e=4,n="n",r=null;return t&&((r=t.match(/(normal|oblique|italic)/i))&&r[1]&&(n=r[1].substr(0,1).toLowerCase()),(r=t.match(/([1-9]00|normal|bold)/i))&&r[1]&&(/bold/i.test(r[1])?e=7:/[1-9]00/.test(r[1])&&(e=parseInt(r[1].substr(0,1),10)))),n+e}function S(t,e){this.c=t,this.f=t.m.document.documentElement,this.h=e,this.a=new y("-"),this.j=!1!==e.events,this.g=!1!==e.classes}function O(t){t.g&&u(t.f,[t.a.c("wf","loading")]),T(t,"loading")}function C(t){if(t.g){var e=c(t.f,t.a.c("wf","active")),n=[],r=[t.a.c("wf","loading")];e||n.push(t.a.c("wf","inactive")),u(t.f,n,r)}T(t,"inactive")}function T(t,e,n){t.j&&t.h[e]&&(n?t.h[e](n.c,E(n)):t.h[e]())}function R(){this.c={}}function P(t,e,n){var r,o=[];for(r in e)if(e.hasOwnProperty(r)){var i=t.c[r];i&&o.push(i(e[r],n))}return o}function I(t,e){this.c=t,this.f=e,this.a=i(this.c,"span",{"aria-hidden":"true"},this.f)}function k(t){a(t.c,"body",t.a)}function M(t){return"display:block;position:absolute;top:-9999px;left:-9999px;font-size:300px;width:auto;height:auto;line-height:normal;margin:0;padding:0;font-variant:normal;white-space:nowrap;font-family:"+_(t.c)+";"+("font-style:"+x(t)+";font-weight:"+(t.f+"00")+";")}function L(t,e,n,r,o,i){this.g=t,this.j=e,this.a=r,this.c=n,this.f=o||3e3,this.h=i||void 0}function F(t,e,n,r,o,i,a){this.v=t,this.B=e,this.c=n,this.a=r,this.s=a||"BESbswy",this.f={},this.w=o||3e3,this.u=i||null,this.o=this.j=this.h=this.g=null,this.g=new I(this.c,this.s),this.h=new I(this.c,this.s),this.j=new I(this.c,this.s),this.o=new I(this.c,this.s),t=new b(this.a.c+",serif",E(this.a)),t=M(t),this.g.a.style.cssText=t,t=new b(this.a.c+",sans-serif",E(this.a)),t=M(t),this.h.a.style.cssText=t,t=new b("serif",E(this.a)),t=M(t),this.j.a.style.cssText=t,t=new b("sans-serif",E(this.a)),t=M(t),this.o.a.style.cssText=t,k(this.g),k(this.h),k(this.j),k(this.o)}function N(){if(null===at){var t=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))/.exec(window.navigator.userAgent);at=!!t&&(536>parseInt(t[1],10)||536===parseInt(t[1],10)&&11>=parseInt(t[2],10))}return at}function D(t,e,n){for(var r in it)if(it.hasOwnProperty(r)&&e===t.f[it[r]]&&n===t.f[it[r]])return!0;return!1}function j(t){var e,n=t.g.a.offsetWidth,r=t.h.a.offsetWidth;(e=n===t.f.serif&&r===t.f["sans-serif"])||(e=N()&&D(t,n,r)),e?rt()-t.A>=t.w?N()&&D(t,n,r)&&(null===t.u||t.u.hasOwnProperty(t.a.c))?B(t,t.v):B(t,t.B):U(t):B(t,t.v)}function U(t){setTimeout(r((function(){j(this)}),t),50)}function B(t,e){setTimeout(r((function(){s(this.g.a),s(this.h.a),s(this.j.a),s(this.o.a),e(this.a)}),t),0)}function z(t,e,n){this.c=t,this.a=e,this.f=0,this.o=this.j=!1,this.s=n}function V(t){0==--t.f&&t.j&&(t.o?(t=t.a,t.g&&u(t.f,[t.a.c("wf","active")],[t.a.c("wf","loading"),t.a.c("wf","inactive")]),T(t,"active")):C(t.a))}function W(t){this.j=t,this.a=new R,this.h=0,this.f=this.g=!0}function G(t,e,n,o,i){var a=0==--t.h;(t.f||t.g)&&setTimeout((function(){var t=i||null,s=o||null||{};if(0===n.length&&a)C(e.a);else{e.f+=n.length,a&&(e.j=a);var c,l=[];for(c=0;c<n.length;c++){var f=n[c],h=s[f.c],d=e.a,p=f;d.g&&u(d.f,[d.a.c("wf",p.c,E(p).toString(),"loading")]),T(d,"fontloading",p),d=null,null===st&&(st=!!window.FontFace&&(!(p=/Gecko.*Firefox\/(\d+)/.exec(window.navigator.userAgent))||42<parseInt(p[1],10))),d=st?new L(r(e.g,e),r(e.h,e),e.c,f,e.s,h):new F(r(e.g,e),r(e.h,e),e.c,f,e.s,t,h),l.push(d)}for(c=0;c<l.length;c++)l[c].start()}}),0)}function H(t,e,n){var r=[],o=n.timeout;O(e);var r=P(t.a,n,t.c),i=new z(t.c,e,o);for(t.h=r.length,e=0,n=r.length;e<n;e++)r[e].load((function(e,n,r){G(t,i,e,n,r)}))}function K(t,e){this.c=t,this.a=e}function q(t,e,n){var r=l(t.c);return t=(t.a.api||"fast.fonts.net/jsapi").replace(/^.*http(s?):(\/\/)?/,""),r+"//"+t+"/"+e+".js"+(n?"?v="+n:"")}function Y(t,e){this.c=t,this.a=e}function X(t,e,n){t?this.c=t:this.c=e+ut,this.a=[],this.f=[],this.g=n||""}function Z(t,e){for(var n=e.length,r=0;r<n;r++){var o=e[r].split(":");3==o.length&&t.f.push(o.pop());var i="";2==o.length&&""!=o[1]&&(i=":"),t.a.push(o.join(i))}}function J(t){if(0==t.a.length)throw Error("No fonts to load!");if(-1!=t.c.indexOf("kit="))return t.c;for(var e=t.a.length,n=[],r=0;r<e;r++)n.push(t.a[r].replace(/ /g,"+"));return e=t.c+"?family="+n.join("%7C"),0<t.f.length&&(e+="&subset="+t.f.join(",")),0<t.g.length&&(e+="&text="+encodeURIComponent(t.g)),e}function $(t){this.f=t,this.a=[],this.c={}}function Q(t){for(var e=t.f.length,n=0;n<e;n++){var r=t.f[n].split(":"),o=r[0].replace(/\+/g," "),i=["n4"];if(2<=r.length){var a,s=r[1];if(a=[],s)for(var s=s.split(","),u=s.length,c=0;c<u;c++){var l;if(l=s[c],l.match(/^[\w-]+$/)){var f=ht.exec(l.toLowerCase());if(null==f)l="";else{if(l=f[2],l=null==l||""==l?"n":ft[l],f=f[1],null==f||""==f)f="4";else var h=lt[f],f=h?h:isNaN(f)?"4":f.substr(0,1);l=[l,f].join("")}}else l="";l&&a.push(l)}0<a.length&&(i=a),3==r.length&&(r=r[2],a=[],r=r?r.split(","):a,0<r.length&&(r=ct[r[0]])&&(t.c[o]=r))}for(t.c[o]||(r=ct[o])&&(t.c[o]=r),r=0;r<i.length;r+=1)t.a.push(new b(o,i[r]))}}function tt(t,e){this.c=t,this.a=e}function et(t,e){this.c=t,this.a=e}function nt(t,e){this.c=t,this.f=e,this.a=[]}var rt=Date.now||function(){return+new Date},ot=!!window.FontFace;y.prototype.c=function(t){for(var e=[],n=0;n<arguments.length;n++)e.push(arguments[n].replace(/[\W_]+/g,"").toLowerCase());return e.join(this.a)},L.prototype.start=function(){
var t=this.c.m.document,e=this,n=rt(),r=new Promise(function(r,o){function i(){rt()-n>=e.f?o():t.fonts.load(w(e.a),e.h).then((function(t){1<=t.length?r():setTimeout(i,25)}),(function(){o()}))}i()}),o=new Promise(function(t,n){setTimeout(n,e.f)});Promise.race([o,r]).then((function(){e.g(e.a)}),(function(){e.j(e.a)}))};var it={D:"serif",C:"sans-serif"},at=null;F.prototype.start=function(){this.f.serif=this.j.a.offsetWidth,this.f["sans-serif"]=this.o.a.offsetWidth,this.A=rt(),j(this)};var st=null;z.prototype.g=function(t){var e=this.a;e.g&&u(e.f,[e.a.c("wf",t.c,E(t).toString(),"active")],[e.a.c("wf",t.c,E(t).toString(),"loading"),e.a.c("wf",t.c,E(t).toString(),"inactive")]),T(e,"fontactive",t),this.o=!0,V(this)},z.prototype.h=function(t){var e=this.a;if(e.g){var n=c(e.f,e.a.c("wf",t.c,E(t).toString(),"active")),r=[],o=[e.a.c("wf",t.c,E(t).toString(),"loading")];n||r.push(e.a.c("wf",t.c,E(t).toString(),"inactive")),u(e.f,r,o)}T(e,"fontinactive",t),V(this)},W.prototype.load=function(t){this.c=new o(this.j,t.context||this.j),this.g=!1!==t.events,this.f=!1!==t.classes,H(this,new S(this.c,t),t)},K.prototype.load=function(t){function e(){if(i["__mti_fntLst"+r]){var n,o=i["__mti_fntLst"+r](),a=[];if(o)for(var s=0;s<o.length;s++){var u=o[s].fontfamily;void 0!=o[s].fontStyle&&void 0!=o[s].fontWeight?(n=o[s].fontStyle+o[s].fontWeight,a.push(new b(u,n))):a.push(new b(u))}t(a)}else setTimeout((function(){e()}),50)}var n=this,r=n.a.projectId,o=n.a.version;if(r){var i=n.c.m;d(this.c,q(n,r,o),(function(o){o?t([]):(i["__MonotypeConfiguration__"+r]=function(){return n.a},e())})).id="__MonotypeAPIScript__"+r}else t([])},Y.prototype.load=function(t){var e,n,r=this.a.urls||[],o=this.a.families||[],i=this.a.testStrings||{},a=new p;for(e=0,n=r.length;e<n;e++)h(this.c,r[e],v(a));var s=[];for(e=0,n=o.length;e<n;e++)if(r=o[e].split(":"),r[1])for(var u=r[1].split(","),c=0;c<u.length;c+=1)s.push(new b(r[0],u[c]));else s.push(new b(r[0]));g(a,(function(){t(s,i)}))};var ut="//fonts.googleapis.com/css",ct={latin:"BESbswy","latin-ext":"",cyrillic:"",greek:"",khmer:"",Hanuman:""},lt={thin:"1",extralight:"2","extra-light":"2",ultralight:"2","ultra-light":"2",light:"3",regular:"4",book:"4",medium:"5","semi-bold":"6",semibold:"6","demi-bold":"6",demibold:"6",bold:"7","extra-bold":"8",extrabold:"8","ultra-bold":"8",ultrabold:"8",black:"9",heavy:"9",l:"3",r:"4",b:"7"},ft={i:"i",italic:"i",n:"n",normal:"n"},ht=/^(thin|(?:(?:extra|ultra)-?)?light|regular|book|medium|(?:(?:semi|demi|extra|ultra)-?)?bold|black|heavy|l|r|b|[1-9]00)?(n|i|normal|italic)?$/,dt={Arimo:!0,Cousine:!0,Tinos:!0};tt.prototype.load=function(t){var e=new p,n=this.c,r=new X(this.a.api,l(n),this.a.text),o=this.a.families;Z(r,o);var i=new $(o);Q(i),h(n,J(r),v(e)),g(e,(function(){t(i.a,i.c,dt)}))},et.prototype.load=function(t){var e=this.a.id,n=this.c.m;e?d(this.c,(this.a.api||"https://use.typekit.net")+"/"+e+".js",(function(e){if(e)t([]);else if(n.Typekit&&n.Typekit.config&&n.Typekit.config.fn){e=n.Typekit.config.fn;for(var r=[],o=0;o<e.length;o+=2)for(var i=e[o],a=e[o+1],s=0;s<a.length;s++)r.push(new b(i,a[s]));try{n.Typekit.load({events:!1,classes:!1,async:!0})}catch(t){}t(r)}}),2e3):t([])},nt.prototype.load=function(t){var e=this.f.id,n=this.c.m,r=this;e?(n.__webfontfontdeckmodule__||(n.__webfontfontdeckmodule__={}),n.__webfontfontdeckmodule__[e]=function(e,n){for(var o=0,i=n.fonts.length;o<i;++o){var a=n.fonts[o];r.a.push(new b(a.name,A("font-weight:"+a.weight+";font-style:"+a.style)))}t(r.a)},d(this.c,l(this.c)+(this.f.api||"//f.fontdeck.com/s/css/js/")+f(this.c)+"/"+e+".js",(function(e){e&&t([])}))):t([])};var pt=new W(window);pt.a.c.custom=function(t,e){return new Y(e,t)},pt.a.c.fontdeck=function(t,e){return new nt(e,t)},pt.a.c.monotype=function(t,e){return new K(e,t)},pt.a.c.typekit=function(t,e){return new et(e,t)},pt.a.c.google=function(t,e){return new tt(e,t)};var vt={load:r(pt.load,pt)};"function"==typeof define&&define.amd?define((function(){return vt})):"undefined"!=typeof e&&e.exports?e.exports=vt:(window.WebFont=vt,window.WebFontConfig&&pt.load(window.WebFontConfig))})()}),{}],196:[(function(t,e,n){function r(t,e,n,r){var o=t.indexOf(e,n);return o===-1||o>r?r:o}function o(t){return l.test(t)}function i(t,e,n,r,o){for(var i=[],a=n,s=n;s<r&&s<e.length;s++){var c=e.charAt(s),l=u.test(c);if(l||s===r-1){var f=l?s:s+1,h=t(e,a,f,o);i.push(h),a=s+1}}return i}function a(t,e,n,i,a,s){var u=[],l=a;for("nowrap"===s&&(l=Number.MAX_VALUE);n<i&&n<e.length;){for(var f=r(e,c,n,i);n<f&&o(e.charAt(n));)n++;var h=t(e,n,f,l),d=n+(h.end-h.start),p=d+c.length;if(d<f){for(;d>n&&!o(e.charAt(d));)d--;if(d===n)p>n+c.length&&p--,d=p;else for(p=d;d>n&&o(e.charAt(d-c.length));)d--}if(d>=n){var v=t(e,n,d,l);u.push(v)}n=p}return u}function s(t,e,n,r){var o=Math.min(r,n-e);return{start:e,end:e+o}}var u=/\n/,c="\n",l=/\s/;e.exports=function(t,n){var r=e.exports.lines(t,n);return r.map((function(e){return t.substring(e.start,e.end)})).join("\n")},e.exports.lines=function(t,e){if(e=e||{},0===e.width&&"nowrap"!==e.mode)return[];t=t||"";var n="number"==typeof e.width?e.width:Number.MAX_VALUE,r=Math.max(0,e.start||0),o="number"==typeof e.end?e.end:t.length,u=e.mode,c=e.measure||s;return"pre"===u?i(c,t,r,o,n):a(c,t,r,o,n,u)}}),{}],197:[(function(t,e,n){function r(t,e){function n(){for(var e=new Array(arguments.length),n=0;n<e.length;n++)e[n]=arguments[n];var r=t.apply(this,e),o=e[e.length-1];return"function"==typeof r&&r!==o&&Object.keys(o).forEach((function(t){r[t]=o[t]})),r}if(t&&e)return r(t)(e);if("function"!=typeof t)throw new TypeError("need wrapper function");return Object.keys(t).forEach((function(e){n[e]=t[e]})),n}e.exports=r}),{}],198:[(function(t,e,n){"use strict";function r(t,e){for(var n=0;n<t.length;n++)e(t[n])}function o(t){for(var e in t)if(t.hasOwnProperty(e))return!1;return!0}function i(t,e,n){var r=t;return f(e)?(n=e,"string"==typeof t&&(r={uri:t})):r=d(e,{uri:t}),r.callback=n,r}function a(t,e,n){return e=i(t,e,n),s(e)}function s(t){function e(){4===f.readyState&&i()}function n(){var t=void 0;if(t=f.response?f.response:f.responseText||u(f),_)try{t=JSON.parse(t)}catch(t){}return t}function r(t){return clearTimeout(v),t instanceof Error||(t=new Error(""+(t||"Unknown XMLHttpRequest Error"))),t.statusCode=0,c(t,l)}function i(){if(!p){var e;clearTimeout(v),e=t.useXDR&&void 0===f.status?200:1223===f.status?204:f.status;var r=l,o=null;return 0!==e?(r={body:n(),statusCode:e,method:m,headers:{},url:g,rawRequest:f},f.getAllResponseHeaders&&(r.headers=h(f.getAllResponseHeaders()))):o=new Error("Internal XMLHttpRequest Error"),c(o,r,r.body)}}if("undefined"==typeof t.callback)throw new Error("callback argument missing");var s=!1,c=function(e,n,r){s||(s=!0,t.callback(e,n,r))},l={body:void 0,headers:{},statusCode:0,method:m,url:g,rawRequest:f},f=t.xhr||null;f||(f=t.cors||t.useXDR?new a.XDomainRequest:new a.XMLHttpRequest);var d,p,v,g=f.url=t.uri||t.url,m=f.method=t.method||"GET",y=t.body||t.data||null,b=f.headers=t.headers||{},w=!!t.sync,_=!1;if("json"in t&&(_=!0,b.accept||b.Accept||(b.Accept="application/json"),"GET"!==m&&"HEAD"!==m&&(b["content-type"]||b["Content-Type"]||(b["Content-Type"]="application/json"),y=JSON.stringify(t.json))),f.onreadystatechange=e,f.onload=i,f.onerror=r,f.onprogress=function(){},f.ontimeout=r,f.open(m,g,!w,t.username,t.password),w||(f.withCredentials=!!t.withCredentials),!w&&t.timeout>0&&(v=setTimeout((function(){p=!0,f.abort("timeout");var t=new Error("XMLHttpRequest timeout");t.code="ETIMEDOUT",r(t)}),t.timeout)),f.setRequestHeader)for(d in b)b.hasOwnProperty(d)&&f.setRequestHeader(d,b[d]);else if(t.headers&&!o(t.headers))throw new Error("Headers cannot be set on an XDomainRequest object");return"responseType"in t&&(f.responseType=t.responseType),"beforeSend"in t&&"function"==typeof t.beforeSend&&t.beforeSend(f),f.send(y),f}function u(t){if("document"===t.responseType)return t.responseXML;var e=204===t.status&&t.responseXML&&"parsererror"===t.responseXML.documentElement.nodeName;return""!==t.responseType||e?null:t.responseXML}function c(){}var l=t(1),f=t(2),h=t(3),d=t(4);e.exports=a,a.XMLHttpRequest=l.XMLHttpRequest||c,a.XDomainRequest="withCredentials"in new a.XMLHttpRequest?a.XMLHttpRequest:l.XDomainRequest,r(["get","put","post","patch","head","delete"],(function(t){a["delete"===t?"del":t]=function(e,n,r){return n=i(e,n,r),n.method=t.toUpperCase(),s(n)}}))}),{1:95,2:114,3:146,4:200}],199:[(function(t,e,n){e.exports=(function(){return"undefined"!=typeof window.DOMParser?function(t){var e=new window.DOMParser;return e.parseFromString(t,"application/xml")}:"undefined"!=typeof window.ActiveXObject&&new window.ActiveXObject("Microsoft.XMLDOM")?function(t){var e=new window.ActiveXObject("Microsoft.XMLDOM");return e.async="false",e.loadXML(t),e}:function(t){var e=document.createElement("div");return e.innerHTML=t,e}})()}),{}],200:[(function(t,e,n){function r(){for(var t={},e=0;e<arguments.length;e++){var n=arguments[e];for(var r in n)o.call(n,r)&&(t[r]=n[r])}return t}e.exports=r;var o=Object.prototype.hasOwnProperty}),{}],201:[(function(t,e,n){function r(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)o.call(n,r)&&(t[r]=n[r])}return t}e.exports=r;var o=Object.prototype.hasOwnProperty}),{}],202:[(function(t,e,n){var r=t(2),o=t(3),i=t(1);e.exports=r,e.exports.update=function(t,e,n){function r(t,e){for(var r=n.events||i,o=0;o<r.length;o++){var a=r[o];e[a]?t[a]=e[a]:t[a]&&(t[a]=void 0)}"INPUT"===t.nodeName&&"file"!==t.type||"SELECT"===t.nodeName?null===e.getAttribute("value")&&(e.value=t.value):"TEXTAREA"===t.nodeName&&null===e.getAttribute("value")&&(t.value=e.value)}return n||(n={}),n.events!==!1&&(n.onBeforeElUpdated||(n.onBeforeElUpdated=r)),o(t,e,n)}}),{1:203,2:21,3:135}],203:[(function(t,e,n){e.exports=["onclick","ondblclick","onmousedown","onmouseup","onmouseover","onmousemove","onmouseout","ondragstart","ondrag","ondragenter","ondragleave","ondragover","ondrop","ondragend","onkeydown","onkeypress","onkeyup","onunload","onabort","onerror","onresize","onscroll","onselect","onchange","onsubmit","onreset","onfocus","onblur","oninput","oncontextmenu","onfocusin","onfocusout"]}),{}],204:[(function(t,e,n){"use strict";e.exports=function t(e,n){for(var r=0;r<n.length;r++){var o=n[r];if(Array.isArray(o))t(e,o);else{if(("number"==typeof o||"boolean"==typeof o||o instanceof Date||o instanceof RegExp)&&(o=o.toString()),"string"==typeof o){if(e.lastChild&&"#text"===e.lastChild.nodeName){e.lastChild.nodeValue+=o;continue}o=document.createTextNode(o)}o&&o.nodeType&&e.appendChild(o)}}}}),{}],205:[(function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a=(function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}})(),s=t(4),u=t(1),c=t(2),l=t(5),f=t(3);e.exports=(function(t){function e(t,n){r(this,e);var i=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return i.touchFaster=!1,i.vineElement=t,i.grabElement=n||document.body,i.touch=l(window,{filtered:!0,preventSimulated:!1}),i.touch.disable(),i.overStep=0,i._onPageMoveLoop=i._onPageMoveLoop.bind(i),i._onStart=i._onStart.bind(i),i._onMove=i._onMove.bind(i),i._onSkip=i._onSkip.bind(i),i._onEnd=i._onEnd.bind(i),i._onLoop=function(){i.shouldLoop&&(i.shouldLoop=i._onPageMoveLoop(),i.emit("move",i.pageOffset),i.shouldLoop||i.emit("done",Math.round(i.pageOffset)))},window.addEventListener("keydown",i._onSkip,!1),c.on("loop",i._onLoop),i.reset(),i.enabled=!1,i.enable(),i}return i(e,t),a(e,[{key:"dispose",value:function(){this.disable(),this.touch=null,this.grabElement=null,this.vineElement=null,c.removeListener("loop",this._onLoop)}},{key:"reset",value:function(){this.touchDown=!1,this.touchStart=0,this.touchMoved=0,this.touchAccum=0,this.touchOffset=0,this.shouldLoop=!0,this.pageOffset=0}},{key:"enable",value:function(){this.enabled||(this.enabled=!0,this.touch.enable(),this.touch.on("start",this._onStart),this.touch.on("move",this._onMove),this.touch.on("end",this._onEnd))}},{key:"disable",value:function(){this.enabled&&(this.enabled=!1,this.touch.disable(),this.touch.removeListener("start",this._onStart),this.touch.removeListener("move",this._onMove),this.touch.removeListener("end",this._onEnd),window.removeEventListener("keydown",this._onSkip,!1))}},{key:"boundLimit",value:function(t){this.overStep=t}},{key:"_onSkip",value:function(t){if(32===t.keyCode||39===t.keyCode||37===t.keyCode){var e=37===t.keyCode?-1:1,n=Math.min(u.SITE_MAX_WIDTH,window.innerWidth);this.touchOffset-=n*e,this.touchAccum-=n*e,this.pageOffset=Math.round(this.pageOffset-e),this.emit("move",this.pageOffset),this.emit("done",this.pageOffset)}}},{key:"_onStart",value:function(t){this.touchFaster=t.target===this.vineElement,this.touchDown=!0,this.shouldLoop=!0,this.touchStart=this.getMouseOffset(t),this.touchAccum=this.touchOffset,this.touchMoved=0,this.grabElement.style.cursor="-webkit-grabbing",this.grabElement.style.cursor="-moz-grabbing",this.grabElement.style.cursor="grabbing"}},{key:"_onMove",value:function(t){if(this.touchDown){var e=this.touchFaster?u.BOOK_VINE_SPEED:u.BOOK_SWIPE_SPEED;this.touchMoved=(this.getMouseOffset(t)-this.touchStart)*e,this.touchOffset=this.touchAccum+this.touchMoved,t.preventDefault()}}},{key:"_onEnd",value:function(t){this.touchDown=!1;var e=this.touchFaster?u.BOOK_VINE_SPEED:u.BOOK_SWIPE_SPEED,n=Math.min(u.SITE_MAX_WIDTH,window.innerWidth);this.touchMoved=(this.getMouseOffset(t)-this.touchStart)*e-this.overStep*n,this.touchAccum+=this.touchMoved,this.touchOffset=this.touchAccum,this.touchFaster=!1,this.grabElement.style.cursor=null}},{key:"_onPageMoveLoop",value:function(){var t=Math.min(u.SITE_MAX_WIDTH,window.innerWidth),e=Math.round(this.touchOffset/t)*t,n=this.touchDown||Math.abs(this.touchOffset-e)>1;return this.touchDown||(this.touchOffset+=(e-this.touchOffset)*u.BOOK_SNAP_RATE,n||(this.touchOffset=e)),this.pageOffset=this.touchOffset/t,n}},{key:"getMouseOffset",value:function(t){var e=t.changedTouches&&t.changedTouches[0]||t;return s(e,window)[0]}}]),e})(f)}),{1:2,2:239,3:63,4:136,5:186}],206:[(function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){var n=c.VINE_COLOR_MAP[t];return n?i(Math.round(e*n[0]).toString(16))+i(Math.round(e*n[1]).toString(16))+i(Math.round(e*n[2]).toString(16)):t}function i(t){return t.length>1?t:"0"+t}var a=(function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}})(),s=(t(2),t(3)),u=t(5),c=t(1),l=window.devicePixelRatio||1,f="_470cd3bd",h=document.querySelector("main"),d=t(1),p=d.SITE_MAX_WIDTH,v=d.SITE_MAX_HEIGHT,g=d.BOOK_PAGE_PADDING,m=d.BOOK_VINE_HEIGHT,y=d.BOOK_THREAD_SIZE,b=d.BOOK_COLORIZE_THREADS,w=d.BOOK_COLORIZE_AMOUNT,_=d.BOOK_THREAD_MARGIN,E=d.BOOK_THREAD_MARKERS,x=d.BOOK_THREAD_MARKER_MARGIN;e.exports=(function(){function t(e,n){var o=this;r(this,t),this.slug=n,this.element=h.appendChild(document.createElement("div")),this.element.classList.add(f),this.disposed=!1,this.chapter=e,this.currentPage=0,this.interpolatedPage=0,this.needsReset=null,this.pages={},delete this.pages.x,this.chapter.width=this.width-2*g,this.chapter.height=this.height-2*g,this.onResize=s((function(){return o.resize()})),window.addEventListener("resize",this.onResize,!1)}return a(t,[{key:"dispose",value:function(){this.disposed||(this.disposed=!0,u(this.element),window.removeEventListener("resize",this.onResize,!1),this.onResize=null,this.chapter=null,this.element=null,this.pages=null)}},{key:"resize",value:function(){var t=this.chapter.ranges[this.currentPage];this.chapter.width=this.width-2*g,this.chapter.height=this.height-2*g,this.chapter.ranges=this.chapter.calculateRanges();var e=this.chapter.ranges[this.chapter.ranges.length-1];this.hasLink&&e&&e[1][2]<c.INTRO_MORE_HEIGHT&&this.chapter.ranges.push([[0,0],[0,0]]);for(var n=this.chapter.ranges,r=0;r<n.length;r++){var o=n[r][0][0];if(o>t){this.currentPage=r;break}}this.interpolatedPage=Math.min(this.interpolatedPage,n.length-1),this.needsReset=this.interpolatedPage;for(var i in this.pages){var a=this.pages[i];a&&(a.parentNode.removeChild(a),delete this.pages[i])}this.needReset=!0,this.repage()}},{key:"repage",value:function(){this.currentPage=Math.round(this.interpolatedPage);for(var t=this.chapter.ranges,e=Math.floor(Math.max(0,this.interpolatedPage)),n=Math.ceil(Math.min(this.interpolatedPage+1,t.length)),r=(this.chapter.width,this.chapter.height,e);r<n;r++)var o=this.pages[r]?this.pages[r]:this.pages[r]=this.element.appendChild(this.createPage(t[r],r+1===t.length));for(var r=0;r<t.length;r++){var o=this.pages[r];if(o)if(r>=n||r<e)o.style.visibility="hidden";else{var i=(r-this.interpolatedPage)*this.width;i=Math.floor(i*l)/l,o.style.visibility="visible",o.style.webkitTransform=o.style.transform="translate3d("+i+"px, 0, 0)"}}}},{key:"currentRange",value:function(){return this.chapter.ranges[this.currentPage]}},{key:"link",value:function(t,e){this.hasLink=!0,this.linkName=t,this.linkDest=e}},{key:"createPage",value:function(t,e){var n=document.createElement("div"),r=this.chapter.extractTextInRange(t),i=n.style;n.classList.add("page"),i.width=this.chapter.width+2*g+"px",i.height=this.chapter.height+m+2*g+"px",i.lineHeight=this.chapter.lineHeight+"px",i.fontFamily=this.chapter.fontFamily,i.fontSize=this.chapter.fontSize+"px",i.padding=g+"px",i.paddingLeft=g+_*E+"px",i.paddingRight=g-_*E+"px",i.paddingTop=g+y+8+"px",i.paddingBottom=g+m-8+"px";for(var a=this.chapter.filter,s=this.chapter.colors,u=this.chapter.breaks,c=t[0][0],l=null,f=0;f<r.length;f++)if(r[f].length){var h=s[c+f],d=u[c+f];if(!a||a===h){var p=n.appendChild(document.createElement("p"));if(p.innerHTML=r[f].join(" "),p.style.marginTop=0,p.style.marginBottom=d*this.chapter.margin+"px",b||E)var v="#"+o(h,w);if(b&&(p.style.color=v),E&&l!==v){l=v;var A=p.appendChild(document.createElement("img")),S=12;p.style.position="relative",A.src="/img/marker-"+h+".svg",A.style.position="absolute",A.style.right="100%",A.style.marginRight=x+"px",A.style.top=0,A.style.marginTop=(this.chapter.lineHeight-S)/2+"px",A.style.width="12px",A.style.height="12px"}}}if(e&&this.hasLink){var O=n.appendChild(document.createElement("a"));O.innerHTML=this.linkName,O.setAttribute("href",this.linkDest),O.classList.add("end-link")}return n}},{key:"hide",value:function(){}},{key:"unhide",value:function(){}},{key:"width",get:function(){return Math.min(p,window.innerWidth)}},{key:"height",get:function(){return Math.min(v,window.innerHeight)-m+g/2}},{key:"length",get:function(){return this.chapter.ranges.length}}]),t})()}),{1:2,2:241,3:69,4:111,5:155}],207:[(function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){return"@seed/chapter/"+(e||f.VERSION)+"/"+t}var i=(function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}})(),a=t(3),s=t(2),u=t(4),c=t(5),l=t(6),f=t(1),h=t(7),d=t(8),p={},v=(function(){function t(e,n,o,i,a){r(this,t),this.opts=a||{},this.paragraphs=e,this.italics=n,this.breaks=i,this.colors=o,this.title=a.title||"UNKNOWN TITLE",this.initSizes(),this.width=a.width||window.innerWidth-32,this.height=a.height||window.innerHeight-32,this.ranges=[]}return i(t,[{key:"initSizes",value:function(){var t=window.innerWidth>1100?1.1:1,e=this.opts;this.filter=e.filter||null,this.lineHeight=e.lineHeight||26*t,this.fontFamily=e.fontFamily||f.PRIMARY_FONT,this.fontSize=e.fontSize||16*t,this.margin=e.margin||20}},{key:"calculateRanges",value:function(){for(var t=[],e=[0,0];;){var n=c(this.paragraphs,this.italics,this.colors,this.breaks,e,this);if(!n||n[0]===e[0]&&n[1]===e[1])break;t.push([e.slice(),n.slice()]),e=n}return t}},{key:"extractTextInRange",value:function(t){var e=t[0],n=t[1];if(e[0]===n[0]){var r=this.paragraphs[e[0]];return[this._applyFormatting(r,this.italics[e[0]],e[1]).slice(e[1],n[1])]}for(var o=this.paragraphs.slice(e[0],n[0]+1),i=0,a=e[0];i<o.length;i++,a++)if(o[i].length){var s=a===e[0]?e[1]:0;o[i]=this._applyFormatting(o[i],this.italics[a],s)}return o[o.length-1]=o[o.length-1].slice(0,n[1]),o[0]=o[0].slice(e[1]),o}},{key:"_applyFormatting",value:function(t,e,n){var r=e[0],o=t.length-1;if(n=n||0,e.length<=1)return r&&t.length?t.length<=n?t:(t=t.slice(),"undefined"!=typeof t[n]&&(t[n]="<em>"+t[n]),t.length&&(t[o]=t[o]+"</em>"),t):t;var i=r;if(t=t.slice(),n)for(var a=1;a<e.length;a++)n>e[a]&&(i=!i);i&&"undefined"!=typeof t[n]&&(t[n]="<em>"+t[n]);for(var a=1;a<e.length;a++){var s=e[a];s>0&&"undefined"!=typeof t[s]&&(r?t[s-1]=t[s-1]+"</em>":t[s]="<em>"+t[s]),r=!r}return i&&(t[o]+="</em>"),t}}],[{key:"nextSlug",value:function(t,e){var n=a.length-1,r=a.indexOf(t);if(r===-1)return null;do r++;while(e&&s[r]&&s[r].indexOf(e)===-1&&r<=n);var o=a[r];return u.isAvailable(o)&&o||null}},{key:"prevSlug",value:function(t,e){var n=a.indexOf(t);if(n<=0)return null;do n--;while(e&&s[n]&&s[n].indexOf(e)===-1&&n>=0);return a[n]||null}},{key:"load",value:function(e,n){if(p[e])return setTimeout((function(){n(null,p[e])}));var r=o(e);return a.indexOf(e)===-1?n(new Error("Unknown chapter slug! Weird.")):void l.getItem(r,(function(o,i){return i?setTimeout((function(){var r=t.createFromJSON(i);n(null,p[e]=r)})):void d({uri:"/data/chapters/"+e+".json"},(function(o,i,a){if(o)return n(o);try{var s=JSON.parse(a)}catch(o){return l.removeItem(r,(function(t){if(t)return n(t)})),t.load(e,n)}l.setItem(r,s,(function(r){var o=t.createFromJSON(s);n(null,p[e]=o)}))}))}))}},{key:"createFromJSON",value:function(e){for(var n=e.content,r=[],o=[],i=[],a=new Uint8Array(n.length),s=0;s<n.length;s++){var u=n[s],c=r[s]=[],l=u.text.split("");o[s]=u.italic,a[s]=u.break,i[s]=u.color;for(var f=0,h=0;f<l.length;f++)for(var d=l[f].split(/\s+/g),p=0;p<d.length;p++)c[h++]=d[p]}var v=new t(r,o,i,a,{title:e.title});return v}},{key:"precache",value:function(t){function e(t,e){var n=o(t),r=l.driver()===l.INDEXEDDB?1:10;l.getItem(n,(function(o,i){return o?e(o):i?setTimeout((function(){return e()}),r*(50+100*Math.random())):void d({uri:"/data/chapters/"+t+".json"},(function(o,i,a){return o?e(o):(console.log("[background preload] storing chapter "+JSON.stringify(t)),void l.setItem(n,JSON.parse(a),(function(t){return t?e(t):setTimeout((function(){return e()}),r*(50+100*Math.random()))})))}))}))}function n(t){var e=window.localStorage.getItem("@seed/latest-version");if(e!==f.VERSION){try{window.localStorage.setItem("@seed/latest-version",f.VERSION)}catch(e){return t()}if(!e)return t();console.log("[background preload] cleaning up previous stored chapters"),h(a,5,(function(t,n){var r=o(t,e);l.removeItem(r,(function(t){n()}))}),(function(e){return e?t(e):(console.log("[background preload] all previous chapters cleared"),window.localStorage.setItem("@seed/latest-version",f.VERSION),void t())}))}}n((function(n){return n?t(n):void h(a,2,e,t)}))}}]),t})();e.exports=v}),{1:2,2:250,3:252,4:227,5:209,6:133,7:134,8:198}],208:[(function(t,e,n){"use strict";function r(t){t.target.classList.contains("ready")&&(setTimeout((function(){return o.go("/contents")})),t.preventDefault())}var o=t(1),i=(t(4),"_0b491c0b");e.exports=function(e){var n=(function(){var e=(t(2),document.createElement("div"));return e.onclick=arguments[0],e.ontouchend=arguments[1],e.setAttribute("role","button"),e.setAttribute("aria-label","Close"),e.setAttribute("class",arguments[2]+" "+arguments[3]),e})(r,r,i,e||"");return setTimeout((function(){return n.classList.add("ready")}),50),n}}),{1:239,2:204,3:111,4:202}],209:[(function(t,e,n){"use strict";function r(t,e,n,r,a,c){function l(o,i){for(var a=0,s=o;s<t.length;s++){var u=t[s],l=s===o?i:0;if(u.length!==l&&(!p||n[s]===p)){var h=f(u,e[s],l),d=h.length*m+w*r[s];if(!(a+d<c.height)){for(var v=Math.floor((b-a)/m),g=u.length,y=0,_=Math.min(v,h.length),E=0;E<_;E++)y+=h[E].length;return y=Math.min(y+l,g),[s,y,Math.floor(b-a-d)]}h[0].length&&(a+=d)}}return a&&[t.length-1,t[t.length-1].length,a?Math.floor(b-a):0]}function f(t,e,n){n=n||0;var r=e[0],o=e[1]||1/0,i=1,a=r?"italic":"normal",s=0,c=n,l=("<"===t[0][0]&&t[0].indexOf("<li>")!==-1,u);l.length=0;for(var f=n;f<t.length;f++){for(;o!==1/0&&f>=o;)o=e[++i]||1/0,a="italic"===a?"normal":"italic";if(t[f]){var d=h(t[f],a);if(s+=E[a]+d,Math.ceil(s)>=y){var p=t.slice(c,f);l.push(p),c=f,s=d}}}return l.push(t.slice(c)),l}function h(t,e){return v[e][t]?v[e][t]:v[e][t]=d(t,e)}function d(t,e){return _!==e&&(_=e,s.font=("italic"===e?"italic ":"")+g),s.measureText(t).width}c=c||{};var p=c.filter||null,v=i[g]=i[g]||{},g=(c.fontSize||16)+"px "+(c.fontFamily||o.PRIMARY_FONT),m=c.lineHeight||26,y=c.width||500,b=c.height||500,w=c.margin||32;v.normal=v.normal||{},v.italic=v.italic||{},v.bold=v.bold||{};var _="normal";s.font=g;var E={normal:h(" ","normal"),italic:h(" ","italic")},x=l(a[0],a[1]);return x}var o=t(1);e.exports=r;var i={},a=document.createElement("canvas"),s=a.getContext("2d");s.width=2,s.height=2;var u=[]}),{1:2}],210:[(function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a=(function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}})(),s=t(2),u=t(3),c=t(8),l=t(15).EventEmitter,f=t(9),h=(t(16),t(6)),d=t(10),p=t(1),v=t(7),g=t(5),m=t(18),y=(t(17),t(14)),b=t(11),w=t(12),_=t(4),E=t(13),x=document.querySelector("main"),A=[0,0,0];e.exports=(function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};r(this,e);var n=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));n.close=x.appendChild(f()),n.filter=t.filter||null,n.disposed=!1,n.startLock=!1,n.currentSlug=null,n.chapters={},n.canvas=t.canvas,n.originChapter=null,n.originPage=null,n.originSlug=null,n.initialSlug=null,n.pageOffset=0,n.loadNextAt=0,n.loadPrevAt=0,n.loadingNext=!1,n.loadingPrev=!1,n.prevChapters=[],n.prevOffsets=[],n.nextChapters=[],n.nextOffsets=[],n.nextSlug=null,n.prevSlug=null;var i=0;n.letterbox=new d,n.number=new b,n.unlocker=new E;var a=p.VINE_COLOR_MAP[n.filter],s=a&&A;return s&&(s[0]=.5*a[0],s[1]=.5*a[1],s[2]=.5*a[2]),n.onResize=function(){n._updateOffset(0)},window.addEventListener("resize",n.onResize,!1),n.vine=new y(a,s),n.swipe=new h(n.vine.element,t.grabElement),n.swipe.on("move",(function(t){n.vine.offset=-(t+i)/p.BOOK_VINE_SPEED,n._updateOffset(-t)})).on("done",(function(t){if(t){i+=t,w.chapterProgress(n.originChapter,-t),_.explore("plantSwipe");for(var e=t>0?-1:1;n._resetOrigin(-t)===!1;)t+=e;n.swipe&&n.swipe.reset()}})),n}return i(e,t),a(e,[{key:"_updateOffset",value:function(t){if(!this.disposed&&this.originChapter){t+=this.originPage;var e=this.prevChapters[this.prevChapters.length-1]||this.originChapter,n=this.nextChapters[this.nextChapters.length-1]||this.originChapter,r=t;if(e.interpolatedPage<0){var o=this.prevOffsets[this.prevOffsets.length-1]||0;t=Math.max(-o-.9999,t)}if(n.interpolatedPage>0){var o=this.nextOffsets[this.nextOffsets.length-1]||0;t=Math.min(t,n.length-.9999+o)}if(null!==this.originChapter.needsReset){this.originChapter.needsReset=null;for(var i=0;i<this.prevChapters.length;i++)this.prevChapters[i].dispose();for(var i=0;i<this.nextChapters.length;i++)this.nextChapters[i].dispose();this.prevChapters.length=0,this.nextChapters.length=0,this.prevOffsets.length=0,this.nextOffsets.length=0,this.loadNextAt=+(1/0),this.loadPrevAt=-(1/0),this._loadNext(),this._loadPrev()}r!==t?this.swipe.boundLimit(t-r):this.swipe.boundLimit(0),this.pageOffset=t,this.originChapter.interpolatedPage=t,this.originChapter.repage(),t>=this.loadNextAt&&this._loadNext(),t<=this.loadPrevAt&&this._loadPrev();for(var a=t>-2&&t<0&&this.originChapter,s=t>=-1?t:1/0,c=this.originChapter,l=0;l<this.nextChapters.length;l++){var f=this.nextOffsets[l],h=this.nextChapters[l],d=t-f;h.interpolatedPage=d,h.repage(),d>-2&&d<0&&(a=h),d>-1&&d<s&&(c=h,s=d)}for(var p=0;p<this.prevChapters.length;p++){var v=this.prevOffsets[p],g=this.prevChapters[p],m=t+v;g.interpolatedPage=m,g.repage(),m>-2&&m<0&&(a=g),m>-1&&m<s&&(c=g,s=m)}var y=a?-a.interpolatedPage-1:0;a?(this.emit("moveBackground",Math.max(Math.min(1,-y),-1)),this.emit("changeFlower",a.slug,this.initialSlug)):this.emit("changeFlower",this.originChapter.slug,this.initialSlug),a=a||this.originChapter;var b=this.nextAvailableChapterIndex(c.slug),w=this.prevAvailableChapterIndex(c.slug),_=c.length-c.interpolatedPage,E=-1-c.interpolatedPage,x=a.length-a.interpolatedPage,A=-1-a.interpolatedPage,S=c.interpolatedPage;this.canvas.hidden=!(S<0||S>c.length-1),b===-1&&(_-=1);var O=[E,_],C=[0,0];if(w===-1&&(C[0]=+(E>-.5)),b===-1&&(C[1]=+(_<.5)),_<.5&&a.length<=1&&this.nextAvailableChapterIndex(u[b])===-1&&(C[1]=1),this.unlocker.opacity=b!==-1?0:1-_,this.vine.chapterWindow=O,this.vine.chapterSquash=C,this.number.opacity=b!==-1||c.length>1?Math.min(Math.abs(b!==-1?x:x-1),Math.abs(A)):0,c){var T=c.length;b===-1&&(T-=1),this.number.page=Math.min(Math.max(1,c.interpolatedPage+1),T),this.number.total=c.length}}}},{key:"prevAvailableChapterIndex",value:function(t){var e=u.indexOf(t);if(e<1)return-1;if(!this.filter)return e-1;for(;e-- >=1;)if(s[e].indexOf(this.filter)!==-1)return e;return-1}},{key:"nextAvailableChapterIndex",value:function(t){var e=u.indexOf(t);if(e===-1||e+1>=u.length)return-1;for(;++e<u.length;)if(!this.filter||s[e].indexOf(this.filter)!==-1)return _.isAvailable(u[e])?e:-1;return-1}},{key:"_resetOrigin",value:function(t){if(this.originPage+=t,this.originPage>=this.originChapter.length){for(var e,t,n=0;n<this.nextChapters.length;n++){var r=this.nextOffsets[n];if(r>=this.originPage+2)break;e=this.nextChapters[n],t=this.nextOffsets[n]-(this.nextOffsets[n-1]||0)}if(e)this.startChapter(e.slug,this.originPage-t);else{if(this.loadingNext&&_.isAvailable(this.nextSlug))return!1;g.go("/contents")}}else if(this.originPage<-1){for(var o,t=-(1/0),i=0;i<this.prevChapters.length&&(this.prevOffsets[i],!(t>=-1));i++)o=this.prevChapters[i],t=this.prevOffsets[i];if(o)this.startChapter(o.slug,this.originPage+t);else{if(this.loadingPrev&&_.isAvailable(this.prevSlug))return!1;g.go("/contents")}}else this._updateUri()}},{key:"_updateUri",value:function(){if(this.originSlug){var t="/chapter/"+this.originSlug,e={},n=this.originChapter.chapter.ranges[this.originPage];n&&(e.start=String(n[0])),this.filter&&(e.filter=this.filter);var r=m.stringify(e);r&&(t=t+"?"+r),g.replace(t)}}},{key:"_loadNext",value:function(){var t=this;if(!this.loadingNext){this.loadingNext=!0;var e=this.nextSlug;return e?void v.load(e,(function(n,r){if(n)return t.loadingNext=!1;var o=t.createChapter(e,r),i=t.nextChapters.length-1,a=i>=0?t.nextOffsets[i]+t.nextChapters[i].length+1:t.originChapter.length+1;
t.nextChapters.push(o),t.nextOffsets.push(a),t.loadNextAt+=o.length,t.nextSlug=v.nextSlug(e,t.filter),t.loadingNext=!1})):this.loadingNext=!1}}},{key:"_loadPrev",value:function(){var t=this;if(!this.loadingPrev){this.loadingPrev=!0;var e=this.prevSlug;return e?void v.load(e,(function(n,r){if(n)return t.loadingPrev=!1;var o=t.createChapter(e,r),i=(t.prevOffsets[t.prevOffsets.length-1]||0)+1,a=o.length+i;t.prevChapters.push(o),t.prevOffsets.push(a),t.loadPrevAt-=o.length,t.prevSlug=v.prevSlug(e,t.filter),t.loadingPrev=!1})):this.loadingPrev=!1}}},{key:"startChapter",value:function(t,e){var n=this;this.startLock=!0,this.currentSlug=t,window.document.title=t+" | SEED by Joanna Walsh",v.load(t,(function(r,o){if(t===n.currentSlug&&!n.disposed){n.originChapter=n.createChapter(t,o),n.originSlug=t,n.originPage=-1,n.initialSlug=n.initialSlug||t;var i=v.prevSlug(t,n.filter),a=v.nextSlug(t,n.filter);for(var s in n.chapters)n.chapters.hasOwnProperty(s)&&s!==t&&s!==i&&s!==a&&(n.chapters[s].dispose(),delete n.chapters[s]);if(n.nextSlug=a,n.prevSlug=i,n.loadPrevAt=1,n.loadNextAt=n.originChapter.length-1,n.nextChapters.length=0,n.prevChapters.length=0,n.nextOffsets.length=0,n.prevOffsets.length=0,"number"==typeof e)n.originPage=e;else if(e){for(var u=n.originChapter.chapter.ranges,c=0;c<u.length;c++){var l=u[c][0];if(l[0]>e[0])break;if(l[0]+1>e[0]&&l[1]>e[1])break}n.originPage=c-1}n._updateUri(),n._updateOffset(0)}}))}},{key:"createChapter",value:function(t,e){if(!t)return null;if(!e)return null;var n=!this.chapters[t]||this.chapters[t].disposed?this.chapters[t]=new c(e,t):this.chapters[t];return n.chapter.initSizes(),n.chapter.filter=this.filter,n.chapter.ranges=n.chapter.calculateRanges(),n}},{key:"enable",value:function(){this.swipe.enable()}},{key:"disable",value:function(){this.swipe.disable()}},{key:"dispose",value:function(){if(!this.disposed){this.close.parentNode.removeChild(this.close),this.close=null,this.disposed=!0,this.swipe.dispose(),this.vine.dispose(),this.vine=null,this.number.dispose(),this.letterbox.dispose(),this.unlocker.dispose(),this.title=null,this.number=null,this.letterbox=null,this.prevChapters=null,this.nextChapters=null,this.prevOffsets=null,this.nextOffsets=null;for(var t in this.chapters)this.chapters.hasOwnProperty(t)&&(this.chapters[t].dispose(),delete this.chapters[t]);this.swipe=null,this.chapters=null,this.currChapter=null,this.prevChapter=null,this.canvas=null,window.removeEventListener("resize",this.onResize,!1)}}}]),e})(l)}),{1:2,10:211,11:212,12:214,13:215,14:216,15:63,16:69,17:134,18:153,2:250,3:252,4:227,5:239,6:205,7:207,8:206,9:208}],211:[(function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var o=(function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}})(),i=t(2),a=t(1),s="_7c3ff6db";e.exports=(function(){function t(){var e=this;r(this,t),this.bars=[document.body.appendChild(document.createElement("div")),document.body.appendChild(document.createElement("div"))],this.bars[0].classList.add(s),this.bars[1].classList.add(s),this.bars[0].classList.add("left"),this.bars[1].classList.add("right"),this.resize=i(this._resize.bind(this)),this.resize(),window.addEventListener("resize",this.resize,!1),setTimeout((function(){e.bars[0].classList.add("ready"),e.bars[1].classList.add("ready")}))}return o(t,[{key:"_resize",value:function(){var t=Math.max(0,window.innerWidth-a.SITE_MAX_WIDTH)/2,e=t?"block":"none";this.bars[0].style.width=t+"px",this.bars[1].style.width=t+"px",this.bars[0].style.display=e,this.bars[1].style.display=e}},{key:"dispose",value:function(){var t=this;window.removeEventListener("resize",this.resize,!1),this.bars[0].classList.remove("ready"),this.bars[1].classList.remove("ready"),setTimeout((function(){document.body.removeChild(t.bars[0]),document.body.removeChild(t.bars[1]),t.bars=null}),500)}}]),t})()}),{1:2,2:69,3:111}],212:[(function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var o=(function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}})(),i=document.querySelector("main"),a="_6e76e70e";e.exports=(function(){function t(){r(this,t),this.disposed=!1,this.element=i.appendChild(document.createElement("div")),this.element.classList.add(a),this.wrap=this.element.appendChild(document.createElement("div")),this.wrap.classList.add("wrap"),this.inner=this.wrap.appendChild(document.createElement("div")),this.inner.classList.add("inner"),this.prev=this.inner.appendChild(document.createElement("div")),this.prev.classList.add("prev"),this.curr=this.inner.appendChild(document.createElement("div")),this.curr.classList.add("curr"),this.next=this.inner.appendChild(document.createElement("div")),this.next.classList.add("next"),this._page=0,this._total=1}return o(t,[{key:"dispose",value:function(){this.disposed||(this.disposed=!0,i.removeChild(this.element),this.element=null)}},{key:"updateValues",value:function(t,e){this.prev.innerHTML=t-1+" / "+e,this.curr.innerHTML=t+" / "+e,this.next.innerHTML=t+1+" / "+e}},{key:"page",get:function(){return this._page},set:function(t){if(t=+t,t!==this._page){var e=Math.floor(t);e!==Math.floor(this._page)&&this.updateValues(e,this._total);var n=Math.max(0,Math.abs(t-e)-.2)/.8,r=1-Math.max(0,Math.abs(t-e)+.2)/.8;this.next.style.opacity=n,this.curr.style.opacity=r,this.inner.style.webkitTransform=this.inner.style.transform="translate("+(-4*(t%1)).toFixed(3)+"rem, 0)",this._page=t}}},{key:"total",get:function(){return this._total},set:function(t){t=+t,t!==this._total&&(this._total=t,this.updateValues(this._page,this._total))}},{key:"opacity",get:function(){return this._opacity},set:function(t){t=Math.max(0,Math.min(+t,1)),t!==this._opacity&&(this._opacity=t,this.wrap.style.opacity=t)}}]),t})()}),{1:111}],213:[(function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a=(function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}})(),s=t(12).EventEmitter,u=t(2),c=t(6),l=t(7),f=t(9),h=t(4),d=t(8),p=t(10),v=t(1),g=t(3),m=t(5),y=t(11),b=document.querySelector("main");e.exports=(function(t){function e(t){r(this,e);var n=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));t=t||{};var i='\n      Welcome to Seed, a story that grows and decays, that becomes entangled and\n      disentangled. Written by Joanna Walsh with botanical illustrations by\n      Charlotte Hicks. Spanning four focused months from July to September at\n      the tail-end of the 1980s, Seed is narrated by an 18-year old girl. The\n      reader is taken on a lush journey through "story vines" to help navigate\n      the narrators innocent and claustrophobic surroundings.\n      Seed is a coming of age story that is both beautiful and dark.\n    '.trim().split(/\n{2,}/g).map((function(t){return t.split(/\s+/g)})),a=i.map((function(t){return[!1]})),s=i.map((function(t){return"000000"})),g=i.map((function(t){return 1}));n.unlocker=new p({preview:!0}),n.disposed=!1,n.chapter=new m(i,a,s,g,{}),n.pages=new c(n.chapter,"preview"),n.close=b.appendChild(l()),n.onReadMoreClick=n.onReadMoreClick.bind(n),n.pages.element.addEventListener("click",n.onReadMoreClick,!1),n.number=new f,n.pages.resize();var w=0;return n.vine=new y,n.letterbox=new d,n.swipe=new h(n.vine.element,t.grabElement),n.swipe.on("move",(function(t){t=Math.max(Math.min(0,t),-n.pages.length),n.emit("moveBackground",t>-1?-t:0),n.vine.offset=-t/v.BOOK_VINE_SPEED,n.vine.visible=n.pages.length>1,n.vine.chapterWindow=[n.pages.length+t,t],n.vine.chapterSquash=[+(t>-.5),+(n.pages.length+t<.5)],n.unlocker.opacity=1-n.pages.length-t,n.number.opacity=Math.abs(t)*(1-n.unlocker.opacity),n.number.page=Math.min(n.pages.length-1,Math.max(1,-t)),n.number.total=n.pages.length,n.pages.interpolatedPage=-(t+1),n.pages.repage()})).on("done",(function(t){t&&u.explore("titleInstructions"),w+=t,n.emit("moveBackground",0)})),n}return i(e,t),a(e,[{key:"onReadMoreClick",value:function(t){var e=t.target;e.classList.contains("end-link")&&window.ga&&(t.preventDefault(),ga("send","event","Read More","Clicked",{hitCallback:function(){g.go(e.getAttribute("href"))}}))}},{key:"dispose",value:function(){this.disposed||(this.disposed=!0,this.close.parentNode&&this.close.parentNode.removeChild(this.close),this.pages.element&&this.pages.element.removeEventListener("click",this.onReadMoreClick,!1),this.chapter=null,this.number.dispose(),this.unlocker.dispose(),this.letterbox.dispose(),this.letterbox=null,this.pages.dispose(),this.swipe.dispose(),this.vine.dispose(),this.unlocker=null,this.number=null,this.pages=null,this.close=null,this.swipe=null,this.vine=null)}}]),e})(s)}),{1:2,10:215,11:216,12:63,2:227,3:239,4:205,5:207,6:206,7:208,8:211,9:212}],214:[(function(t,e,n){"use strict";var r=t(1),o=(t(2),t(3)),i=(r.length,r.reduce((function(t,e,n){return t[e]=n,t}),{})),a=!!window.ga;n.chapterProgress=function(t,e){n.reportBookProgress(t),n.reportPageSpeed(e)};var s=localStorage.getItem("@seed/latest-chapter")||"opening",u=i[s]||0;n.reportBookProgress=o((function(t){var e=t.slug,n=i[e];"number"==typeof n&&(n<=u||(u=n,s=e,localStorage.setItem("@seed/latest-chapter",e),ga("set","dimension1",e)))}),500),n.reportPageSpeed=function(t){t&&ga("set","metric1",t)},a||Object.keys(n).forEach((function(t){return n[t]=function(){}}))}),{1:252,2:227,3:35}],215:[(function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t){var e=t.target.getAttribute("href");return u.go(e),t.preventDefault()}var i=(function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}})(),a=t(2),s=t(1),u=t(3),c=t(6),l=document.querySelector("main"),f="_903baa4e";e.exports=(function(){function e(t){return r(this,e),t=t||{},this.disposed=!1,this._opacity=0,this.preview=!!t.preview,this.calculateSectionData()?void(this.element=l.appendChild(this.render())):this.dispose()}return i(e,[{key:"calculateSectionData",value:function(){var t=a.latestSection()+1;if(t>3&&!this.preview)return!1;var e="opening",n=s.SECTION_MONTHS[t];for(var r in s.SECTION_TITLES)if(s.SECTION_TITLES[r]===t){e=r;break}return this.href="/unlock/"+(this.preview?"opening":e),this.name=t&&!this.preview?n:"Read",!0}},{key:"render",value:function(){var e=this._opacity?"block":"none",n=150*(1-this._opacity);return (function(){var e=t(4),n=document.createElement("div");n.setAttribute("style","\n        opacity: "+arguments[4]+";\n        display: "+arguments[5]+";\n        transform: translate("+arguments[6]+"px, 0);\n      "),n.setAttribute("class",arguments[7]);var r=document.createElement("a");return r.ontouchend=arguments[0],r.onclick=arguments[1],r.setAttribute("href",arguments[2]),e(r,[arguments[3]]),e(n,["\n        ",r,"\n      "]),n})(o,o,this.href,this.name,this._opacity,e,n.toFixed(4),f)}},{key:"update",value:function(){if(!this.disposed)return c.update(this.element,this.render()),this.element}},{key:"dispose",value:function(){this.disposed||(this.disposed=!0,this.element&&(l.removeChild(this.element),this.element=null))}},{key:"opacity",get:function(){return this._opacity},set:function(t){t>1&&(t=1),t<0&&(t=0),t!==this._opacity&&(this._opacity=t,this.update())}}]),e})()}),{1:2,2:227,3:239,4:204,5:111,6:202}],216:[(function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var o,i,a=(function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}})(),s=t(3),u=t(2),c=t(8).Scene,l=t(9),f=t(10),h=t(8),d=t(4),p=t(6),v=t(1),g=t(5),m=document.querySelector("main"),y="_b4f089f8",b=!1;e.exports=(function(){function t(e,n){var a=this;if(r(this,t),this._offset=0,this._visible=!0,this.hasRun=!1,this.element=m.appendChild(document.createElement("div")),this.element.classList.add(y),o||(o=document.createElement("canvas"),i=o.getContext("webgl"),i.getExtension("OES_standard_derivatives")),this.shouldRender=f([function(){return a._offset},function(){return o.width},function(){return o.height},function(){return a._visible}]),this.camera=h({zoom:v.CANVAS_DRAW_BOUNDS}),this.scene=c({background:[0,0,0,0],chapterWindow:[0,0],chapterSquash:[0,0]}),this.scene._projection=new Float32Array(16),this.scene.add(this.camera),this.scene.add(this.vines=[g(.1),g(.2),g(.6),g(1,e,n),g(.5),g(.15),g(0)]),b)this.safe=!1;else try{this._onTick(),this.safe=!0}catch(t){b=!0,this.safe=!1}this.safe?(this.element.appendChild(o),this.onTick=this._onTick.bind(this),this.onResize=p(o,null,window.devicePixelRatio||1),d.on("loop",this.onTick),window.addEventListener("resize",this.onResize,!1)):this.dispose()}return a(t,[{key:"_onTick",value:function(){if(!this.hasRun||this.shouldRender()){this.hasRun=!0;var t=o.width,e=o.height;this.scene.data.ratio=t/e,i.viewport(0,0,t,e),i.disable(i.CULL_FACE),i.disable(i.DEPTH_TEST),i.enable(i.BLEND),i.blendFuncSeparate(i.SRC_ALPHA,i.ONE_MINUS_SRC_ALPHA,i.ONE,i.ONE_MINUS_SRC_ALPHA),this.scene.step(),s(this.scene._projection,t,e),u(this.camera),this.scene.tick(),l.draw(i,this.scene,u(this.camera))}}},{key:"dispose",value:function(){this.onResize&&(window.removeEventListener("resize",this.onResize,!1),this.onResize=null),this.onTick&&(d.removeListener("loop",this.onTick),this.onTick=null),this.element.parentNode&&this.element.parentNode.removeChild(this.element)}},{key:"visible",get:function(){return this._visible},set:function(t){(t=!!t)!==this._visible&&(this._visible=t,this.element.style.display=t?"block":"none")}},{key:"offset",get:function(){return this._offset},set:function(t){if(t!==this._offset){this._offset=t;for(var e=0;e<this.vines.length;e++)this.vines[e].data.offset=t}}},{key:"chapterWindow",get:function(){return this.scene.data.chapterWindow},set:function(t){this.scene.data.chapterWindow=t}},{key:"chapterSquash",get:function(){return this.scene.data.chapterSquash},set:function(t){this.scene.data.chapterSquash=t}}]),t})()}),{1:2,10:164,2:225,3:226,4:239,5:249,6:29,7:111,8:120,9:125}],217:[(function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function a(t){return p({opacity:1,_opacity:1}).use(b).use(f,{geometry:y,shader:m,zIndex:-1,uniforms:function(t,e,n){n.uDarkness=d.CANVAS_VIGNETTE_DARKNESS,n.uOpacity=Math.pow(e.data._opacity,1.5),n.uMaxDarkness=d.CANVAS_VIGNETTE_MAX_DARKNESS,n.uSize=d.CANVAS_VIGNETTE_SIZE,n.uScreen=d.CANVAS_VIGNETTE_SCREEN_BASED,n.uShape=[t.canvas.width,t.canvas.height]},textures:{tNoise:v}})}var s=(function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}})(),u=t(3),c=t(2),l=t(8),f=t(6),h=t(4),d=t(1),p=t(5);e.exports=a;var v=l.fromImage("/img/noise.png");v.minFilter=9729,v.magFilter=9729,v.wrap[0]=10497,v.wrap[1]=10497;var g=(1/d.CANVAS_DRAW_BOUNDS).toFixed(8),m=t(7)("\n  precision mediump float;\n#define GLSLIFY 1\n\n\n  attribute vec2 position;\n  varying vec2 uv, suv;\n  uniform mat4 uProj, uView, uModel;\n  uniform float uDarkness, uMaxDarkness, uSize, uOpacity;\n  uniform bool uScreen;\n  uniform vec2 uShape;\n  uniform sampler2D tNoise;\n\n  float inverse(float m) {\n  return 1.0 / m;\n}\n\nmat2 inverse(mat2 m) {\n  return mat2(m[1][1],-m[0][1],\n             -m[1][0], m[0][0]) / (m[0][0]*m[1][1] - m[0][1]*m[1][0]);\n}\n\nmat3 inverse(mat3 m) {\n  float a00 = m[0][0], a01 = m[0][1], a02 = m[0][2];\n  float a10 = m[1][0], a11 = m[1][1], a12 = m[1][2];\n  float a20 = m[2][0], a21 = m[2][1], a22 = m[2][2];\n\n  float b01 = a22 * a11 - a12 * a21;\n  float b11 = -a22 * a10 + a12 * a20;\n  float b21 = a21 * a10 - a11 * a20;\n\n  float det = a00 * b01 + a01 * b11 + a02 * b21;\n\n  return mat3(b01, (-a22 * a01 + a02 * a21), (a12 * a01 - a02 * a11),\n              b11, (a22 * a00 - a02 * a20), (-a12 * a00 + a02 * a10),\n              b21, (-a21 * a00 + a01 * a20), (a11 * a00 - a01 * a10)) / det;\n}\n\nmat4 inverse(mat4 m) {\n  float\n      a00 = m[0][0], a01 = m[0][1], a02 = m[0][2], a03 = m[0][3],\n      a10 = m[1][0], a11 = m[1][1], a12 = m[1][2], a13 = m[1][3],\n      a20 = m[2][0], a21 = m[2][1], a22 = m[2][2], a23 = m[2][3],\n      a30 = m[3][0], a31 = m[3][1], a32 = m[3][2], a33 = m[3][3],\n\n      b00 = a00 * a11 - a01 * a10,\n      b01 = a00 * a12 - a02 * a10,\n      b02 = a00 * a13 - a03 * a10,\n      b03 = a01 * a12 - a02 * a11,\n      b04 = a01 * a13 - a03 * a11,\n      b05 = a02 * a13 - a03 * a12,\n      b06 = a20 * a31 - a21 * a30,\n      b07 = a20 * a32 - a22 * a30,\n      b08 = a20 * a33 - a23 * a30,\n      b09 = a21 * a32 - a22 * a31,\n      b10 = a21 * a33 - a23 * a31,\n      b11 = a22 * a33 - a23 * a32,\n\n      det = b00 * b11 - b01 * b10 + b02 * b09 + b03 * b08 - b04 * b07 + b05 * b06;\n\n  return mat4(\n      a11 * b11 - a12 * b10 + a13 * b09,\n      a02 * b10 - a01 * b11 - a03 * b09,\n      a31 * b05 - a32 * b04 + a33 * b03,\n      a22 * b04 - a21 * b05 - a23 * b03,\n      a12 * b08 - a10 * b11 - a13 * b07,\n      a00 * b11 - a02 * b08 + a03 * b07,\n      a32 * b02 - a30 * b05 - a33 * b01,\n      a20 * b05 - a22 * b02 + a23 * b01,\n      a10 * b10 - a11 * b08 + a13 * b06,\n      a01 * b08 - a00 * b10 - a03 * b06,\n      a30 * b04 - a31 * b02 + a33 * b00,\n      a21 * b02 - a20 * b04 - a23 * b00,\n      a11 * b07 - a10 * b09 - a12 * b06,\n      a00 * b09 - a01 * b07 + a02 * b06,\n      a31 * b01 - a30 * b03 - a32 * b00,\n      a20 * b03 - a21 * b01 + a22 * b00) / det;\n}\n\n  void vert() {\n    float ws = "+g+";\n    vec2 pos = position;\n\n    if (uShape.y > uShape.x) {\n      pos.y *= uShape.y / uShape.x;\n    } else {\n      pos.x *= uShape.x / uShape.y;\n    }\n\n    pos *= 1.001; // minimises impact of uv precision issues causing parallax\n\n    vec4 projected = inverse(uView) * uModel * vec4(pos * vec2(1, -1), 0, ws);\n\n    suv = projected.xy / projected.w * ws;\n    suv *= 4.0;\n\n    uv = uScreen ? position : suv;\n\n    gl_Position = vec4(position, 0, 1);\n  }\n\n  void main () { vert(); }","\n  precision mediump float;\n#define GLSLIFY 1\n\n\n  varying vec2 uv, suv;\n  uniform mat4 uProj, uView, uModel;\n  uniform float uDarkness, uMaxDarkness, uSize, uOpacity;\n  uniform bool uScreen;\n  uniform vec2 uShape;\n  uniform sampler2D tNoise;\n\n  void frag() {\n    vec3 noiseSample = texture2D(tNoise, suv).rgb;\n\n    float vignette = min(uMaxDarkness, dot(uv * uSize, uv)) * uDarkness;\n    float noiseProcessed = pow(noiseSample.r, 2.0) * 0.28125;\n\n    gl_FragColor = vec4(0, 0, 0, uOpacity * (noiseProcessed + vignette));\n  }\n\nvoid main () { frag(); }");c.register(m);var y=h().attr("position",[[-1,-1],[-1,4],[4,-1]]),b=(function(t){function e(){return r(this,e),o(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return i(e,t),s(e,[{key:"init",value:function(t){this.node=t}},{key:"step",value:function(t){var e=this.node.data;e._opacity+=.05*(e.opacity-e._opacity)}}]),e})(u("@seed/background"))}),{1:2,2:240,3:115,4:116,5:120,6:125,7:127,8:128}],218:[(function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a=(function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}})(),s=t(2),u=t(1);e.exports=(function(t){function e(){return r(this,e),o(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return i(e,t),a(e,[{key:"init",value:function(t,e){var n=t.data;this.node=t,n.zoom=n.zoom||1,n.rate=n.rate||u.CAMERA_AUTOZOOM_RATE,n.zoomTarget=n.zoomTarget||n.zoom,n.zoomRange=this.getZoomRange(n.zoom)}},{key:"step",value:function(){var t=this.node.data;t.zoom+=(t.zoomTarget-t.zoom)*t.rate,t.zoomRange=this.getZoomRange(t.zoom)}},{key:"getZoomRange",value:function(t){return(t-u.CAMERA_ZOOM_IN_AMOUNT)/(u.CAMERA_ZOOM_OUT_AMOUNT-u.CAMERA_ZOOM_IN_AMOUNT)}}]),e})(s("@seed/camera"))}),{1:2,2:115}],219:[(function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function a(t,e,n){var r=new Float32Array(16),o=0;return g({scale:.03,opacity:o}).use(m,{camera:e}).use(d,{shader:u,zIndex:999999,uniforms:function(t,e,n){var i=t.canvas.height/t.canvas.width,a=5,s=5,u=-100*Math.max(1,1/i)+4.5+a,c=-100*Math.max(1,i)+10+a,d=0;f(r),l(r,r,[u,c,d]),h(r,r,[s,s,s]),l(r,r,[-e.data.position[0],-e.data.position[1],-e.data.position[2]]);var p=e.data.opacity-o;o+=p*(p>0?.07:.025),n.uView=r,n.uThickness=.05,n.uAlpha=Math.max(0,2*o-1),n.uOpacity=1,n.uColor=v.CANVAS_TEXT_COLOR,n.uScrim=1}}).use(p,{text:t,font:n,align:"right"})}var s=(function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}})(),u=t(3)(),c=t(7),l=t(6),f=t(4),h=t(5),d=t(9),p=t(2),v=t(1),g=t(8);e.exports=a;var m=(function(t){function e(){return r(this,e),o(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return i(e,t),s(e,[{key:"init",value:function(t,e){this.node=t,this.camera=e.camera}}]),e})(c("@seed/date"))}),{1:2,2:230,3:231,4:76,5:82,6:83,7:115,8:120,9:125}],220:[(function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a=(function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}})(),s=t(3),u=t(4),c=t(6),l=t(2),f=t(1),h=t(5);e.exports=function(t,e,n,r,o,i,a,u){var p=0;return h({scale:.00255*(i||1),position:[0,r?-1.2:1.2,0],opacity:0,targetOpacity:0}).use(c,{shader:s({sweep:o}),uniforms:function(e,n,r){var o=+!t.data.selected;p+=.1*(o-p),r.uThickness=.0075,r.uAlpha=Math.max(0,Math.min(1,n.data.opacity)),r.uOpacity=1,r.uColor=f.CANVAS_TEXT_COLOR,r.uScrim=p}}).use(l,{text:e,font:n,letterSpacing:a}).use(d,{isEnabled:u,flower:t,sweep:o,flip:r})};var d=(function(t){function e(){return r(this,e),o(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return i(e,t),a(e,[{key:"init",value:function(t,e){this.node=t,this.flip=e.flip,this.sweep=e.sweep,this.isEnabled=e.isEnabled||function(){return!0}}},{key:"step",value:function(){var t=this.node.parent,e=this.node.data;if(e.visible=t.data.visible){var n=e.targetOpacity;this.isEnabled()?(n=2*n*.5,n*=+!!(t.data.selected||t.data.focused&&t.component("@seed/flower").circleOpacity>.5)):n=0,this.flip||(n*=this.sweep?!!t.data.selected:!t.data.selected),e.opacity+=.075*(n-e.opacity)}}}]),e})(u("@seed/flower-child-text"))}),{1:2,2:230,3:231,4:115,5:120,6:125}],221:[(function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function a(t){for(t=String(t);t.length<2;)t="0"+t;return t}var s=(function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}})(),u=t(7),c=t(16),l=t(6),f=t(11),h=t(10),d=t(8),p=t(14),v=t(9),g=t(12),m=t(13),y=t(1),b=(y.FLOWER_SMALL_SIZE,y.FLOWER_LARGE_SIZE),w=y.FLOWER_FADE_RATE,_=y.CIRCLE_FADE_RATE,E=y.CAMERA_ZOOM_IN_AMOUNT,x=y.CAMERA_ZOOM_OUT_AMOUNT,A=E+(x-E)/2,S=function(e){return t(15)("\n  #extension GL_OES_standard_derivatives : enable\n  precision mediump float;\n#define GLSLIFY 1\n\n\n  attribute vec2 position;\n\n  #define DISPLAY_FLOWER "+e.flower+"\n  #define DISPLAY_CIRCLE "+e.circle+"\n  #define TRANSITION_ENABLED "+e.transition+"\n\n  uniform mat4 uProj, uView, uModel;\n  uniform sampler2D tSpritesheetBloom;\n  uniform sampler2D tSpritesheetUnbloom;\n  uniform sampler2D tBackground;\n\n  uniform float uBloomProgress;\n  uniform vec4 uBackgroundColor;\n  uniform vec3 uCircleStroke;\n  uniform vec3 uCircleFill;\n  uniform float uCircleOpacity;\n  uniform float uCircleScale;\n  uniform float uOpacity;\n  uniform bool uFaded;\n  uniform vec4 uSpriteUV;\n  varying vec2 vUV;\n  varying vec2 vbgUV;\n\n  void vert() {\n    vec2 uv = position * 0.5 + 0.5;\n    vUV = uSpriteUV.xy + uv * uSpriteUV.zw;\n    vUV.y = 1.0 - vUV.y;\n\n    // circle: flip y\n    vbgUV = vec2(uv.x, 1.0 - uv.y);\n    // circle: scaling\n    vbgUV = vbgUV * 2.0 - 1.0;\n    vbgUV /= uCircleScale;\n    vbgUV = vbgUV * 0.5 + 0.5;\n\n    gl_Position = uProj * uView * uModel * vec4(position, 1.0, 1.0);\n  }\n\n  #if !DISPLAY_FLOWER && !DISPLAY_CIRCLE\n    #error must display either flower or circle\n  #endif\n\n  void main () { vert(); }","\n  #extension GL_OES_standard_derivatives : enable\n  precision mediump float;\n#define GLSLIFY 1\n\n\n  #define DISPLAY_FLOWER "+e.flower+"\n  #define DISPLAY_CIRCLE "+e.circle+"\n  #define TRANSITION_ENABLED "+e.transition+"\n\n  uniform mat4 uProj, uView, uModel;\n  uniform sampler2D tSpritesheetBloom;\n  uniform sampler2D tSpritesheetUnbloom;\n  uniform sampler2D tBackground;\n\n  uniform float uBloomProgress;\n  uniform vec4 uBackgroundColor;\n  uniform vec3 uCircleStroke;\n  uniform vec3 uCircleFill;\n  uniform float uCircleOpacity;\n  uniform float uCircleScale;\n  uniform float uOpacity;\n  uniform bool uFaded;\n  uniform vec4 uSpriteUV;\n  varying vec2 vUV;\n  varying vec2 vbgUV;\n\n  float luma(vec3 color) {\n  return dot(color, vec3(0.299, 0.587, 0.114));\n}\n\nfloat luma(vec4 color) {\n  return dot(color.rgb, vec3(0.299, 0.587, 0.114));\n}\n\n  #if !DISPLAY_FLOWER && !DISPLAY_CIRCLE\n    #error must display either flower or circle\n  #endif\n\n  void frag() {\n    #if DISPLAY_CIRCLE\n      vec4 bg = texture2D(tBackground, vbgUV) * vec4(1, 1, 1, uCircleOpacity);\n    #endif\n\n    #if DISPLAY_FLOWER\n      #if TRANSITION_ENABLED\n        vec4 flower = mix(\n          texture2D(tSpritesheetUnbloom, vUV),\n          texture2D(tSpritesheetBloom, vUV),\n          uBloomProgress\n        );\n      #else\n        vec4 flower = texture2D(tSpritesheetBloom, vUV);\n      #endif\n\n      flower.rgb = mix(flower.rgb, vec3(1), uFaded ? 0.45 : 0.0);\n    #else\n      vec4 flower = vec4(0);\n    #endif\n\n    #if DISPLAY_CIRCLE && DISPLAY_FLOWER\n      vec4 color = vec4(mix(bg.rgb, flower.rgb, flower.a), min(1.0, bg.a + flower.a));\n    #endif\n    #if DISPLAY_CIRCLE && !DISPLAY_FLOWER\n      vec4 color = bg;\n    #endif\n    #if DISPLAY_FLOWER && !DISPLAY_CIRCLE\n      vec4 color = flower;\n    #endif\n\n    gl_FragColor = color * vec4(1.0, 1.0, 1.0, uOpacity);\n    gl_FragColor.rgb = vec3(mix(vec3(luma(gl_FragColor.rgb)), gl_FragColor.rgb, (uOpacity - 0.45) / 0.55));\n  }\n\nvoid main () { frag(); }")},O=[S({flower:1,circle:1,transition:0}),S({flower:1,circle:1,transition:1})],C=[S({flower:1,circle:0,transition:0}),S({flower:1,circle:0,transition:1})];l.register(O[0]),l.register(O[1]),l.register(C[0]),l.register(C[1]);var T=g().attr("position",[[-1,1],[-1,-1],[1,1],[1,-1],[1,1],[-1,-1]]),R=c.fromImage("/img/spritesheet-bloom.png"),P=c.fromImage("/img/spritesheet.png"),I=c.fromImage("/img/bg-circle.png");P.minFilter=9729,P.magFilter=9729,I.minFilter=9729,I.magFilter=9729;var k=t(4),M=t(2),L=t(3),F=t(5);e.exports=function(t,e){var n=L.indexOf(t.slug),r=d.hasRead(t.slug);r||d.once("read:"+t.slug,(function(){o.data.bloomAmount=1}));var o=m({position:t.position.concat(0),threads:t.threads,slug:t.slug,scale:10,unlocked:d.isAvailable(t.slug),filtered:!0,focused:!0,selected:!1,faded:!1,textOpacity:0,seen:!1,bloomAmount:+r,bloomRealAmount:+r,section:M[n],title:k[n]||t.slug||"",resetChapterDisplay:function(){o.component("@seed/flower").circleOpacity=0}}).use(p,{geometry:T,shader:O[1],zIndex:10,textures:{tSpritesheetUnbloom:P,tSpritesheetBloom:R,tBackground:I}}).use(B,t);return o.data.nodeTitle=u(o,o.data.title,e.CrimsonTextItalic,!0,!1,.95,2),o.data.nodeSubtitle=u(o,"Tap",e.AlegreyaSansSC,!1,!1,1.25,5,(function(){return!d.hasExplored("plantTap")})),o.data.nodeSwipe=u(o,"Swipe",e.AlegreyaSansSC,!1,!0,1.25,5,(function(){return!d.hasExplored("plantSwipe")})),o.add(o.data.nodeSubtitle),o.add(o.data.nodeSwipe),o.add(o.data.nodeTitle),o.data.unlocked||d.on("changeSection",(function(t){
o.data.unlocked=o.data.section<=t})),o};var N=new Float32Array(16),D=[0,0,1,1],j={},U=192,B=(function(t){function e(){return r(this,e),o(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return i(e,t),s(e,[{key:"init",value:function(t,e){var n=this;this.slug=e.slug,this.node=t,this.isBig=!1,this.notRun=!0,this.render=t.component(p),this.background=null;var r=L.indexOf(this.slug);r===-1&&(r=0),r%=F.count,this.index=r;var o=F.shape[0];F.shape[1],this.spriteLookup=[this.index%o,Math.floor(this.index/o)],this.spriteLookup[0]=this.spriteLookup[0]/F.shape[0],this.spriteLookup[1]=this.spriteLookup[1]/F.shape[1],this.spriteLookup[2]=1/F.shape[0],this.spriteLookup[3]=1/F.shape[1],this.src=["/img/"+b+"-flower-"+a(r+1)+".png","/img/"+b+"-flower-"+a(r+1)+"-bloom.png"],this.aabb=[[0,0,0],[0,0,0]],this.opacity=t.data.unlocked?1:.45,this.circleOpacity=0,t.data.bloomRealAmount=+t.data.bloomAmount,this.render.uniforms=function(t,e,r){e.data.bloomRealAmount+=(e.data.bloomAmount-e.data.bloomRealAmount)*y.FLOWER_BLOOM_RATE,r.uBloomProgress=e.data.bloomRealAmount,r.uSpriteUV=n.isBig?D:n.spriteLookup,r.uOpacity=n.opacity,r.uCircleScale=y.FLOWER_CIRCLE_SCALE,r.uCircleOpacity=n.circleOpacity,r.uFaded=e.data.faded,r.uBackgroundColor=n.background,r.uCircleStroke=y.FLOWER_CIRCLE_STROKE,r.uCircleFill=y.FLOWER_CIRCLE_FILL}}},{key:"preStep",value:function(){if(!this.root){for(var t=this.node.parent;t.parent;)t=t.parent;this.root=t}var e=this.node.data;e.visible&&(e.nodeTitle.data.targetOpacity=e.textOpacity,e.nodeSwipe.data.targetOpacity=e.textOpacity,e.nodeSubtitle.data.targetOpacity=e.textOpacity)}},{key:"preDraw",value:function(t){var e=this.node.data;this.background=t.background;var n=+!!e.focused;e.unlocked&&e.filtered||(n*=.45),n*=!this.root.data.preview;var r=this.root.data.camera.data.zoom>A,o=e.selected,i=+(r&&!o);this.opacity+=(n-this.opacity)*w,this.circleOpacity+=(i-this.circleOpacity)*_;var e=this.node.data,a=e.scale[0],s=e.position;if(this.aabb[0][0]=s[0]-a,this.aabb[0][1]=s[1]-a,this.aabb[0][2]=s[2]-a,this.aabb[1][0]=s[0]+a,this.aabb[1][1]=s[1]+a,this.aabb[1][2]=s[2]+a,h(N,t.proj,t.view),e.visible=e.selected||v(N,this.aabb),e.visible){var u=t.view[0],c=(t.proj[0],a*t.proj[0]*u*t.width),l=!r&&this.circleOpacity<.005,f="opening"!==e.slug&&Math.abs(2*e.bloomRealAmount-1)>.999?0:1,d=e.bloomRealAmount>.5;if(this.render.shader=l?C[f]:O[f],c>U){var p=this.grabTextureFromCache(this.src[0]),g=this.grabTextureFromCache(this.src[1]),m=p.isLoaded&&g.isLoaded,y=m?p:P,b=m?g:R;f||(d?y=b:b=y),this.isBig=m,this.render.textures.tSpritesheetUnbloom=y,this.render.textures.tSpritesheetBloom=b}else if(this.isBig||this.notRun){var y=P,b=R;f||(d?y=b:b=y),this.isBig=!1,this.notRun=!1,this.render.textures.tSpritesheetUnbloom=y,this.render.textures.tSpritesheetBloom=b}}}},{key:"grabTextureFromCache",value:function(t){var e=j[t]=j[t]||this.createTextureForCache(t);return e}},{key:"createTextureForCache",value:function(t){var e=c.fromImage(t);return e.minFilter=9729,e.magFilter=9729,e}}]),e})(f("@seed/flower"))}),{1:2,10:79,11:115,12:116,13:120,14:125,15:127,16:128,2:251,3:252,4:254,5:256,6:240,7:220,8:227,9:22}],222:[(function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a=(function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}})(),s=t(2),u=t(1),c=[0,0,0];e.exports=(function(t){function e(){return r(this,e),o(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return i(e,t),a(e,[{key:"init",value:function(t,e){this.node=t,this.elements=e.elements,this.enabled=e.enabled||function(){return!0},this.latestTarget=null}},{key:"step",value:function(){if(this.node.data.moveTarget){var t=this.node.data.moveTarget,e=this.node.data.moveRate,n=this.node.data.position,r=Math.abs(t[0]-n[0]),o=Math.abs(t[1]-n[1]);return void(r+o<.1?(this.node.data.moveTarget=null,this.node.setPosition(t)):this.node.setPosition(n[0]+(t[0]-n[0])*e,n[1]+(t[1]-n[1])*e,n[2]))}if(this.enabled()){var i=this.node.data.position,a=i[0],s=i[1],l=this.closest(a,s),f=this.shouldPreferCenter(l,a,s),h=f?c:l&&l.data.position;h?(this.latestTarget=l,this.node.setPosition(i[0]+(h[0]-i[0])*u.CAMERA_HOMING_RATE,i[1]+(h[1]-i[1])*u.CAMERA_HOMING_RATE,i[2])):this.latestTarget=null}}},{key:"shouldPreferCenter",value:function(t,e,n,r){r=r||u.CAMERA_HOMING_DIST;var o=e*e+n*n,i=r*r*1.5,a=o<i;if(t){if(!a)return!1;var s=t.data.position,c=s[0]-e,l=s[1]-n,f=c*c+l*l;if(f<o)return!1}return a}},{key:"closest",value:function(t,e,n){if(arguments.length>=2)var r=t,o=e;else var i=this.node.data.position,r=i[0],o=i[1];for(var a=n||u.CAMERA_HOMING_DIST,s=this.elements,c=1/0,l=null,f=0;f<s.length;f++){var h=s[f].data;if(h.unlocked&&h.filtered){var d=h.position,p=r-d[0],v=o-d[1],g=p*p+v*v;g<c&&(c=g,l=f)}}return c<a*a&&s[l]||null}}]),e})(s("@seed/homing"))}),{1:2,2:115}],223:[(function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a=(function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}})(),s=t(2),u=t(3),c=t(17),l=(t(5),t(25)),f=t(12),h=t(18),d=t(21).EventEmitter,p=t(11),v=t(22),g=t(24),m=t(23),y=t(13),b=t(9),w=t(6),_=t(29),E=t(14),x=t(27),A=t(8),S=t(30),O=t(1),C=t(16),T=t(28),R=t(4),P=t(15),I=t(7),k=t(10),M=t(20),L=(t(31),"_9e4f571a"),F=(document.querySelector("main"),document.body.appendChild(function(){var e=(t(19),document.createElement("div"));return e.setAttribute("class",arguments[0]),e}(L))),N=(function(t){function e(t){r(this,e);var n=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));n.running=!0,n.preview=!1,n._enabled=!0,n._focus=null,n.vines=[],n.flowers=[],n.flowerIndex={},n.hidden=!1,n.main=T(),n.mouseMatrix=v(new Float32Array(16)),n.width=window.innerWidth,n.height=window.innerHeight,n.fonts={};var i=window.devicePixelRatio||1;n.canvas=F.appendChild(t.canvas||document.createElement("canvas")),n.resizeCanvas=M(n.canvas,F,i),window.addEventListener("resize",n.resizeCanvas,!1),n.title=null,n.camera=T({moveTarget:null,moveRate:O.CAMERA_FOCUS_RATE,zoom:y.isAvailable("opening")?O.CAMERA_ZOOM_OUT_AMOUNT:O.CAMERA_ZOOM_OUT_AMOUNT/2,rate:y.isAvailable("opening")?O.CAMERA_AUTOZOOM_RATE:O.CAMERA_INITZOOM_RATE,zoomTarget:y.isAvailable("opening")?null:O.CAMERA_ZOOM_IN_AMOUNT}).use(I).use(E,{element:n.canvas,onTap:function(t){var e=n.mouseToWorld(t),r=n.camera.component(k),o=r.closest(e[0],e[1]),i=r.shouldPreferCenter(o,e[0],e[1]),a=n.title.data.wrap.data.scale[0],s=i&&Math.abs(e[1]-15.5)<1.5*a&&Math.abs(e[0])<10*a;return s?R.go("/acknowledgements"):i?R.go("/preview"):void(o&&o.data.visible&&R.go("/chapter/"+o.data.slug))},onMove:function(t,e){if(!e){var r=O.CAMERA_ZOOM_OUT_AMOUNT,o=O.CAMERA_ZOOM_IN_AMOUNT,i=o+(r-o)/2;if(n.camera.data.zoom<i)return!1;var a=n.mouseToWorld(t),s=n.camera.component(k),u=s.closest(a[0],a[1],8.25);u||s.shouldPreferCenter(u,a[0],a[1],12)?n.canvas.style.cursor="pointer":n.canvas.style.cursor=null}},onZoomTap:function(t){var e=n.mouseToWorld(t),r=n.camera.component(k),o=r.closest(e[0],e[1]),i=r.shouldPreferCenter(o,e[0],e[1]);return i?(n.camera.data.moveTarget=[0,0,0],void(n.camera.data.zoomTarget=O.CAMERA_ZOOM_IN_AMOUNT)):void(o&&n.jumpToFlower(o.data.slug))},onInteraction:function(){n.camera.data.moveTarget=null,n.camera.data.moveRate=O.CAMERA_HOMING_RATE,n.camera.data.rate=O.CAMERA_AUTOZOOM_RATE}}).use(k,{elements:n.flowers,enabled:function(){if(n.camera.component(E).panning)return!1;var t=O.CAMERA_ZOOM_OUT_AMOUNT,e=O.CAMERA_ZOOM_IN_AMOUNT,r=e+(t-e)/2;return!(n.camera.data.zoom<r)}}),n.stats={frame:0},n.resetStats(),n.scene=T.Scene({stats:n.stats,camera:n.camera,background:[O.CANVAS_BACKGROUND_EXPLORE[0]/255,O.CANVAS_BACKGROUND_EXPLORE[1]/255,O.CANVAS_BACKGROUND_EXPLORE[2]/255,1],pixelRatio:i,preview:!1}),n.cameraOffset=T(),n.cameraOffset.add(n.camera),n.background=w(n.camera),n.spores=new P(n.scene),n.date=null,n.scene.add(n.background),n.scene.add(n.cameraOffset),n.scene.add(n.main),n.scene._projection=new Float32Array(16),y.on("latestChapter",(function(t){n.updateSporePosition(t)}));var a,s=0;return n.scene.loop(n.canvas,(function(t,e,r){if(n.running&&(a||(a=t.getExtension("OES_standard_derivatives")||!0),n.width=e/n.scene.data.pixelRatio,n.height=r/n.scene.data.pixelRatio,n.resetStats(),R.emit("loop"),!n.hidden)){var o=n.scene.data.background,i=n.focus||!n.background.data.opacity?O.CANVAS_BACKGROUND_CHAPTER:O.CANVAS_BACKGROUND_EXPLORE;c(n.dates,n.camera.component(k).latestTarget,n.camera.data.zoom),o[0]+=.1*(i[0]/255-o[0]),o[1]+=.1*(i[1]/255-o[1]),o[2]+=.1*(i[2]/255-o[2]),t.disable(t.DEPTH_TEST),t.disable(t.CULL_FACE),t.enable(t.BLEND),t.blendFuncSeparate(t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA),s++,n.spores.shouldDisplay=!n.focus&&!n.preview&&s>10,n.scene.step(),n.updateFlowerTitleVisibility();var u=f(n.scene._projection,e,r),l=p(n.camera);g(n.mouseMatrix,u,l),m(n.mouseMatrix,n.mouseMatrix),_.draw(t,n.scene,l)}})),n}return i(e,t),a(e,[{key:"resetStats",value:function(){}},{key:"updateFlowerTitleVisibility",value:function(){var t=this.camera;if(!(t.data.zoom<O.CAMERA_ZOOM_IN_AMOUNT-1))for(var e=this.flowers,n=t.data.position,r=0;r<e.length;r++){var o=e[r],i=o.data.position;if(o.data.visible&&o.data.unlocked&&o.data.filtered){var a=i[0]-n[0],s=i[1]-n[1],u=a*a+s*s,c=u<100?1:0;o.data.textOpacity=c}else o.data.textOpacity=0}}},{key:"jumpToFlower",value:function(t){if(y.isAvailable(t)){var e=this.findBySlug(t),n=this.camera.component(k);if(this.camera.data.moveTarget=e.data.position.slice(),this.enabled)n.latestTarget=e,this.camera.data.zoomTarget=O.CAMERA_ZOOM_IN_AMOUNT;else{var r=e.component("@seed/flower");r.circleOpacity=0,n.latestTarget=null,this.camera.setPosition(e.data.position),this.camera.data.zoom=O.CAMERA_ZOOM_IN_AMOUNT}}}},{key:"findBySlug",value:function(t){return this.flowerIndex[t]}},{key:"clear",value:function(){this.scene.remove(this.flowers),this.flowers=[],this.flowerIndex={}}},{key:"loadFlowers",value:function(t){for(var e=this.flowerIndex,n=this.flowers,r=0;r<t.length;r++){var o=b(t[r],this.fonts);n.push(o),e[t[r].slug]=o,this.main.add(o)}this.updateSporePosition()}},{key:"loadVine",value:function(t,e,n,r){var o=h(t,e,n,r);return this.vines.push(o),this.main.add(o),o}},{key:"loadLayout",value:function(t,e,n){for(var r=this,o=t.chapterPositions,i=[],a=0;a<o.length;a++)i.push({position:o[a],slug:u[a],threads:s[a]});for(var c=x().attr("position",e,{dimensions:4}).attr("normal",n,{dimensions:2}),l=t.chapterGraph,a=0;a<l.length;a++){var f=u[l[a].source],h=u[l[a].target];l[a].unlocked=y.isAvailable(f)&&y.isAvailable(h),this.loadVine(c,l[a],e,n)}this.loadFlowers(i),this.title=C(this.fonts.CrimsonText,this.fonts.AlegreyaSansSC),this.scene.add(this.title),this.dates=O.SECTION_MONTHS.map((function(t){return A(t+", 1988",r.camera,r.fonts.AlegreyaSansSC)})),this.scene.add(this.dates)}},{key:"loadFonts",value:function(t){S(this.fonts,t)}},{key:"cameraPageShift",value:function(t){this.cameraOffset.setPosition(t*O.CANVAS_DRAW_BOUNDS*2/this.zoom,0,0)}},{key:"resetChapterFlower",value:function(t){this.flowerIndex[t]&&this.flowerIndex[t].data.resetChapterDisplay()}},{key:"mouseToWorld",value:function(t){var e=this.width,n=this.height;return t=t.slice(),t[0]=2*(t[0]/e)-1,t[1]=1-2*(t[1]/n),t[2]=0,t[3]=1,l(t,t,this.mouseMatrix),t}},{key:"updateSporePosition",value:function(t){var e=this.latestChapterPosition(t);e?this.spores.target(e[0]/19,e[1]/19,.55):this.spores.target(0,0,.75)}},{key:"latestChapterPosition",value:function(t){t=t||y.latestChapter();var e=this.flowerIndex[t];return!!e&&e.data.position}},{key:"zoom",get:function(){return this.camera.data.zoomTarget},set:function(t){return this.camera.data.zoomTarget=t}},{key:"enabled",get:function(){return this._enabled},set:function(t){this._enabled!==(t=!!t)&&(this._enabled=t,this.camera.component(E).enabled=t)}},{key:"focus",get:function(){return this._focus},set:function(t){if(this._focus!==t&&(!t||y.isAvailable(t))){this._focus=t,t&&this.jumpToFlower(t),this.background.data.opacity=+!t,this.title.data.opacity=+!t;for(var e=0;e<this.flowers.length;e++){var n=this.flowers[e].data;n.selected=n.slug===t,n.focused=!t||n.selected,n.visible=n.visible||n.focused}for(var e=0;e<this.vines.length;e++)this.vines[e].data.inBook=!!t}}},{key:"filter",get:function(){return this._filter},set:function(t){if(this._filter!==t){for(var e=0;e<this.vines.length;e++){var n=this.vines[e].data;n.enabled=!t||n.color===t}for(var e=0;e<this.flowers.length;e++){var n=this.flowers[e].data;n.filtered=!t||this.flowers[e].data.threads.indexOf(t)!==-1}this._filter=t}}}]),e})(d);e.exports=N}),{1:2,10:222,11:225,12:226,13:227,14:228,15:229,16:234,17:235,18:237,19:204,2:250,20:29,21:63,22:76,23:77,24:79,25:92,26:111,27:116,28:120,29:125,3:252,30:201,31:202,4:239,5:249,6:217,7:218,8:219,9:221}],224:[(function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a=(function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}})(),s=t(3)(),u=t(4),c=t(6),l=t(2),f=t(1),h=t(5);e.exports=function(t,e,n,r,o,i,a){return i="undefined"==typeof i?.115:i,h({scale:.00175*(o||1),position:[0,0,0],opacity:1}).use(c,{shader:s,uniforms:function(t,e,o){var a=+!e.parent.parent.data.joannaHidden;o.uThickness=i,o.uAlpha=Math.max(0,Math.min(1,e.data.opacity)),n.data.opacity+=.1*(o.uAlpha*a-n.data.opacity),r.data.opacity+=.1*(1-a-r.data.opacity),o.uOpacity=1,o.uColor=f.CANVAS_TEXT_COLOR,o.uScrim=1}}).use(l,{text:t,font:e,letterSpacing:a}).use(d,{maxRadius:5})};var d=(function(t){function e(){return r(this,e),o(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return i(e,t),a(e,[{key:"init",value:function(t,e){this.node=t,this.maxRadius=e.maxRadius||0,this.maxRadiusSquared=this.maxRadius*this.maxRadius}},{key:"preDraw",value:function(t){var e=this.node.parent.parent,n=this.node.data,r=t.eye[0],o=t.eye[1],i=r*r+o*o,a=+(!e.data.joannaHidden&&i<this.maxRadiusSquared);n.opacity+=.1*(a-n.opacity)}}]),e})(u("@seed/joanna-name"))}),{1:2,2:230,3:231,4:115,5:120,6:125}],225:[(function(t,e,n){"use strict";function r(t){var e=t.data;return c[0]=0,c[1]=0,c[2]=0,o(c,c,t.modelMatrix),c[0]=-c[0],c[1]=-c[1],c[2]=-c[2],l[0]=e.zoom,l[1]=e.zoom,l[2]=e.zoom,a(u),s(u,u,l),i(u,u,c),u}var o=t(4),i=t(3),a=t(1),s=t(2),u=new Float32Array(16),c=new Float32Array(3),l=new Float32Array(3);e.exports=r}),{1:76,2:82,3:83,4:92}],226:[(function(t,e,n){"use strict";function r(t,e,n){var r=i.CANVAS_DRAW_BOUNDS;if(e>n){var a=e/n;o(t,-r*a,r*a,+r,-r,-r,+r)}else{var a=n/e;o(t,-r,+r,r*a,-r*a,-r,+r)}return t}var o=t(2),i=t(1);e.exports=r}),{1:2,2:80}],227:[(function(t,e,n){"use strict";function r(){window.localStorage.setItem("@seed/section",String(d))}function o(){window.localStorage.setItem("@seed/read",JSON.stringify(p))}function i(t){for(var e=0;e<a.length;e++)if(a[e]===t){f.setLatestChapter(s[e],!0);break}}var a=t(1),s=t(2),u=t(4),c=t(3).EventEmitter,l=s.reduce((function(t,e,n){return t[e]=a[n],t}),{}),f=e.exports=new c,h=window.localStorage.getItem("@seed/latestChapter"),d=window.localStorage.getItem("@seed/section"),p=JSON.parse(window.localStorage.getItem("@seed/read")||"{}"),v={titleInstructions:!!window.localStorage.getItem("@seed/titleInstructions"),plantSwipe:!!window.localStorage.getItem("@seed/plantSwipe"),plantTap:!!window.localStorage.getItem("@seed/plantTap")};d="string"!=typeof d?-1:Number(d),f.setMaxListeners(5*s.length),f.isAvailable=function(t){return d>=l[t]},f.latestSection=function(){return d},f.latestChapter=function(){return h},f.setLatestChapter=function(t){t!==h&&(window.localStorage.setItem("@seed/latestChapter",t||""),f.emit("latestChapter",h=t||!1))},f.hasRead=function(t){return!!p[t]},f.read=function(t){p[t]||(f.emit("read:"+t,p[t]=!0),o())},f.hasExplored=function(t){return v[t]},f.explore=function(t){v[t]||window.localStorage.setItem("@seed/"+t,v[t]=!0)},f.list=s,f.revert=function(t){return f.change(t,!0)},f.unlock=function(t){f.change(t,!1),i(t)},f.change=function(t,e){(e?d<=t:d>=t)||(f.emit("changeSection",d=t),r())},f.unlockAll=function(){return f.unlock(3)},f.revertAll=function(){f.revert(-1),f.setLatestChapter(!1,!0),window.localStorage.removeItem("@seed/read"),Object.keys(v).forEach((function(t){v[t]=!1,window.localStorage.removeItem("@seed/"+t)}))},r=u(r,!1),o=u(o,!1)}),{1:251,2:252,3:63,4:69}],228:[(function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a=(function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}})(),s=t(6)(window),u=t(7)(window,{filtered:!0,preventSimulated:!1}),c=t(4),l=t(3),f=t(2),h=t(5),d=t(1);e.exports=(function(t){function e(){return r(this,e),o(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return i(e,t),a(e,[{key:"init",value:function(t,e){var n=this;this.onTap=e&&e.onTap||function(){return!0},this.onZoomTap=e&&e.onZoomTap||function(){return!0},this.onInteraction=e&&e.onInteraction||function(){return!0},this.onMove=e&&e.onMove||function(){return!0},this._enabled=!0,this.node=t,this.zoomDir=0,this.zooming=!1,this.panning=!1,this.inertia=[0,0],this.px=0,this.py=0,this.pdx=0,this.pdy=0,this.touchStartTime=0,this.element=e.element||document.body,s.on("change",(function(t,e){n.checkInteraction(),n.zoomDir+=.005*(t-e),n.zooming=!0})),h((function(t,e){n.enabled&&(n.checkInteraction(),n.zoomDir-=.005*e)}));var r=[0,0],o=!1;window.addEventListener("mousemove",l((function(t){n.enabled&&(r[0]=t.x,r[1]=t.y,n.onMove(r,o))})),!1),u.on("start",(function(t,e){o=!0,n.inertia[0]=0,n.inertia[1]=0,n.pdx=0,n.pdy=0;var r=f(t.target,(function(t){return"CANVAS"===t.nodeName}));r&&(n.touchStartTime=Date.now(),n.element.style.cursor="-webkit-grabbing",n.element.style.cursor="-moz-grabbing",n.element.style.cursor="grabbing",n.panning=!0,n.px=e[0],n.py=e[1])})),u.on("move",(function(e,r){if(n.panning&&!n.zooming){e.preventDefault(),n.checkInteraction(),n.pdx=n.px-r[0],n.pdy=n.py-r[1],n.px=r[0],n.py=r[1];var o=n.pdx/t.data.zoom*d.CAMERA_MOVE_SPEED,i=n.pdy/t.data.zoom*d.CAMERA_MOVE_SPEED;n.move(o,i)}})),u.on("end",(function(e,r){if(o=!1,n.element.style.cursor=null,!n.zooming){n.inertia[0]=n.pdx/t.data.zoom,n.inertia[1]=n.pdy/t.data.zoom,n.checkInteraction();var i=Date.now()-n.touchStartTime,a=n.pdx*n.pdx+n.pdy*n.pdy,s=n.node.data.zoomTarget;a<d.CAMERA_TAP_SPEED_LIMIT&&i<d.CAMERA_TAP_DURATION_LIMIT&&(s>d.CAMERA_ZOOM_OUT_AMOUNT?n.onTap(r):n.onZoomTap(r),e.preventDefault())}n.panning=!1,n.zooming=!1}))}},{key:"checkInteraction",value:function(){this.onInteraction()}},{key:"step",value:function(){var t=this.inertia[0]*d.CAMERA_MOVE_SPEED,e=this.inertia[1]*d.CAMERA_MOVE_SPEED;this.move(t,e),this.inertia[0]*=d.CAMERA_INERTIA_FRICTION,this.inertia[1]*=d.CAMERA_INERTIA_FRICTION,this.zoomDir*=d.CAMERA_ZOOM_TRIGGER_FADE,this.zoomDir>+d.CAMERA_ZOOM_TOLERANCE?(this.node.data.zoomTarget=d.CAMERA_ZOOM_IN_AMOUNT,this.zoomDir=0):this.zoomDir<-d.CAMERA_ZOOM_TOLERANCE&&(this.node.data.zoomTarget=d.CAMERA_ZOOM_OUT_AMOUNT,this.zoomDir=0)}},{key:"move",value:function(t,e){var n=this.node.data.position;this.node.setPosition(Math.min(Math.max(-d.CAMERA_MOVE_LIMIT,n[0]+t),+d.CAMERA_MOVE_LIMIT),Math.min(Math.max(-d.CAMERA_MOVE_LIMIT,n[1]+e),+d.CAMERA_MOVE_LIMIT),n[2])}},{key:"enabled",get:function(){return this._enabled},set:function(t){this._enabled!==(t=!!t)&&(this._enabled=t,setTimeout((function(){t?(s.enable(),u.enable()):(s.disable(),u.disable())})))}}]),e})(c("@seed/slippy-map"))}),{1:2,2:66,3:69,4:115,5:137,6:185,7:186}],229:[(function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}for(var o=(function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}()),i=t(2),a=t(5),s=t(3),u=t(4),c=t(1),l=c.CAMERA_ZOOM_OUT_AMOUNT,f=c.CAMERA_ZOOM_IN_AMOUNT,h=c.SPORES_COUNT,d=f-l,p=new Float32Array(2*h),v=s().attr("seed",p,{dimensions:2}),g=0,m=0;g<p.length;)p[g++]=Math.random(),p[g++]=m++/(h-1);var y=t(6)("\n  #ifdef GL_FRAGMENT_PRECISION_HIGH\n    precision highp float;\n  #else\n    precision mediump float;\n#define GLSLIFY 1\n\n  #endif\n\n  attribute vec2 seed;\n\n  uniform float uTime;\n  uniform mat4 uProj, uView, uModel;\n  uniform float uPointScale;\n  uniform vec2 uRadii;\n  uniform vec4 uOrigin;\n  uniform float uOriginProgress;\n  uniform vec2 uResolution;\n  uniform float uAlpha;\n  varying float vAlpha;\n  varying float vMap;\n  varying float vGlow;\n\n  float exponentialOut(float t) {\n  return t == 1.0 ? t : 1.0 - pow(2.0, -10.0 * t);\n}\n\n  //\n// Description : Array and textureless GLSL 2D simplex noise function.\n//      Author : Ian McEwan, Ashima Arts.\n//  Maintainer : ijm\n//     Lastmod : 20110822 (ijm)\n//     License : Copyright (C) 2011 Ashima Arts. All rights reserved.\n//               Distributed under the MIT License. See LICENSE file.\n//               https://github.com/ashima/webgl-noise\n//\n\nvec3 mod289(vec3 x) {\n  return x - floor(x * (1.0 / 289.0)) * 289.0;\n}\n\nvec2 mod289(vec2 x) {\n  return x - floor(x * (1.0 / 289.0)) * 289.0;\n}\n\nvec3 permute(vec3 x) {\n  return mod289(((x*34.0)+1.0)*x);\n}\n\nfloat snoise(vec2 v)\n  {\n  const vec4 C = vec4(0.211324865405187,  // (3.0-sqrt(3.0))/6.0\n                      0.366025403784439,  // 0.5*(sqrt(3.0)-1.0)\n                     -0.577350269189626,  // -1.0 + 2.0 * C.x\n                      0.024390243902439); // 1.0 / 41.0\n// First corner\n  vec2 i  = floor(v + dot(v, C.yy) );\n  vec2 x0 = v -   i + dot(i, C.xx);\n\n// Other corners\n  vec2 i1;\n  //i1.x = step( x0.y, x0.x ); // x0.x > x0.y ? 1.0 : 0.0\n  //i1.y = 1.0 - i1.x;\n  i1 = (x0.x > x0.y) ? vec2(1.0, 0.0) : vec2(0.0, 1.0);\n  // x0 = x0 - 0.0 + 0.0 * C.xx ;\n  // x1 = x0 - i1 + 1.0 * C.xx ;\n  // x2 = x0 - 1.0 + 2.0 * C.xx ;\n  vec4 x12 = x0.xyxy + C.xxzz;\n  x12.xy -= i1;\n\n// Permutations\n  i = mod289(i); // Avoid truncation effects in permutation\n  vec3 p = permute( permute( i.y + vec3(0.0, i1.y, 1.0 ))\n    + i.x + vec3(0.0, i1.x, 1.0 ));\n\n  vec3 m = max(0.5 - vec3(dot(x0,x0), dot(x12.xy,x12.xy), dot(x12.zw,x12.zw)), 0.0);\n  m = m*m ;\n  m = m*m ;\n\n// Gradients: 41 points uniformly over a line, mapped onto a diamond.\n// The ring size 17*17 = 289 is close to a multiple of 41 (41*7 = 287)\n\n  vec3 x = 2.0 * fract(p * C.www) - 1.0;\n  vec3 h = abs(x) - 0.5;\n  vec3 ox = floor(x + 0.5);\n  vec3 a0 = x - ox;\n\n// Normalise gradients implicitly by scaling m\n// Approximation of: m *= inversesqrt( a0*a0 + h*h );\n  m *= 1.79284291400159 - 0.85373472095314 * ( a0*a0 + h*h );\n\n// Compute final noise value at P\n  vec3 g;\n  g.x  = a0.x  * x0.x  + h.x  * x0.y;\n  g.yz = a0.yz * x12.xz + h.yz * x12.yw;\n  return 130.0 * dot(m, g);\n}\n\n  highp float random(vec2 co)\n{\n    highp float a = 12.9898;\n    highp float b = 78.233;\n    highp float c = 43758.5453;\n    highp float dt= dot(co.xy ,vec2(a,b));\n    highp float sn= mod(dt,3.14);\n    return fract(sin(sn) * c);\n}\n\n  float range_0(float vmin, float vmax, float value) {\n  return (value - vmin) / (vmax - vmin);\n}\n\nvec2 range_0(vec2 vmin, vec2 vmax, vec2 value) {\n  return (value - vmin) / (vmax - vmin);\n}\n\nvec3 range_0(vec3 vmin, vec3 vmax, vec3 value) {\n  return (value - vmin) / (vmax - vmin);\n}\n\nvec4 range_0(vec4 vmin, vec4 vmax, vec4 value) {\n  return (value - vmin) / (vmax - vmin);\n}\n\n  #define PARTICLE_MODE 0\n  #define TWO_PI 6.28318530718\n\n  float transitionAmount(float t, float i) {\n    const float transitionRange = 0.1;\n    const float transitionStart = 0.5 - transitionRange;\n    const float transitionEnd = 0.5 + transitionRange;\n    return range_0(transitionStart, transitionEnd, t * 2.0 - i);\n  }\n\n  vec2 currentOrigin (vec2 curr, vec2 next, float t) {\n    return mix(curr, next, step(0.5, t));\n  }\n\n  float currentRadius (float curr, float next, float t) {\n    return mix(curr, next, step(0.5, t));\n  }\n\n  float transitionInOut(float t) {\n    const float fadeRate = 0.5;\n    t = t * 2.0 - 1.0;\n    t = t * fadeRate;\n    return min(1.0, abs(t));\n  }\n\n  void vert () {\n    vAlpha = mix(0.75, 2.0, random(vec2(seed.x, 8423.439)));\n    vMap = random(vec2(seed.x, 2423.943));\n\n    float t = transitionAmount(uOriginProgress, seed.y);\n    float scale = transitionInOut(t);\n    vec2 origin = currentOrigin(uOrigin.xy, uOrigin.zw, t);\n    float baseRadius = currentRadius(uRadii.x, uRadii.y, t);\n\n    float spread = pow(max(0.0, 1.0 - uAlpha), 1.1) * 0.425;\n    float range = random(vec2(seed.x, 92.849)) * 0.4;\n    float speed = random(vec2(seed.x, 84.324)) * 1.0;\n    float radius = baseRadius + snoise(vec2(seed.x * 12.0, uTime * 0.25 + 0.5)) * (range + spread);\n    float angle = mod(uTime * speed + seed.x * 19.58, TWO_PI);\n    vec2 offset = radius * vec2(cos(angle), sin(angle));\n\n    vec2 P = origin + offset;\n\n    vAlpha *= scale * uAlpha * 0.9;\n    vGlow = 1.0 - scale;\n\n    gl_PointSize = 0.9 * exponentialOut(scale) * uPointScale * mix(1.25, 3.5, random(vec2(seed.x, 102.43290)));\n    gl_Position = uProj * uView * uModel * vec4(P * 19.0, 0, 1);\n  }\n\n  void main () { vert(); }","\n  #ifdef GL_FRAGMENT_PRECISION_HIGH\n    precision highp float;\n  #else\n    precision mediump float;\n#define GLSLIFY 1\n\n  #endif\n\n  uniform float uTime;\n  uniform mat4 uProj, uView, uModel;\n  uniform float uPointScale;\n  uniform vec2 uRadii;\n  uniform vec4 uOrigin;\n  uniform float uOriginProgress;\n  uniform vec2 uResolution;\n  uniform float uAlpha;\n  varying float vAlpha;\n  varying float vMap;\n  varying float vGlow;\n\n  //\n// Description : Array and textureless GLSL 2D simplex noise function.\n//      Author : Ian McEwan, Ashima Arts.\n//  Maintainer : ijm\n//     Lastmod : 20110822 (ijm)\n//     License : Copyright (C) 2011 Ashima Arts. All rights reserved.\n//               Distributed under the MIT License. See LICENSE file.\n//               https://github.com/ashima/webgl-noise\n//\n\nhighp float random(vec2 co)\n{\n    highp float a = 12.9898;\n    highp float b = 78.233;\n    highp float c = 43758.5453;\n    highp float dt= dot(co.xy ,vec2(a,b));\n    highp float sn= mod(dt,3.14);\n    return fract(sin(sn) * c);\n}\n\n  #define PARTICLE_MODE 0\n  #define TWO_PI 6.28318530718\n\n  void frag () {\n    vec2 uv = gl_PointCoord.xy * 2.0 - 1.0;\n    float alpha = pow(max(0.0, 1.0 - length(uv)), 1.5) * vAlpha;\n    vec3 color = vec3(1.1, 0.85, 0.55);\n\n    color += vec3(0, mix(-0.05, 0.05, vMap), 0);\n    color += vGlow * vec3(1, 1, 1);\n\n    gl_FragColor = vec4(color, alpha);\n  }\n\nvoid main () { frag(); }");i.register(y);var b=new Float32Array(4),w=new Float32Array(2);e.exports=(function(){function t(e){var n=this;r(this,t),this.currPosition=[0,0],this.nextPosition=[0,0],this.currRadius=.75,this.nextRadius=.75,this.moveAmount=0,this.moving=!1,this.shouldDisplay=!1,this.alpha=0,this.ratio=Math.min(2,e.data.pixelRatio||1),this.start=Date.now(),this.node=u().use(a,{geometry:v,shader:y,zIndex:-1,primitive:0,uniforms:function(t,e,r){var o=t.canvas.height,i=t.canvas.width,a=Math.min(i,o)/n.ratio,s=n.scene.data.camera.data.zoom,u=(s-l)/d,c=.25+.75*u;c*=a/320,r.uResolution=[i,o],r.uTime=(Date.now()-n.start)/2e3,r.uPointScale=l+c*d,n.alpha+=.05*(n.shouldDisplay-n.alpha),r.uAlpha=n.alpha,n.moving&&(n.moveAmount+=n.alpha<.001?1:1/60/2.5),n.moveAmount>=1&&(n.currPosition[0]=n.nextPosition[0],n.currPosition[1]=n.nextPosition[1],n.currRadius=n.nextRadius,n.moveAmount=0,n.moving=!1),b[0]=n.currPosition[0],b[1]=n.currPosition[1],b[2]=n.nextPosition[0],b[3]=n.nextPosition[1],r.uOrigin=b,r.uOriginProgress=n.moveAmount,w[0]=n.currRadius,w[1]=n.nextRadius,r.uRadii=w}}),this.scene=e,this.scene.add(this.node)}return o(t,[{key:"target",value:function(t,e,n){this.moving=!0,this.moveAmount=0,this.nextPosition[0]=t,this.nextPosition[1]=e,this.nextRadius=n||.55}}]),t})()}),{1:2,2:240,3:116,4:120,5:125,6:127}],230:[(function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function a(t,e,n){var r=!0,o=new Float32Array(4*t.length*2),i=0;return t.forEach((function(t){var a=t.data,s=a.x+a.width,u=a.y+a.height,c=a.x/e,l=a.y/n,f=s/e,h=u/n;r&&(l=(n-a.y)/n,h=(n-u)/n),o[i++]=c,o[i++]=l,o[i++]=c,o[i++]=h,o[i++]=f,o[i++]=h,o[i++]=f,o[i++]=l})),o}function s(t){var e=new Float32Array(4*t.length*2),n=0;return t.forEach((function(t){var r=t.data,o=t.position[0]+r.xoffset,i=t.position[1]+r.yoffset,a=r.width,s=r.height;e[n++]=o,e[n++]=i,e[n++]=o,e[n++]=i+s,e[n++]=o+a,e[n++]=i+s,e[n++]=o+a,e[n++]=i})),e}var u=(function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}})(),c=t(4),l=t(1),f=t(2),h=t(5),d=t(3),p=t(6),v={};e.exports=(function(t){function e(){
return r(this,e),o(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return i(e,t),u(e,[{key:"init",value:function(t,e){this.node=t,this.layout=h({font:e.font.data,text:e.text,mode:"pre",align:e.align||"right",letterSpacing:e.letterSpacing||5}),this.node.setPosition(this.node.data.position[0]-this.layout.width/2*this.node.data.scale[0],this.node.data.position[1],this.node.data.position[2]);var n=e.font.image.src;this.texture=v[n]=v[n]||c.fromImage(e.font.image);var r=s(this.layout.glyphs),o=a(this.layout.glyphs,e.font.data.common.scaleW,e.font.data.common.scaleH),i=p({clockwise:!0,type:"uint16",count:this.layout.glyphs.length}),u=f(i).attr("position",r,{dimensions:2}).attr("uv",o,{dimensions:2}),l=t.component(d);l.geometry=u,l.textures={tFont:this.texture}}},{key:"preDraw",value:function(){if(this.texture.gl&&9728===this.texture.minFilter){var t=this.texture.gl;this.texture.bind(),this.texture.setFilters(t.LINEAR_MIPMAP_LINEAR,t.LINEAR),t.generateMipmap(t.TEXTURE_2D)}}}]),e})(l("@seed/text"))}),{1:115,2:116,3:125,4:128,5:129,6:150}],231:[(function(t,e,n){"use strict";function r(t){var e={};return function(n){n=n||{},n.sweep=+!!n.sweep,n.scrim="scrim"in n?+!!n.scrim:1;var r=[n.sweep?"1":"0",n.scrim?"1":"0"].join(":");return e[r]=e[r]||o.register(t.call(this,n))}}var o=t(1);e.exports=r((function(e){return t(2)("\n    #extension GL_OES_standard_derivatives : enable\n\n    precision mediump float;\n#define GLSLIFY 1\n\n\n    uniform float uThickness;\n    uniform mat4 uProj, uView, uModel;\n    uniform sampler2D tFont;\n    uniform float uAlpha;\n    uniform float uOpacity;\n    uniform vec3 uColor;\n    uniform float uScrim;\n    uniform float uFrame;\n\n    attribute vec2 position;\n    attribute vec2 uv;\n    varying vec2 vPos;\n    varying vec2 vUV;\n\n    #define USE_SHADOW 1\n    #define USE_STROKE 0\n    #define FADE_SWEEP "+e.sweep+"\n    #define USE_SCRIM "+e.scrim+"\n\n    //\n// Description : Array and textureless GLSL 2D simplex noise function.\n//      Author : Ian McEwan, Ashima Arts.\n//  Maintainer : ijm\n//     Lastmod : 20110822 (ijm)\n//     License : Copyright (C) 2011 Ashima Arts. All rights reserved.\n//               Distributed under the MIT License. See LICENSE file.\n//               https://github.com/ashima/webgl-noise\n//\n\nvoid vert () {\n      float display = max(0.0, sign(uAlpha - 0.0005));\n\n      vUV = uv;\n      vPos = position;\n      gl_Position = display * uProj * uView * uModel * vec4(position, 0, 1);\n    }\n\n    void main () { vert(); }","\n    #extension GL_OES_standard_derivatives : enable\n\n    precision mediump float;\n#define GLSLIFY 1\n\n\n    uniform float uThickness;\n    uniform mat4 uProj, uView, uModel;\n    uniform sampler2D tFont;\n    uniform float uAlpha;\n    uniform float uOpacity;\n    uniform vec3 uColor;\n    uniform float uScrim;\n    uniform float uFrame;\n\n    varying vec2 vPos;\n    varying vec2 vUV;\n\n    #define USE_SHADOW 1\n    #define USE_STROKE 0\n    #define FADE_SWEEP "+e.sweep+"\n    #define USE_SCRIM "+e.scrim+"\n\n    float aastep(float threshold, float value) {\n  #ifdef GL_OES_standard_derivatives\n    float afwidth = length(vec2(dFdx(value), dFdy(value))) * 0.70710678118654757;\n    return smoothstep(threshold-afwidth, threshold+afwidth, value);\n  #else\n    return step(threshold, value);\n  #endif  \n}\n\n    //\n// Description : Array and textureless GLSL 2D simplex noise function.\n//      Author : Ian McEwan, Ashima Arts.\n//  Maintainer : ijm\n//     Lastmod : 20110822 (ijm)\n//     License : Copyright (C) 2011 Ashima Arts. All rights reserved.\n//               Distributed under the MIT License. See LICENSE file.\n//               https://github.com/ashima/webgl-noise\n//\n\nvec3 mod289(vec3 x) {\n  return x - floor(x * (1.0 / 289.0)) * 289.0;\n}\n\nvec2 mod289(vec2 x) {\n  return x - floor(x * (1.0 / 289.0)) * 289.0;\n}\n\nvec3 permute(vec3 x) {\n  return mod289(((x*34.0)+1.0)*x);\n}\n\nfloat snoise(vec2 v)\n  {\n  const vec4 C = vec4(0.211324865405187,  // (3.0-sqrt(3.0))/6.0\n                      0.366025403784439,  // 0.5*(sqrt(3.0)-1.0)\n                     -0.577350269189626,  // -1.0 + 2.0 * C.x\n                      0.024390243902439); // 1.0 / 41.0\n// First corner\n  vec2 i  = floor(v + dot(v, C.yy) );\n  vec2 x0 = v -   i + dot(i, C.xx);\n\n// Other corners\n  vec2 i1;\n  //i1.x = step( x0.y, x0.x ); // x0.x > x0.y ? 1.0 : 0.0\n  //i1.y = 1.0 - i1.x;\n  i1 = (x0.x > x0.y) ? vec2(1.0, 0.0) : vec2(0.0, 1.0);\n  // x0 = x0 - 0.0 + 0.0 * C.xx ;\n  // x1 = x0 - i1 + 1.0 * C.xx ;\n  // x2 = x0 - 1.0 + 2.0 * C.xx ;\n  vec4 x12 = x0.xyxy + C.xxzz;\n  x12.xy -= i1;\n\n// Permutations\n  i = mod289(i); // Avoid truncation effects in permutation\n  vec3 p = permute( permute( i.y + vec3(0.0, i1.y, 1.0 ))\n    + i.x + vec3(0.0, i1.x, 1.0 ));\n\n  vec3 m = max(0.5 - vec3(dot(x0,x0), dot(x12.xy,x12.xy), dot(x12.zw,x12.zw)), 0.0);\n  m = m*m ;\n  m = m*m ;\n\n// Gradients: 41 points uniformly over a line, mapped onto a diamond.\n// The ring size 17*17 = 289 is close to a multiple of 41 (41*7 = 287)\n\n  vec3 x = 2.0 * fract(p * C.www) - 1.0;\n  vec3 h = abs(x) - 0.5;\n  vec3 ox = floor(x + 0.5);\n  vec3 a0 = x - ox;\n\n// Normalise gradients implicitly by scaling m\n// Approximation of: m *= inversesqrt( a0*a0 + h*h );\n  m *= 1.79284291400159 - 0.85373472095314 * ( a0*a0 + h*h );\n\n// Compute final noise value at P\n  vec3 g;\n  g.x  = a0.x  * x0.x  + h.x  * x0.y;\n  g.yz = a0.yz * x12.xz + h.yz * x12.yw;\n  return 130.0 * dot(m, g);\n}\n\n    void frag () {\n      float d = texture2D(tFont, vUV).a * 2.0 - 1.0;\n\n      if (uAlpha > 0.0) {\n        float seepSpeed = 1.5;\n        d -= (snoise(vUV * 5.0) * 0.5 + 0.5) * (1.0 - uAlpha) * seepSpeed;\n      } else {\n        d = -1.0;\n      }\n\n      float thickness = uThickness; // 0.115;\n      float fadeFraction = 3.0;\n      float solid = aastep(-thickness, d) * min(1.0, uAlpha * fadeFraction);\n      float opacity = solid * uOpacity;\n\n      #if FADE_SWEEP\n        float sweep = clamp((sin(vPos.x * 0.025 + uFrame * 0.065) + 1.2) * 0.5, 0.0, 1.0);\n        sweep = pow(sweep, 0.8);\n        opacity *= sweep;\n      #endif\n\n      vec4 inkColor = vec4(uColor / 255.0, clamp(opacity, 0.0, 1.0));\n\n      #if USE_SCRIM\n        #if USE_STROKE\n          float strokeThickness = 0.185 * uScrim;\n          float strokeAmount = aastep(-thickness - strokeThickness, d) * min(1.0, uAlpha * fadeFraction);\n          inkColor = vec4(mix(inkColor.rgb * 0.25, inkColor.rgb, inkColor.a), strokeAmount);\n        #endif\n        #if USE_SHADOW\n          vec4 shdColor = vec4(0, 0, 0, clamp(pow(max(0.0, min(0.0, d) + 1.0), 1.1) * 0.5, 0.0, 1.0));\n\n          shdColor.a *= uAlpha * 0.4;\n\n          inkColor = mix(inkColor, (\n            vec4(shdColor.rgb * shdColor.a, shdColor.a) +\n            vec4(inkColor.rgb * inkColor.a, inkColor.a)\n          ), uScrim);\n        #endif\n      #endif\n\n      gl_FragColor = inkColor;\n    }\n  \nvoid main () { frag(); }")}))}),{1:240,2:127}],232:[(function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function a(){var t=0;return d({scale:[.21,.00125,1],opacity:0}).use(l,{geometry:v,shader:p,uniforms:function(e,n,r){var o=+!n.parent.parent.data.joannaHidden;t+=.1*(o-t),r.uColor=h.CANVAS_TEXT_COLOR,r.uScale=n.data.opacity}}).use(g,{maxRadius:5})}var s=(function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}})(),u=t(3),c=t(2),l=t(6),f=t(4),h=t(1),d=t(5);e.exports=a;var p=t(7)("\n  #extension GL_OES_standard_derivatives : enable\n\n  precision mediump float;\n#define GLSLIFY 1\n\n\n  attribute vec2 position;\n\n  uniform mat4 uProj;\n  uniform mat4 uView;\n  uniform mat4 uModel;\n  uniform vec3 uColor;\n  uniform float uScale;\n\n  varying vec2 P, UV;\n\n  void vert() {\n    P = vec2(uScale, 1) * position;\n    UV = P * 0.5 + 0.5;\n\n    gl_Position = uProj * uView * uModel * vec4(P, 0, 1);\n  }\n\n  void main () { vert(); }","\n  #extension GL_OES_standard_derivatives : enable\n\n  precision mediump float;\n#define GLSLIFY 1\n\n\n  uniform mat4 uProj;\n  uniform mat4 uView;\n  uniform mat4 uModel;\n  uniform vec3 uColor;\n  uniform float uScale;\n\n  varying vec2 P, UV;\n\n  void frag() {\n    gl_FragColor = vec4(uColor / 255.0, smoothstep(0.35, 0.65, fract(UV.x * 40.0)) * uScale * 0.5);\n  }\n\nvoid main () { frag(); }");c.register(p);var v=f().attr("position",[[-1,-1],[1,1],[-1,1],[1,1],[-1,-1],[1,-1]]),g=(function(t){function e(){return r(this,e),o(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return i(e,t),s(e,[{key:"init",value:function(t,e){this.node=t,this.maxRadius=e.maxRadius||0,this.maxRadiusSquared=this.maxRadius*this.maxRadius}},{key:"preDraw",value:function(t){var e=this.node.parent.parent,n=this.node.data,r=t.eye[0],o=t.eye[1],i=r*r+o*o,a=+(!e.data.joannaHidden&&i<this.maxRadiusSquared);n.opacity+=.1*(a-n.opacity)}}]),e})(u("@seed/hide-out-of-view"))}),{1:2,2:240,3:115,4:116,5:120,6:125,7:127}],233:[(function(t,e,n){"use strict";var r=t(4),o=(t(5),t(2)),i=t(7),a=t(3),s=t(6),u=t(1);e.exports=function(t,e,n){var c={scale:.0016,position:[.005,.4125,0],opacity:0};for(var l in n)n.hasOwnProperty(l)&&(c[l]=n[l]);return s(c).use(i,{shader:r(n),zIndex:99999,uniforms:function(t,e,r){r.uThickness=.05,r.uAlpha=!o.hasExplored("titleInstructions")*e.data.opacity,r.uOpacity=n.sweep?1:.9*(.5*Math.sin(Date.now()/300)+.5)+.1,r.uColor=u.CANVAS_TEXT_COLOR,r.uScrim=e.data.scrim}}).use(a,{text:t,font:e})}}),{1:2,2:227,3:230,4:231,5:115,6:120,7:125}],234:[(function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function a(t,e){var n=d("Tap",e,{scrim:1}),r=d("Swipe",e,{scrim:0,sweep:1}),o=h("Joanna Walsh",t,n,r,.75,.005,2),i=h("Written By",e,n,r,.65,0,3),a=h("Acknowledgements",e,n,r,.5,.08,5),s=u(),c=m().add(o,i,a,s),l=.08,f=l+.075,v=f+.025,E=.185,x=o.data.position;o.setPosition(x[0]+E,l,x[2]);var A=i.data.position;i.setPosition(A[0]-E,l,A[2]);var S=a.data.position;a.setPosition(S[0],f,S[2]);var O=s.data.position;s.setPosition(O[0]-.005,v,O[2]);var C=1,T=m({scale:16,joannaHidden:!1,position:[0,-g.TITLE_CENTER_OFFSET,0],opacity:1}).use(p,{shader:b,geometry:y,textures:{tTitle:w},uniforms:function(t,e,n){C+=(e.data.opacity-C)*g.FLOWER_FADE_RATE,n.uOpacity=C}});return T.data.wrap=c,c.setPosition(0,.9,0),c.use(_,{maxRatio:1.45,minScale:1,maxScale:2.85,minPos:[0,.9,0],maxPos:[0,.95,0]}),T.add(n),T.add(r),T.add(c),T}var s=(function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}})(),u=t(5),c=t(12),l=t(2),f=t(7),h=t(3),d=(t(4),t(6)),p=t(10),v=t(8),g=t(1),m=t(9);e.exports=a;var y=v().attr("position",[-1,1,-1,-1,1,-1,1,-1,1,1,-1,1],{dimensions:2}),b=t(11)("\n  precision mediump float;\n#define GLSLIFY 1\n\n\n  attribute vec2 position;\n  uniform mat4 uProj, uView, uModel;\n  uniform sampler2D tTitle;\n  uniform float uOpacity;\n\n  varying vec2 uv;\n\n  void vert () {\n    uv = (position * vec2(1, 1)) * 0.5 + 0.5;\n    uv.y = 1.0 - uv.y;\n    gl_Position = uProj * uView * uModel * vec4(position, 0, 1);\n  }\n\n  void main () { vert(); }","\n  precision mediump float;\n#define GLSLIFY 1\n\n\n  uniform mat4 uProj, uView, uModel;\n  uniform sampler2D tTitle;\n  uniform float uOpacity;\n\n  varying vec2 uv;\n\n  void frag () {\n    gl_FragColor = texture2D(tTitle, uv) * vec4(1, 1, 1, uOpacity);\n  }\n\nvoid main () { frag(); }");l.register(b);var w=c.fromImage("/img/title.png");w.minFilter=9729,w.magFilter=9729;var _=(function(t){function e(){return r(this,e),o(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return i(e,t),s(e,[{key:"init",value:function(t,e){this.node=t,this.maxRatio=e.maxRatio,this.minScale=e.minScale,this.maxScale=e.maxScale,this.minPos=e.minPos,this.maxPos=e.maxPos}},{key:"preDraw",value:function(t){var e=t.height/t.width-1,n=Math.min(Math.max(0,e/this.maxRatio),1);this.node.setScale(this.minScale+(this.maxScale-this.minScale)*n),this.node.setPosition(this.minPos[0]+(this.maxPos[0]-this.minPos[0])*n,this.minPos[1]+(this.maxPos[1]-this.minPos[1])*n,this.minPos[2]+(this.maxPos[2]-this.minPos[2])*n)}}]),e})(f("@seed/aspect-ratio-scaler"))}),{1:2,10:125,11:127,12:128,2:240,3:224,4:227,5:232,6:233,7:115,8:116,9:120}],235:[(function(t,e,n){"use strict";function r(t,e,n){var r=e?e.data.section:-1;e&&e.data.selected&&(r=-1),n<i&&(r=-1);for(var o=0;o<t.length;o++)t[o].data.opacity=+(o===r)}var o=t(1),i=o.CAMERA_ZOOM_IN_AMOUNT+(o.CAMERA_ZOOM_OUT_AMOUNT-o.CAMERA_ZOOM_IN_AMOUNT)/2;e.exports=r}),{1:2}],236:[(function(t,e,n){"use strict";function r(t){var e=v++,n=t.color,r=a({position:t.position}).use(o,{geometry:p,shader:s,uniforms:function(t,r,o){o.uColor=n,o.uSeed=e}});return r.setEuler(0,0,t.direction),r}var o=t(3),i=t(1),a=t(2);e.exports=r;for(var s=t(4)("precision highp float;\n#define GLSLIFY 1\n\n  attribute vec2 segment;\n\n  uniform mat4 uProj, uView, uModel;\n  uniform vec3 uColor;\n  uniform float uSeed;\n  uniform float uFrame;\n\n  //\n// Description : Array and textureless GLSL 2D simplex noise function.\n//      Author : Ian McEwan, Ashima Arts.\n//  Maintainer : ijm\n//     Lastmod : 20110822 (ijm)\n//     License : Copyright (C) 2011 Ashima Arts. All rights reserved.\n//               Distributed under the MIT License. See LICENSE file.\n//               https://github.com/ashima/webgl-noise\n//\n\nvec3 mod289(vec3 x) {\n  return x - floor(x * (1.0 / 289.0)) * 289.0;\n}\n\nvec2 mod289(vec2 x) {\n  return x - floor(x * (1.0 / 289.0)) * 289.0;\n}\n\nvec3 permute(vec3 x) {\n  return mod289(((x*34.0)+1.0)*x);\n}\n\nfloat snoise(vec2 v)\n  {\n  const vec4 C = vec4(0.211324865405187,  // (3.0-sqrt(3.0))/6.0\n                      0.366025403784439,  // 0.5*(sqrt(3.0)-1.0)\n                     -0.577350269189626,  // -1.0 + 2.0 * C.x\n                      0.024390243902439); // 1.0 / 41.0\n// First corner\n  vec2 i  = floor(v + dot(v, C.yy) );\n  vec2 x0 = v -   i + dot(i, C.xx);\n\n// Other corners\n  vec2 i1;\n  //i1.x = step( x0.y, x0.x ); // x0.x > x0.y ? 1.0 : 0.0\n  //i1.y = 1.0 - i1.x;\n  i1 = (x0.x > x0.y) ? vec2(1.0, 0.0) : vec2(0.0, 1.0);\n  // x0 = x0 - 0.0 + 0.0 * C.xx ;\n  // x1 = x0 - i1 + 1.0 * C.xx ;\n  // x2 = x0 - 1.0 + 2.0 * C.xx ;\n  vec4 x12 = x0.xyxy + C.xxzz;\n  x12.xy -= i1;\n\n// Permutations\n  i = mod289(i); // Avoid truncation effects in permutation\n  vec3 p = permute( permute( i.y + vec3(0.0, i1.y, 1.0 ))\n    + i.x + vec3(0.0, i1.x, 1.0 ));\n\n  vec3 m = max(0.5 - vec3(dot(x0,x0), dot(x12.xy,x12.xy), dot(x12.zw,x12.zw)), 0.0);\n  m = m*m ;\n  m = m*m ;\n\n// Gradients: 41 points uniformly over a line, mapped onto a diamond.\n// The ring size 17*17 = 289 is close to a multiple of 41 (41*7 = 287)\n\n  vec3 x = 2.0 * fract(p * C.www) - 1.0;\n  vec3 h = abs(x) - 0.5;\n  vec3 ox = floor(x + 0.5);\n  vec3 a0 = x - ox;\n\n// Normalise gradients implicitly by scaling m\n// Approximation of: m *= inversesqrt( a0*a0 + h*h );\n  m *= 1.79284291400159 - 0.85373472095314 * ( a0*a0 + h*h );\n\n// Compute final noise value at P\n  vec3 g;\n  g.x  = a0.x  * x0.x  + h.x  * x0.y;\n  g.yz = a0.yz * x12.xz + h.yz * x12.yw;\n  return 130.0 * dot(m, g);\n}\n\n  const float PI = 3.14159265359;\n\n  vec2 getPos(float t) {\n    float amplitude = sin(t * PI);\n    float offset = snoise(vec2(t, uFrame * 0.0015));\n\n    return vec2(offset * amplitude * 0.2, t) * 25.0;\n  }\n\n  void vert () {\n    float progress = segment.x;\n    float side = segment.y * 2.0 - 1.0;\n    float width = 0.25 * (1.0 - progress);\n\n    vec2 p1 = getPos(progress - 0.001);\n    vec2 p2 = getPos(progress + 0.001);\n    vec2 nor = normalize((p1 - p2).yx * vec2(-1, 1) * side);\n    vec2 pos = getPos(progress) + nor * width;\n\n    gl_PointSize = 5.0;\n    gl_Position = uProj * uView * uModel * vec4(pos, 1, 1);\n  }\n\n  void main () { vert(); }","precision highp float;\n#define GLSLIFY 1\n\n  uniform mat4 uProj, uView, uModel;\n  uniform vec3 uColor;\n  uniform float uSeed;\n  uniform float uFrame;\n\n  //\n// Description : Array and textureless GLSL 2D simplex noise function.\n//      Author : Ian McEwan, Ashima Arts.\n//  Maintainer : ijm\n//     Lastmod : 20110822 (ijm)\n//     License : Copyright (C) 2011 Ashima Arts. All rights reserved.\n//               Distributed under the MIT License. See LICENSE file.\n//               https://github.com/ashima/webgl-noise\n//\n\nconst float PI = 3.14159265359;\n\n  void frag () {\n    gl_FragColor = vec4(uColor, 1);\n  }\n\nvoid main () { frag(); }"),u=50,c=new Float32Array(12*u),l=0,f=0;l<u;l++){var h=l/u,d=h+1/u;c[f++]=h,c[f++]=0,c[f++]=d,c[f++]=0,c[f++]=h,c[f++]=1,c[f++]=d,c[f++]=0,c[f++]=d,c[f++]=1,c[f++]=h,c[f++]=1}var p=i().attr("segment",c,{dimensions:2}),v=0}),{1:116,2:120,3:125,4:127}],237:[(function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function a(t,e,n,r){function o(t){var e=!(!h.isAvailable(u)||!h.isAvailable(a));i.data.available!==e&&(i.data.stagger=Math.floor(120*Math.random()*2)+200,i.data.available=e)}var i=(Math.random()*Math.PI*2,m({available:!!e.unlocked,progress:+e.unlocked,color:e.color,stagger:0,margin:1,enabled:!0,inBook:!1}).use(p,{shader:y,geometry:t,drawCount:e.count,drawStart:e.offset,uniforms:function(t,n,r){r.uMargin=n.data.margin*g.VINE_MARGIN/e.length,r.uProgress=n.data.progress*g.VINE_PROGRESS_MULTIPLIER,r.uColor=s(g.VINE_COLOR_MAP[e.color]||e.color),r.uExposure=g.VINE_EXPOSURE,r.uOpacity=g.VINE_OPACITY,r.uWidth=g.VINE_WIDTH,r.uFaded=!1}}).use(E,e)),a=c[e.source],u=c[e.target];return h.on("changeSection",o),i}function s(t){return Array.isArray(t)?t:(t.indexOf("#")||(t=t.slice(1)),[parseInt(t.slice(0,2),16),parseInt(t.slice(2,4),16),parseInt(t.slice(4,6),16)])}var u=(function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}})(),c=(t(2),t(3)),l=(t(6),t(4)),f=t(9),h=t(5),d=t(8),p=t(11),v=t(7),g=t(1),m=t(10);e.exports=a;var y=t(12)("\n  #extension GL_OES_standard_derivatives : enable\n\n  #ifdef GL_FRAGMENT_PRECISION_HIGH\n    precision highp float;\n  #else\n    precision mediump float;\n#define GLSLIFY 1\n\n  #endif\n\n  attribute vec4 position;\n  attribute vec2 normal;\n  uniform mat4 uProj, uView;\n  uniform vec3 uColor;\n  uniform float uWidth;\n  uniform float uProgress;\n  uniform float uExposure;\n  uniform float uMargin;\n  uniform float uFrame;\n  uniform float uOpacity;\n\n  varying vec2 vPos;\n  varying vec2 vNorm;\n  varying float vSide;\n  varying float vWidth;\n\n  #define VINE_GROWTH_END 5.0\n  #define VINE_GROWTH_START 10.0\n\n  //\n// Description : Array and textureless GLSL 2D simplex noise function.\n//      Author : Ian McEwan, Ashima Arts.\n//  Maintainer : ijm\n//     Lastmod : 20110822 (ijm)\n//     License : Copyright (C) 2011 Ashima Arts. All rights reserved.\n//               Distributed under the MIT License. See LICENSE file.\n//               https://github.com/ashima/webgl-noise\n//\n\n// Permutation polynomial: (34x^2 + x) mod 289\n  float cubicOut(float t) {\n  float f = t - 1.0;\n  return f * f * f + 1.0;\n}\n\n  void vert () {\n    float progress = position.w;\n    float shrink = 1.0;\n\n    // Grow the vine in and out as an animation\n    shrink *= clamp((uProgress * (1.0 + 1.0 / VINE_GROWTH_END) - progress) * VINE_GROWTH_END, 0.0, 1.0);\n    shrink *= clamp(progress * VINE_GROWTH_START, 0.0, 1.0);\n\n    // This ensures that we maintain a margin between the vine and target flower\n    // when zoomed out\n    shrink *= cubicOut(clamp(10.0 * (progress - uMargin), 0.0, 1.0));\n    shrink *= cubicOut(clamp(10.0 * (1.0 - uMargin - progress), 0.0, 1.0));\n\n    float width = shrink * uWidth;\n\n    float side = position.z * 2.0 - 1.0;\n    vec2 oPos = position.xy + side * normal.xy * width;\n\n    vPos = oPos.xy;\n\n    oPos += normal.xy * 0.375 * sin(progress * 15.0 + uFrame * 0.0075);\n\n    vNorm = normalize(normal * side);\n    vWidth = width;\n    vSide = side;\n\n    gl_Position = uProj * uView * vec4(oPos.xy, 1, 1);\n  }\n\n  void main () { vert(); }","\n  #extension GL_OES_standard_derivatives : enable\n\n  #ifdef GL_FRAGMENT_PRECISION_HIGH\n    precision highp float;\n  #else\n    precision mediump float;\n#define GLSLIFY 1\n\n  #endif\n\n  uniform mat4 uProj, uView;\n  uniform vec3 uColor;\n  uniform float uWidth;\n  uniform float uProgress;\n  uniform float uExposure;\n  uniform float uMargin;\n  uniform float uFrame;\n  uniform float uOpacity;\n\n  varying vec2 vPos;\n  varying vec2 vNorm;\n  varying float vSide;\n  varying float vWidth;\n\n  #define VINE_GROWTH_END 5.0\n  #define VINE_GROWTH_START 10.0\n\n  //\n// Description : Array and textureless GLSL 2D simplex noise function.\n//      Author : Ian McEwan, Ashima Arts.\n//  Maintainer : ijm\n//     Lastmod : 20110822 (ijm)\n//     License : Copyright (C) 2011 Ashima Arts. All rights reserved.\n//               Distributed under the MIT License. See LICENSE file.\n//               https://github.com/ashima/webgl-noise\n//\n\n// Permutation polynomial: (34x^2 + x) mod 289\n  vec3 permute_0(vec3 x) {\n    return mod((34.0 * x + 1.0) * x, 289.0);\n  }\n\nvec3 dist(vec3 x, vec3 y,  bool manhattanDistance) {\n  return manhattanDistance ?  abs(x) + abs(y) :  (x * x + y * y);\n}\n\n  vec2 worley(vec2 P, float jitter, bool manhattanDistance) {\n  float K= 0.142857142857; // 1/7\n  float Ko= 0.428571428571 ;// 3/7\n  \tvec2 Pi = mod(floor(P), 289.0);\n   \tvec2 Pf = fract(P);\n  \tvec3 oi = vec3(-1.0, 0.0, 1.0);\n  \tvec3 of = vec3(-0.5, 0.5, 1.5);\n  \tvec3 px = permute_0(Pi.x + oi);\n  \tvec3 p = permute_0(px.x + Pi.y + oi); // p11, p12, p13\n  \tvec3 ox = fract(p*K) - Ko;\n  \tvec3 oy = mod(floor(p*K),7.0)*K - Ko;\n  \tvec3 dx = Pf.x + 0.5 + jitter*ox;\n  \tvec3 dy = Pf.y - of + jitter*oy;\n  \tvec3 d1 = dist(dx,dy, manhattanDistance); // d11, d12 and d13, squared\n  \tp = permute_0(px.y + Pi.y + oi); // p21, p22, p23\n  \tox = fract(p*K) - Ko;\n  \toy = mod(floor(p*K),7.0)*K - Ko;\n  \tdx = Pf.x - 0.5 + jitter*ox;\n  \tdy = Pf.y - of + jitter*oy;\n  \tvec3 d2 = dist(dx,dy, manhattanDistance); // d21, d22 and d23, squared\n  \tp = permute_0(px.z + Pi.y + oi); // p31, p32, p33\n  \tox = fract(p*K) - Ko;\n  \toy = mod(floor(p*K),7.0)*K - Ko;\n  \tdx = Pf.x - 1.5 + jitter*ox;\n  \tdy = Pf.y - of + jitter*oy;\n  \tvec3 d3 = dist(dx,dy, manhattanDistance); // d31, d32 and d33, squared\n  \t// Sort out the two smallest distances (F1, F2)\n  \tvec3 d1a = min(d1, d2);\n  \td2 = max(d1, d2); // Swap to keep candidates for F2\n  \td2 = min(d2, d3); // neither F1 nor F2 are now in d3\n  \td1 = min(d1a, d2); // F1 is now in d1\n  \td2 = max(d1a, d2); // Swap to keep candidates for F2\n  \td1.xy = (d1.x < d1.y) ? d1.xy : d1.yx; // Swap if smaller\n  \td1.xz = (d1.x < d1.z) ? d1.xz : d1.zx; // F1 is in d1.x\n  \td1.yz = min(d1.yz, d2.yz); // F2 is now not in d2.yz\n  \td1.y = min(d1.y, d1.z); // nor in  d1.z\n  \td1.y = min(d1.y, d2.x); // F2 is in d1.y, we're done.\n  \treturn sqrt(d1.xy);\n  }\n\nfloat aastep(float threshold, float value) {\n  #ifdef GL_OES_standard_derivatives\n    float afwidth = length(vec2(dFdx(value), dFdy(value))) * 0.70710678118654757;\n    return smoothstep(threshold-afwidth, threshold+afwidth, value);\n  #else\n    return step(threshold, value);\n  #endif  \n}\n\nfloat smin(float a, float b, float k) {\n  float h = clamp(0.5 + 0.5 * (b - a) / k, 0.0, 1.0);\n  return mix(b, a, h) - k * h * (1.0 - h);\n}\n\nvec3 sketchedVine (\n  vec2 vPos_0,\n  vec2 vNorm_0,\n  float vWidth_0,\n  float vSide_0,\n  float dotResolution,\n  float seed,\n  vec3 uColor_0,\n  vec3 inkColor,\n  float uBorderWidth\n) {\n  float borderWidth = uBorderWidth;\n  float border = -(borderWidth - vWidth_0 + abs(vSide_0 * vWidth_0));\n  float shadow = clamp(0.05 + dot(vNorm_0, vec2(0, +1)), 0.0, 1.0);\n\n  shadow = pow(shadow, 0.5);\n  shadow = smin(\n    worley(seed + vPos_0 * dotResolution, 0.5, false).x - 0.3 * shadow,\n    worley(seed + vPos_0 * dotResolution + 50.5, 0.5, false).x - 0.3 * shadow,\n    0.2\n  );\n\n  float ink = 1.0 - aastep(0.0, smin(shadow, border, 0.2));\n  vec3 color = mix(uColor_0, inkColor, ink);\n\n  return color;\n}\n\nvec3 sketchedVine (\n  vec2 vPos_0,\n  vec2 vNorm_0,\n  float vWidth_0,\n  float vSide_0,\n  float dotResolution,\n  float seed,\n  vec3 uColor_0,\n  float uBorderWidth\n) {\n  return sketchedVine(vPos_0, vNorm_0, vWidth_0, vSide_0, dotResolution, seed, uColor_0, uColor_0 / 1.75, uBorderWidth);\n}\n\n  void frag () {\n    vec3 color = sketchedVine(vPos, vNorm, vWidth, vSide, 3.5, 0.0, uColor / 255.0 * uExposure, 0.1);\n\n    gl_FragColor = vec4(color, uOpacity);\n  }\n\nvoid main () { frag(); }"),b=t(12)("\n  precision mediump float;\n#define GLSLIFY 1\n\n\n  attribute vec4 position;\n  attribute vec2 normal;\n  uniform mat4 uProj, uView;\n  uniform vec3 uColor;\n  uniform float uWidth;\n  uniform float uFrame;\n  uniform float uProgress;\n  uniform float uExposure;\n  uniform float uMargin;\n  uniform float uOpacity;\n\n  #define VINE_GROWTH_END 5.0\n  #define VINE_GROWTH_START 10.0\n\n  float cubicOut(float t) {\n  float f = t - 1.0;\n  return f * f * f + 1.0;\n}\n\n  void vert () {\n    float progress = position.w;\n    float shrink = 1.0;\n\n    // Grow the vine in and out as an animation\n    shrink *= clamp((uProgress * (1.0 + 1.0 / VINE_GROWTH_END) - progress) * VINE_GROWTH_END, 0.0, 1.0);\n    shrink *= clamp(progress * VINE_GROWTH_START, 0.0, 1.0);\n\n    // This ensures that we maintain a margin between the vine and target flower\n    // when zoomed out\n    shrink *= cubicOut(clamp(10.0 * (progress - uMargin), 0.0, 1.0));\n    shrink *= cubicOut(clamp(10.0 * (1.0 - uMargin - progress), 0.0, 1.0));\n\n    float width = shrink * uWidth * 0.75;\n\n    float side = position.z * 2.0 - 1.0;\n    vec2 oPos = position.xy + side * normal.xy * width;\n\n    oPos += normal.xy * 0.375 * sin(progress * 15.0 + uFrame * 0.0075);\n\n    gl_Position = uProj * uView * vec4(oPos.xy, 1, 1);\n  }\n\n  void main () { vert(); }","\n  precision mediump float;\n#define GLSLIFY 1\n\n\n  uniform mat4 uProj, uView;\n  uniform vec3 uColor;\n  uniform float uWidth;\n  uniform float uFrame;\n  uniform float uProgress;\n  uniform float uExposure;\n  uniform float uMargin;\n  uniform float uOpacity;\n\n  #define VINE_GROWTH_END 5.0\n  #define VINE_GROWTH_START 10.0\n\n  void frag () {\n    vec3 color = uColor / 255.0 * uExposure;\n\n    gl_FragColor = vec4(color, uOpacity);\n  }\n\nvoid main () { frag(); }");l.register(y),l.register(b);var w=new Float32Array(16),_=-1,E=(function(t){function e(){return r(this,e),o(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return i(e,t),u(e,[{key:"init",value:function(t,e){this.node=t,this.progress=+e.unlocked,this.render=this.node.component(p),this.aabb=e.bounds,this.aabb[0][2]=this.aabb[0][2]||0,this.aabb[1][2]=this.aabb[1][2]||0}},{key:"preStep",value:function(){if(!this.root){for(var t=this.node.parent;t.parent;)t=t.parent;this.root=t}}},{key:"step",value:function(){var t=this.node.data,e=this.root.data.camera.data.zoom,n=e>g.CAMERA_ZOOM_OUT_AMOUNT+.5;this.render.shader=n?y:b,this.progress=+!!(t.enabled&&t.available&&!t.inBook&&t.stagger--<=0);var r=this.root.data.camera.data.zoomRange;r<.85?r=.85:r>1&&(r=1),this.node.data.margin=r}},{key:"preDraw",value:function(t){t.frame!==_&&(_=t.frame,d(w,t.proj,t.view)),this.node.data.progress+=.02*(this.progress-this.node.data.progress),this.node.data.visible=this.node.data.progress>.005&&v(w,this.aabb)}}]),e})(f("@seed/vine-static"))}),{1:2,10:120,11:125,12:127,2:251,3:252,4:240,5:227,6:236,7:22,8:79,9:115}],238:[(function(t,e,n){"use strict";function r(t){function e(t){a.load({google:{families:["Alegreya+Sans+SC:400,500","Crimson+Text:400,400i,700","Montserrat:400,700"]},active:t,inactive:t})}function n(t){var e=document.createElement("canvas"),n=e.getContext("webgl")||e.getContext("experimental-webgl");return n?(v.canvas=e,v.gl=n,void t()):t(new Error("error-missing-webgl"))}function r(t){var e=["/data/layout-positions.txt","/data/layout-normals.txt"];f(e,2,(function(t,e){h({uri:t,responseType:"arraybuffer"},(function(t,n,r){return e(t,new Float32Array(r))}))}),(function(e,n){return e?t(e):(v.vinePositions=n[0],v.vineNormals=n[1],void t())}))}function d(t){var e=["/img/spritesheet-bloom.png","/img/spritesheet.png","/img/wallpaper.jpg","/img/noise.png","/img/close-credits.svg","/img/close.svg","/img/done.svg","/img/title.png"];l.BOOK_THREAD_MARKERS&&e.push("marker-000000.svg","marker-0000FF.svg","marker-18BCF5.svg","marker-831CA5.svg","marker-107500.svg","marker-808080.svg","marker-FF0000.svg"),i(e,(function(e){t()}))}function p(t){var e=v.fonts={};f(["AlegreyaSansSC","CrimsonTextItalic","CrimsonText"],1/0,(function(t,n){var r="/img/"+t+".png",o="/fonts/"+t+".bin";s({uri:o,binary:!0},(function(o,i){return o?n(o):void c(r,(function(r,o){return r?n(r):(e[t]={data:i,image:o},void n())}))}))}),t)}var v={};u([o([e,n]),o([r,d,p])],(function(e){if(e&&console.trace(e),!e)return t(null,v);var n=document.querySelector(".loading"),r=document.getElementById(e.message);r&&(r.setAttribute("class","error-cover visible"),n.style.display="none")}))}function o(t){return function(e){var n=0;t.forEach((function(r){r((function(r){return r?(n=1/0,e(r)):++n===t.length?e():void 0}))}))}}var i=t(2),a=t(7),s=t(4),u=t(3),c=t(5),l=t(1),f=t(6),h=t(8);e.exports=r}),{1:2,2:12,3:13,4:130,5:132,6:134,7:195,8:198}],239:[(function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a=(function(){function t(t,e){for(var n=0;n<e.length;n++){
var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}})(),s=t(1).EventEmitter,u=t(4),c=t(3),l=t(2).default(),f=function(){},h=(function(t){function e(){r(this,e);var t=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return t.router=u(),t.anyHandlers=[],t.prevLeavers=[],t.historyLock=!1,l.listen((function(e){if(!t.historyLock){var n=t.getProps();t.emit("change",n)}})),t}return i(e,t),a(e,[{key:"add",value:function(t,e,n){var r=this.router.define(t);if(!e)throw new Error("Cannot specify route without a handler ("+router+")");r[0].handlers=r[0].handlers||[],r[0].handlers.push(e),r[0].leavers=r[0].leavers||[],r[0].leavers.push(n||f)}},{key:"view",value:function(t,e,n){var r;router.add(t,(function(t,o,i){r=r||new e,n&&Object.keys(n).forEach((function(e){t[e]=n[e]}))}),(function(t,e){r&&(r.dispose||console.error("You need a dispose function on your component"),r.dispose(),r=null)}))}},{key:"any",value:function(t){this.anyHandlers.push(t)}},{key:"go",value:function(t){l.push(t)}},{key:"redirect",value:function(t){setTimeout((function(){return router.update(t)}))}},{key:"update",value:function(t){l.replace(t)}},{key:"replace",value:function(t){this.historyLock=!0,l.replace(t),this.historyLock=!1}},{key:"getProps",value:function(){var t=l.location,e=c.parse(t.search.slice(1)),n={},r=this.router.match(t.pathname),o=r&&r.node.handlers;if(!o)return void console.error("Unknown route:",t.pathname);var i=r.param;try{for(var a=0;a<o.length;a++)o[a](n,i,e);if(this.prevLeavers)for(var s=this.prevLeavers,a=0;a<s.length;a++)s[a](n,i,e)}catch(t){console.warn("Error in routing!"),console.log(t.message,t.stack)}this.prevLeavers=r&&r.node.leavers;for(var a=0;a<this.anyHandlers.length;a++)this.anyHandlers[a](n,e);return n}}]),e})(s);e.exports=new h}),{1:63,2:100,3:153,4:159}],240:[(function(t,e,n){"use strict";function r(t){for(var e=0;e<i.length;e++)i[e].bind(t);return i}function o(t){return i.push(t),t}var i=[];n.register=o,n.bind=r}),{}],241:[(function(t,e,n){"use strict";var r=t(1);e.exports=function(t,e){function n(t){return r.go(e),t.preventDefault(),!1}return e=e||t.getAttribute("href"),t.addEventListener("touchstart",n),t.addEventListener("click",n),function(){t.removeEventListener("touchstart",n),t.removeEventListener("click",n)}}}),{1:239}],242:[(function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var o=(function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}})(),i=t(1),a=t(3),s=t(5),u=document.body,c="_2a16b1bc",l=["Emila Yang","Jennifer Nunez","Hugh Kennedy","Deborah Ho","Tim Paul","Jude Osborn","Jonathan Richards","T.L. Uglow","Simon Blanckensee","Annabel Blake"];e.exports=(function(){function e(){var t=this;r(this,e),this.close=i("credits ready"),this.element=u.appendChild(this.render()),setTimeout((function(){return t.element.classList.add("ready")}),50)}return o(e,[{key:"render",value:function(){return (function(){var e=t(2),n=document.createElement("div");n.setAttribute("class",arguments[1]);var r=document.createElement("div");r.setAttribute("class","wrap");var o=document.createElement("div");o.setAttribute("class","contents");var i=document.createElement("h1");e(i,["Written By"]);var a=document.createElement("ul"),s=document.createElement("li");e(s,["Joanna Walsh"]),e(a,["\n              ",s,"\n            "]);var u=document.createElement("h1");e(u,["Illustration By"]);var c=document.createElement("ul"),l=document.createElement("li");e(l,["Charlotte Hicks"]),e(c,["\n              ",l,"\n            "]);var f=document.createElement("h1");e(f,["Published By"]);var h=document.createElement("ul"),d=document.createElement("li");e(d,["Editions At Play"]),e(h,["\n              ",d,"\n            "]);var p=document.createElement("h1");e(p,["Creative Direction"]);var v=document.createElement("ul"),g=document.createElement("li");e(g,["Anna Gerber"]);var m=document.createElement("li");e(m,["Britt Iversen"]),e(v,["\n              ",g,"\n              ",m,"\n            "]);var y=document.createElement("h1");e(y,["Editorial Assistance"]);var b=document.createElement("ul"),w=document.createElement("li");e(w,["Kirstie Millar"]),e(b,["\n              ",w,"\n            "]);var _=document.createElement("h1");e(_,["Design & Development"]);var E=document.createElement("ul");return e(E,["\n              ",arguments[0],"\n            "]),e(o,["\n            ",i,"\n            ",a,"\n            ",u,"\n            ",c,"\n            ",f,"\n            ",h,"\n            ",p,"\n            ",v,"\n            ",y,"\n            ",b,"\n            ",_,"\n            ",E,"\n          "]),e(r,["\n          ",o,"\n        "]),e(n,["\n        ",arguments[2],"\n        ",r,"\n      "]),n})(a(l).map((function(e){return (function(){var e=t(2),n=document.createElement("li");return e(n,[arguments[0]]),n})(e)})),c,this.close)}},{key:"update",value:function(){return s.update(this.element,this.render()),this.element}},{key:"dispose",value:function(){if(this.element){var t=this.element;this.element.classList.remove("ready"),this.element=null,setTimeout((function(){t.parentNode&&t.parentNode.removeChild(t)}),500)}}}]),e})()}),{1:208,2:204,3:8,4:111,5:202}],243:[(function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var o=(function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}})(),i=t(3),a="_1d629a96",s=document.querySelector("main");e.exports=(function(){function e(){r(this,e),this.element=s.appendChild(this.render())}return o(e,[{key:"render",value:function(){return (function(){var e=t(1),n=document.createElement("div");n.setAttribute("class",arguments[0]);var r=document.createElement("h1");e(r,["KNOCK, KNOCK"]);var o=document.createElement("h3");e(o,["YOU DO NOT HAVE PERMISSION TO ACCESS THIS RESOURCE."]);var i=document.createElement("h5"),a=document.createElement("a");a.setAttribute("href","/");var s=document.createElement("span");e(s,["Go back"]),e(a,[s]),e(i,[a]);var u=document.createElement("img");return u.setAttribute("src","/img/eap/503.svg"),u.setAttribute("alt","image trinket"),u.setAttribute("class","footer-trinket"),e(n,["\n      ",r,"\n      ",o,"\n      ",i,"\n      ",u,"\n    "]),n})(a)}},{key:"update",value:function(){return i.update(this.element,this.render()),this.element}},{key:"dispose",value:function(){this.element&&(this.element.parentNode&&this.element.parentNode.removeChild(this.element),this.element=null)}}]),e})()}),{1:204,2:111,3:202}],244:[(function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var o=(function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}})(),i=t(3),a="_0e88217f",s=document.querySelector("main");e.exports=(function(){function e(){r(this,e),this.element=s.appendChild(this.render())}return o(e,[{key:"render",value:function(){return (function(){var e=t(1),n=document.createElement("div");n.setAttribute("class",arguments[0]);var r=document.createElement("h1");e(r,["ooops"]);var o=document.createElement("h3");e(o,["WE LOOKED EVERYWHERE AND COULDN'T FIND THAT PAGE."]);var i=document.createElement("h5"),a=document.createElement("a");a.setAttribute("href","/");var s=document.createElement("span");e(s,["Go back"]),e(a,[s]),e(i,[a]);var u=document.createElement("img");return u.setAttribute("src","/img/eap/404.svg"),u.setAttribute("alt","image trinket"),u.setAttribute("class","footer-trinket"),e(n,["\n      ",r,"\n      ",o,"\n      ",i,"\n      ",u,"\n    "]),n})(a)}},{key:"update",value:function(){return i.update(this.element,this.render()),this.element}},{key:"dispose",value:function(){this.element&&(this.element.parentNode&&this.element.parentNode.removeChild(this.element),this.element=null)}}]),e})()}),{1:204,2:111,3:202}],245:[(function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var o=(function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}})(),i=t(4),a=t(2),s="_888524bc",u=document.body;e.exports=function(){return new c};var c=(function(){function e(){r(this,e),this._enabled=!1,this.element=u.appendChild(this.render()),this.checkEnabled()}return o(e,[{key:"render",value:function(){return (function(){var e=t(1),n=document.createElement("div");n.setAttribute("class",arguments[1]);var r=document.createElement("div");r.setAttribute("class","center");var o=document.createElement("img");o.setAttribute("src","/img/eap/eap-logo-animated-1.gif"),o.setAttribute("alt",""),o.setAttribute("class","eap-logo");var i=document.createElement("h3");e(i,["THIS BOOK IS BEST EXPERIENCED ON YOUR MOBILE DEVICE."]);var a=document.createElement("h5"),s=document.createElement("a");s.onclick=arguments[0];var u=document.createElement("span");return e(u,["Continue on this device"]),e(s,["\n            ",u,"\n          "]),e(a,["\n          ",s,"\n        "]),e(r,["\n        ",o,"\n        ",i,"\n        ",a,"\n      "]),e(n,["\n\n      ",r,"\n    "]),n})(this.dismiss.bind(this),a(s,{visible:this.enabled}))}},{key:"update",value:function(){return i.update(this.element,this.render()),this.element}},{key:"dismiss",value:function(){window.localStorage.setItem("seenDesktopWarning",!0),this.enabled=!1}},{key:"checkEnabled",value:function(){this.enabled=!window.localStorage.getItem("seenDesktopWarning")}},{key:"enabled",get:function(){return this._enabled},set:function(t){this._enabled!==(t=!!t)&&(this._enabled=t,this.update())}}]),e})()}),{1:204,2:30,3:111,4:202}],246:[(function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var o=(function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}})(),i=t(4),a=(t(2),"_d877213b"),s=document.querySelector("main");e.exports=function(){return new u};var u=(function(){function e(){r(this,e),this.element=s.appendChild(this.render())}return o(e,[{key:"render",value:function(){return (function(){var e=t(1),n=document.createElement("div");n.setAttribute("class",arguments[0]);var r=document.createElement("h1");e(r,["UHOH"]);var o=document.createElement("h3");e(o,["This experimental book may not work on your device."]);var i=document.createElement("h3"),a=document.createElement("a");a.setAttribute("href","https://www.google.com/chrome/browser/desktop/"),e(a,["chrome"]);var s=document.createElement("a");return s.setAttribute("href","https://editionsatplay.withgoogle.com/#/detail/p_taCwAAQBAJ"),e(s,["list of compatible devices"]),e(i,["Check you're using the latest\n        ",a,"\n        browser or see a\n        ",s,"\n      "]),e(n,["\n      ",r,"\n      ",o,"\n      ",i,"\n    "]),n})(a)}},{key:"update",value:function(){return i.update(this.element,this.render()),this.element}}]),e})()}),{1:204,2:30,3:111,4:202}],247:[(function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var o=(function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}})(),i=t(3),a="_94e69f60",s=document.body;e.exports=(function(){function e(){r(this,e),this.element=s.appendChild(this.render()),console.log(this.element)}return o(e,[{key:"render",value:function(){return (function(){var e=t(1),n=document.createElement("div");n.setAttribute("class",arguments[0]);var r=document.createElement("h1");e(r,["UHOH"]);var o=document.createElement("h3");e(o,["IT LOOKS LIKE YOU'RE USING SAFARI'S PRIVATE BROWSING MODE. YOU'LL NEED TO SWITCH TO NON-PRIVATE MODE TO VIEW THIS BOOK."]);var i=document.createElement("h5"),a=document.createElement("a");a.setAttribute("href","https://editionsatplay.withgoogle.com");var s=document.createElement("span");return e(s,["EDITIONS AT PLAY"]),e(a,["\n          ",s,"\n        "]),e(i,["back to\n        ",a,"\n      "]),e(n,["\n      ",r,"\n      ",o,"\n      ",i,"\n    "]),n})(a)}},{key:"update",value:function(){return i.update(this.element,this.render()),this.element}},{key:"dispose",value:function(){this.element&&(this.element.parentNode&&this.element.parentNode.removeChild(this.element),this.element=null)}}]),e})()}),{1:204,2:111,3:202}],248:[(function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function a(t){var e=d.VINE_COLOR_MAP[t];return"#"+s((0|e[0]).toString(16))+s((0|e[1]).toString(16))+s((0|e[2]).toString(16))}function s(t){return 1===t.length?"0"+t:t}var u=(function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}})(),c=t(3),l=(t(2),t(4)),f=t(8).EventEmitter,h=t(7),d=t(1),p=t(5),v=t(10);e.exports=function(){return new y};var g="_fa3eb5ce",m=document.body,y=(function(e){function n(){r(this,n);var t=o(this,(n.__proto__||Object.getPrototypeOf(n)).call(this));return t._enabled=!1,t._filter=!1,t._uiHidden=!1,t.element=m.appendChild(t.render()),t.onSelect=t.onSelect.bind(t),t.onResize=t.onResize.bind(t),window.addEventListener("resize",t.onResize,!1),t}return i(n,e),u(n,[{key:"render",value:function(){var e=this,n=l.latestSection(),r=Object.keys(d.VINE_NAME_MAP),o=this.filter,i=(Math.min(window.innerHeight,d.SITE_MAX_HEIGHT)-80,this.filter?"background-color: "+a(this.filter):"");return (function(){var e=t(6),n=document.createElement("div");n.setAttribute("role","navigation"),n.setAttribute("class",arguments[10]);var r=document.createElement("div");r.setAttribute("role","menu"),r.setAttribute("class","panel-contents");var o=document.createElement("h1");e(o,["Select a story vine to read:"]);var i=document.createElement("p");i.setAttribute("ga-on","click"),i.setAttribute("ga-event-category","Filter Menu"),i.setAttribute("ga-event-action","Change Filter"),i.setAttribute("ga-event-label","All Vines"),i.onclick=arguments[1],i.setAttribute("role","menuitemradio"),i.setAttribute("class",arguments[2]);var a=document.createElement("span");a.setAttribute("style","background-color:"+arguments[0]),a.setAttribute("class","color-indicator");var s=document.createElement("span");s.setAttribute("style","border-color:#404041"),s.setAttribute("class","color-border"),e(a,["\n              ",s,"\n            "]),e(i,["\n            ",a,"\n            All Vines\n          "]);var u=document.createElement("ul");e(u,["\n            ",arguments[3],"\n          "]),e(r,["\n          ",o,"\n          ",i,"\n          ",u,"\n        "]);var c=document.createElement("div");c.setAttribute("ga-on","click"),c.setAttribute("ga-event-category","Filter Menu"),c.setAttribute("ga-event-action","Filter Button"),c.setAttribute("ga-event-label","Toggle"),c.onclick=arguments[9],c.setAttribute("class","ui-handle");var l=document.createElement("div");l.setAttribute("style",arguments[7]),l.setAttribute("class","main");var f=document.createElement("div");f.setAttribute("style",arguments[4]),f.setAttribute("class","inner-1");var h=document.createElement("div");h.setAttribute("style",arguments[5]),h.setAttribute("class","inner-2");var d=document.createElement("div");d.setAttribute("style",arguments[6]),d.setAttribute("class","inner-3"),e(l,["\n            ",f,"\n            ",h,"\n            ",d,"\n          "]);var p=document.createElement("div");return p.setAttribute("style",arguments[8]),p.setAttribute("class","close"),e(c,["\n          ",l,"\n          ",p,"\n        "]),e(n,["\n        ",r,"\n        ",c,"\n      "]),n})(o?"transparent":"#404041",this.onSelect(!1),o?"unavailable":"",r.map((function(r){var i=c[r]<=n,s=a(r),u=i?s:"rgba(88, 89, 91, 0.5)",l=i?s:"transparent";return (function(){var e=t(6),n=document.createElement("li");n.setAttribute("ga-on","click"),n.setAttribute("ga-event-category","Filter Menu"),n.setAttribute("ga-event-action","Change Filter"),n.setAttribute("ga-event-label",arguments[4]),n.onclick=arguments[5],n.setAttribute("role","menuitemradio"),n.setAttribute("class",arguments[6]);var r=document.createElement("span");r.setAttribute("style","background-color:"+arguments[1]),r.setAttribute("class","color-indicator");var o=document.createElement("span");o.setAttribute("style","border-color:"+arguments[0]),o.setAttribute("class","color-border"),e(r,["\n                    ",o,"\n                  "]);var i=document.createElement("span");return i.setAttribute("class",arguments[2]),e(i,[arguments[3]]),e(n,["\n                  ",r,"\n                  ",i,"\n                "]),n})(u,o&&o!==r?"transparent":l,o===r?"bolden":"",d.VINE_NAME_MAP[r],d.VINE_NAME_MAP[r]||r,i&&e.onSelect(r),i?"":"unavailable")})),i,i,i,i,i,this.togglePanel.bind(this),h(g,{enabled:this._enabled,"ui-hidden":this._uiHidden}))}},{key:"update",value:function(){return v.update(this.element,this.render()),this.element}},{key:"togglePanel",value:function(){this.enabled?p.go("/contents"):p.go("/choose-thread")}},{key:"onSelect",value:function(t){var e=this;return function(){e.filter=t}}},{key:"onResize",value:function(){this.enabled&&this.update()}},{key:"uiHidden",get:function(){return this._uiHidden},set:function(t){this._uiHidden!==(t=!!t)&&(this._uiHidden=t,this.update())}},{key:"enabled",get:function(){return this._enabled},set:function(t){this._enabled!==(t=!!t)&&(this._enabled=t,this.update())}},{key:"filter",get:function(){return this._filter},set:function(t){this._filter!==t&&(this._filter=t,this.update(),this.emit("filter",t))}}]),n})(f)}),{1:2,10:202,2:252,3:253,4:227,5:239,6:204,7:30,8:63,9:111}],249:[(function(t,e,n){"use strict";function r(t,e,n){t*=.5;var r=10*Math.random(),o=.2*(.7*t+.3),i=u({offset:0,innerColor:e||null,outerColor:n||null}).use(a,{shader:l,geometry:d,zIndex:9999+r+100*!!e,uniforms:function(t,e,n){n.uChapterSquash=e.parent.data.chapterSquash,n.uChapterWindow=e.parent.data.chapterWindow,n.uRatio=e.parent.data.ratio,n.uWidth=o,n.uSeed=r,n.uOffset=4*e.data.offset,n.utSimplexPow=c.VINE_SCRUB_SIMPLEX_POW,n.utSimplexAmp=c.VINE_SCRUB_SIMPLEX_AMP,n.utSimplexFreq=c.VINE_SCRUB_SIMPLEX_FREQ,n.utWorleyJitter=c.VINE_SCRUB_WORLEY_JITTER,n.utWorleyAmp=c.VINE_SCRUB_WORLEY_AMP,n.utWorleyPow=c.VINE_SCRUB_WORLEY_POW,n.utWorleyFreq=c.VINE_SCRUB_WORLEY_FREQ,n.utPageDistortPortion=c.VINE_SCRUB_PAGE_DISTORT_PORTION,n.utPageDistortAmplitude=c.VINE_SCRUB_PAGE_DISTORT_AMPLITUDE,n.utPageDistortSmoothness=c.VINE_SCRUB_PAGE_DISTORT_SMOOTHNESS,n.utInnerColor=e.data.innerColor||c.CANVAS_BACKGROUND_CHAPTER,n.utOuterColor=e.data.outerColor||c.BOOK_BODY_COLOR}});return i}function o(t){for(var e=6*t*2,n=new Float32Array(e),r=0,o=0;r<e;){var i=o/t,a=++o/t;n[r++]=+i,n[r++]=-1,n[r++]=+a,n[r++]=-1,n[r++]=+i,n[r++]=1,n[r++]=+i,n[r++]=1,n[r++]=+a,n[r++]=-1,n[r++]=+a,n[r++]=1}return n}function i(t){for(var e=6*t*4,n=new Float32Array(e),r=0,o=0;r<e;){var i=(2*Math.random()-1+o)/t,a=(2*Math.random()-1+o++)/t,s=.35+.65*Math.random();n[r++]=1,n[r++]=0,n[r++]=i,n[r++]=s,n[r++]=-1,n[r++]=0,n[r++]=i,n[r++]=s,n[r++]=0,n[r++]=1,n[r++]=i,n[r++]=s,n[r++]=1,n[r++]=0,n[r++]=-a,n[r++]=s,n[r++]=-1,n[r++]=0,n[r++]=-a,n[r++]=s,n[r++]=0,n[r++]=1,n[r++]=-a,n[r++]=s}return n}var a=(t(2),t(5)),s=t(3),u=t(4),c=t(1),l=t(6)("\n  #extension GL_OES_standard_derivatives : enable\n  #ifdef GL_FRAGMENT_PRECISION_HIGH\n    precision highp float;\n  #else\n    precision mediump float;\n#define GLSLIFY 1\n\n  #endif\n\n  uniform mat4 uProj, uView, uModel;\n  uniform float uWidth;\n  uniform float uFrame;\n  uniform float uSeed;\n  uniform float uOffset;\n  uniform float uRatio;\n\n  varying float vWidth;\n  varying float vSide;\n  varying vec2 vNorm;\n  varying vec2 vPos;\n  varying float vProgress;\n\n  uniform vec2 uChapterWindow;\n  uniform vec2 uChapterSquash;\n\n  uniform vec3 utInnerColor;\n  uniform vec3 utOuterColor;\n  uniform float utSimplexPow;\n  uniform float utSimplexAmp;\n  uniform float utSimplexFreq;\n  uniform float utWorleyFreq;\n  uniform float utWorleyPow;\n  uniform float utWorleyJitter;\n  uniform float utWorleyAmp;\n  uniform float utPageDistortPortion;\n  uniform float utPageDistortAmplitude;\n  uniform float utPageDistortSmoothness;\n\n  attribute vec2 base;\n\n  //\n// Description : Array and textureless GLSL 2D simplex noise function.\n//      Author : Ian McEwan, Ashima Arts.\n//  Maintainer : ijm\n//     Lastmod : 20110822 (ijm)\n//     License : Copyright (C) 2011 Ashima Arts. All rights reserved.\n//               Distributed under the MIT License. See LICENSE file.\n//               https://github.com/ashima/webgl-noise\n//\n\nvec3 mod289(vec3 x) {\n  return x - floor(x * (1.0 / 289.0)) * 289.0;\n}\n\nvec2 mod289(vec2 x) {\n  return x - floor(x * (1.0 / 289.0)) * 289.0;\n}\n\nvec3 permute_0(vec3 x) {\n  return mod289(((x*34.0)+1.0)*x);\n}\n\nfloat snoise(vec2 v)\n  {\n  const vec4 C = vec4(0.211324865405187,  // (3.0-sqrt(3.0))/6.0\n                      0.366025403784439,  // 0.5*(sqrt(3.0)-1.0)\n                     -0.577350269189626,  // -1.0 + 2.0 * C.x\n                      0.024390243902439); // 1.0 / 41.0\n// First corner\n  vec2 i  = floor(v + dot(v, C.yy) );\n  vec2 x0 = v -   i + dot(i, C.xx);\n\n// Other corners\n  vec2 i1;\n  //i1.x = step( x0.y, x0.x ); // x0.x > x0.y ? 1.0 : 0.0\n  //i1.y = 1.0 - i1.x;\n  i1 = (x0.x > x0.y) ? vec2(1.0, 0.0) : vec2(0.0, 1.0);\n  // x0 = x0 - 0.0 + 0.0 * C.xx ;\n  // x1 = x0 - i1 + 1.0 * C.xx ;\n  // x2 = x0 - 1.0 + 2.0 * C.xx ;\n  vec4 x12 = x0.xyxy + C.xxzz;\n  x12.xy -= i1;\n\n// Permutations\n  i = mod289(i); // Avoid truncation effects in permutation\n  vec3 p = permute_0( permute_0( i.y + vec3(0.0, i1.y, 1.0 ))\n    + i.x + vec3(0.0, i1.x, 1.0 ));\n\n  vec3 m = max(0.5 - vec3(dot(x0,x0), dot(x12.xy,x12.xy), dot(x12.zw,x12.zw)), 0.0);\n  m = m*m ;\n  m = m*m ;\n\n// Gradients: 41 points uniformly over a line, mapped onto a diamond.\n// The ring size 17*17 = 289 is close to a multiple of 41 (41*7 = 287)\n\n  vec3 x = 2.0 * fract(p * C.www) - 1.0;\n  vec3 h = abs(x) - 0.5;\n  vec3 ox = floor(x + 0.5);\n  vec3 a0 = x - ox;\n\n// Normalise gradients implicitly by scaling m\n// Approximation of: m *= inversesqrt( a0*a0 + h*h );\n  m *= 1.79284291400159 - 0.85373472095314 * ( a0*a0 + h*h );\n\n// Compute final noise value at P\n  vec3 g;\n  g.x  = a0.x  * x0.x  + h.x  * x0.y;\n  g.yz = a0.yz * x12.xz + h.yz * x12.yw;\n  return 130.0 * dot(m, g);\n}\n\n  // Permutation polynomial: (34x^2 + x) mod 289\n  vec3 permute_1(vec3 x) {\n    return mod((34.0 * x + 1.0) * x, 289.0);\n  }\n\nvec3 dist(vec3 x, vec3 y,  bool manhattanDistance) {\n  return manhattanDistance ?  abs(x) + abs(y) :  (x * x + y * y);\n}\n\n  vec2 worley(vec2 P, float jitter, bool manhattanDistance) {\n  float K= 0.142857142857; // 1/7\n  float Ko= 0.428571428571 ;// 3/7\n  \tvec2 Pi = mod(floor(P), 289.0);\n   \tvec2 Pf = fract(P);\n  \tvec3 oi = vec3(-1.0, 0.0, 1.0);\n  \tvec3 of = vec3(-0.5, 0.5, 1.5);\n  \tvec3 px = permute_1(Pi.x + oi);\n  \tvec3 p = permute_1(px.x + Pi.y + oi); // p11, p12, p13\n  \tvec3 ox = fract(p*K) - Ko;\n  \tvec3 oy = mod(floor(p*K),7.0)*K - Ko;\n  \tvec3 dx = Pf.x + 0.5 + jitter*ox;\n  \tvec3 dy = Pf.y - of + jitter*oy;\n  \tvec3 d1 = dist(dx,dy, manhattanDistance); // d11, d12 and d13, squared\n  \tp = permute_1(px.y + Pi.y + oi); // p21, p22, p23\n  \tox = fract(p*K) - Ko;\n  \toy = mod(floor(p*K),7.0)*K - Ko;\n  \tdx = Pf.x - 0.5 + jitter*ox;\n  \tdy = Pf.y - of + jitter*oy;\n  \tvec3 d2 = dist(dx,dy, manhattanDistance); // d21, d22 and d23, squared\n  \tp = permute_1(px.z + Pi.y + oi); // p31, p32, p33\n  \tox = fract(p*K) - Ko;\n  \toy = mod(floor(p*K),7.0)*K - Ko;\n  \tdx = Pf.x - 1.5 + jitter*ox;\n  \tdy = Pf.y - of + jitter*oy;\n  \tvec3 d3 = dist(dx,dy, manhattanDistance); // d31, d32 and d33, squared\n  \t// Sort out the two smallest distances (F1, F2)\n  \tvec3 d1a = min(d1, d2);\n  \td2 = max(d1, d2); // Swap to keep candidates for F2\n  \td2 = min(d2, d3); // neither F1 nor F2 are now in d3\n  \td1 = min(d1a, d2); // F1 is now in d1\n  \td2 = max(d1a, d2); // Swap to keep candidates for F2\n  \td1.xy = (d1.x < d1.y) ? d1.xy : d1.yx; // Swap if smaller\n  \td1.xz = (d1.x < d1.z) ? d1.xz : d1.zx; // F1 is in d1.x\n  \td1.yz = min(d1.yz, d2.yz); // F2 is now not in d2.yz\n  \td1.y = min(d1.y, d1.z); // nor in  d1.z\n  \td1.y = min(d1.y, d2.x); // F2 is in d1.y, we're done.\n  \treturn sqrt(d1.xy);\n  }\n\nfloat smin(float a, float b, float k) {\n  float h = clamp(0.5 + 0.5 * (b - a) / k, 0.0, 1.0);\n  return mix(b, a, h) - k * h * (1.0 - h);\n}\n\nfloat quadraticOut(float t) {\n  return -t * (t - 2.0);\n}\n\n  highp float random(vec2 co)\n{\n    highp float a = 12.9898;\n    highp float b = 78.233;\n    highp float c = 43758.5453;\n    highp float dt= dot(co.xy ,vec2(a,b));\n    highp float sn= mod(dt,3.14);\n    return fract(sin(sn) * c);\n}\n\n  float vineTransitionIn (float t, float window, float pad, float sharpness) {\n    return clamp((abs(t - window - 0.5 + pad) - 0.5) * sharpness, 0.0, 1.0);\n  }\n\n  float apow_0(float a, float b) {\n  return pow(abs(a), b) * sign(a);\n}\n\nvec2 getPosition (float t_0) {\n  // value for t normalized to screen aspect ratio\n  float Tn = (uRatio + 0.1) * (t_0 * 2.0 - 1.0);\n  float To = Tn + uOffset;\n\n  float y = worley(vec2(To * utWorleyFreq + uSeed), utWorleyJitter, false).y;\n\n  y = apow_0(y, utWorleyPow);\n  y = y * 2.0 - 1.0;\n  y *= utWorleyAmp;\n  y += apow_0(snoise(vec2(To * utSimplexFreq + uSeed, uSeed)), utSimplexPow) * utSimplexAmp;\n\n  float pageDistortPortion = utPageDistortPortion;\n  float pageDistortAmplitude = utPageDistortAmplitude;\n  float pageDistortSmoothness = utPageDistortSmoothness;\n  // Smooth equivalent of abs(Tn):\n  float pageDistortProgress = smin(Tn, -Tn, pageDistortSmoothness);\n  float pageDistort = -smin(0.0, -(1.0 + pageDistortProgress / pageDistortPortion), pageDistortSmoothness);\n  float pageDistortSide = floor(random(vec2(uSeed)) + 0.5) * 2.0 - 1.0;\n\n  y = mix(y, pageDistortSide, pageDistort * pageDistortAmplitude);\n\n  return vec2(Tn, y);\n}\n\n  vec2 getNormal (float t_1) {\n  #ifdef GL_FRAGMENT_PRECISION_HIGH\n    vec2 p1 = getPosition(t_1 - 0.005);\n    vec2 p2 = getPosition(t_1 + 0.005);\n  #else\n    vec2 p1 = getPosition(t_1 - 0.02);\n    vec2 p2 = getPosition(t_1 + 0.02);\n  #endif\n  vec2 d = p2 - p1;\n  return normalize(d.yx * vec2(-1, +1));\n}\n\n  void vert () {\n    float progress = 1.0;\n\n    float t = base.x;\n    float side = base.y;\n\n    float width = uWidth; // * pow(1.0 - t, 0.5) + apow(noise(vec2(t * 5.0)), 30.0) * 0.1;\n    vec2 position = getPosition(t);\n    vec2 normal = getNormal(t);\n\n    float stagger = (random(vec2(uSeed)) * 2.0 - 1.0) * 0.2;\n\n    width *= quadraticOut(vineTransitionIn(t, uChapterWindow.x, stagger, 3.0));\n    width *= quadraticOut(vineTransitionIn(t, uChapterWindow.y, stagger, 3.0));\n    width *= mix(step(0.25, t), 1.0, 1.0 - uChapterSquash.x);\n    width *= mix(step(t, 0.75), 1.0, 1.0 - uChapterSquash.y);\n\n    position += width * normal * side;\n\n    vProgress = t;\n    vSide = side;\n    vWidth = width;\n    vPos = vec2(uOffset * 1.0, 0) + base * vec2(1.4 * uRatio, vWidth);\n    vNorm = normal * side;\n\n    gl_Position = uProj * uView * uModel * vec4(position, 1, 1);\n  }\n\n  void main () { vert(); }","\n  #extension GL_OES_standard_derivatives : enable\n  #ifdef GL_FRAGMENT_PRECISION_HIGH\n    precision highp float;\n  #else\n    precision mediump float;\n#define GLSLIFY 1\n\n  #endif\n\n  uniform mat4 uProj, uView, uModel;\n  uniform float uWidth;\n  uniform float uFrame;\n  uniform float uSeed;\n  uniform float uOffset;\n  uniform float uRatio;\n\n  varying float vWidth;\n  varying float vSide;\n  varying vec2 vNorm;\n  varying vec2 vPos;\n  varying float vProgress;\n\n  uniform vec2 uChapterWindow;\n  uniform vec2 uChapterSquash;\n\n  uniform vec3 utInnerColor;\n  uniform vec3 utOuterColor;\n  uniform float utSimplexPow;\n  uniform float utSimplexAmp;\n  uniform float utSimplexFreq;\n  uniform float utWorleyFreq;\n  uniform float utWorleyPow;\n  uniform float utWorleyJitter;\n  uniform float utWorleyAmp;\n  uniform float utPageDistortPortion;\n  uniform float utPageDistortAmplitude;\n  uniform float utPageDistortSmoothness;\n\n  //\n// Description : Array and textureless GLSL 2D simplex noise function.\n//      Author : Ian McEwan, Ashima Arts.\n//  Maintainer : ijm\n//     Lastmod : 20110822 (ijm)\n//     License : Copyright (C) 2011 Ashima Arts. All rights reserved.\n//               Distributed under the MIT License. See LICENSE file.\n//               https://github.com/ashima/webgl-noise\n//\n\n// Permutation polynomial: (34x^2 + x) mod 289\n  vec3 permute_1(vec3 x) {\n    return mod((34.0 * x + 1.0) * x, 289.0);\n  }\n\nvec3 dist(vec3 x, vec3 y,  bool manhattanDistance) {\n  return manhattanDistance ?  abs(x) + abs(y) :  (x * x + y * y);\n}\n\n  vec2 worley(vec2 P, float jitter, bool manhattanDistance) {\n  float K= 0.142857142857; // 1/7\n  float Ko= 0.428571428571 ;// 3/7\n  \tvec2 Pi = mod(floor(P), 289.0);\n   \tvec2 Pf = fract(P);\n  \tvec3 oi = vec3(-1.0, 0.0, 1.0);\n  \tvec3 of = vec3(-0.5, 0.5, 1.5);\n  \tvec3 px = permute_1(Pi.x + oi);\n  \tvec3 p = permute_1(px.x + Pi.y + oi); // p11, p12, p13\n  \tvec3 ox = fract(p*K) - Ko;\n  \tvec3 oy = mod(floor(p*K),7.0)*K - Ko;\n  \tvec3 dx = Pf.x + 0.5 + jitter*ox;\n  \tvec3 dy = Pf.y - of + jitter*oy;\n  \tvec3 d1 = dist(dx,dy, manhattanDistance); // d11, d12 and d13, squared\n  \tp = permute_1(px.y + Pi.y + oi); // p21, p22, p23\n  \tox = fract(p*K) - Ko;\n  \toy = mod(floor(p*K),7.0)*K - Ko;\n  \tdx = Pf.x - 0.5 + jitter*ox;\n  \tdy = Pf.y - of + jitter*oy;\n  \tvec3 d2 = dist(dx,dy, manhattanDistance); // d21, d22 and d23, squared\n  \tp = permute_1(px.z + Pi.y + oi); // p31, p32, p33\n  \tox = fract(p*K) - Ko;\n  \toy = mod(floor(p*K),7.0)*K - Ko;\n  \tdx = Pf.x - 1.5 + jitter*ox;\n  \tdy = Pf.y - of + jitter*oy;\n  \tvec3 d3 = dist(dx,dy, manhattanDistance); // d31, d32 and d33, squared\n  \t// Sort out the two smallest distances (F1, F2)\n  \tvec3 d1a = min(d1, d2);\n  \td2 = max(d1, d2); // Swap to keep candidates for F2\n  \td2 = min(d2, d3); // neither F1 nor F2 are now in d3\n  \td1 = min(d1a, d2); // F1 is now in d1\n  \td2 = max(d1a, d2); // Swap to keep candidates for F2\n  \td1.xy = (d1.x < d1.y) ? d1.xy : d1.yx; // Swap if smaller\n  \td1.xz = (d1.x < d1.z) ? d1.xz : d1.zx; // F1 is in d1.x\n  \td1.yz = min(d1.yz, d2.yz); // F2 is now not in d2.yz\n  \td1.y = min(d1.y, d1.z); // nor in  d1.z\n  \td1.y = min(d1.y, d2.x); // F2 is in d1.y, we're done.\n  \treturn sqrt(d1.xy);\n  }\n\nfloat aastep(float threshold, float value) {\n  #ifdef GL_OES_standard_derivatives\n    float afwidth = length(vec2(dFdx(value), dFdy(value))) * 0.70710678118654757;\n    return smoothstep(threshold-afwidth, threshold+afwidth, value);\n  #else\n    return step(threshold, value);\n  #endif  \n}\n\nfloat smin(float a, float b, float k) {\n  float h = clamp(0.5 + 0.5 * (b - a) / k, 0.0, 1.0);\n  return mix(b, a, h) - k * h * (1.0 - h);\n}\n\nvec3 sketchedVine (\n  vec2 vPos_0,\n  vec2 vNorm_0,\n  float vWidth_0,\n  float vSide_0,\n  float dotResolution_0,\n  float seed,\n  vec3 uColor,\n  vec3 inkColor,\n  float uBorderWidth\n) {\n  float borderWidth = uBorderWidth;\n  float border = -(borderWidth - vWidth_0 + abs(vSide_0 * vWidth_0));\n  float shadow = clamp(0.05 + dot(vNorm_0, vec2(0, +1)), 0.0, 1.0);\n\n  shadow = pow(shadow, 0.5);\n  shadow = smin(\n    worley(seed + vPos_0 * dotResolution_0, 0.5, false).x - 0.3 * shadow,\n    worley(seed + vPos_0 * dotResolution_0 + 50.5, 0.5, false).x - 0.3 * shadow,\n    0.2\n  );\n\n  float ink = 1.0 - aastep(0.0, smin(shadow, border, 0.2));\n  vec3 color = mix(uColor, inkColor, ink);\n\n  return color;\n}\n\nhighp float random(vec2 co)\n{\n    highp float a = 12.9898;\n    highp float b = 78.233;\n    highp float c = 43758.5453;\n    highp float dt= dot(co.xy ,vec2(a,b));\n    highp float sn= mod(dt,3.14);\n    return fract(sin(sn) * c);\n}\n\n  void frag () {\n    float dotResolution = 15.;\n    vec3 vineColor = utInnerColor / 255.0; // vec3(0.64, 0.56, 0.46) * 1.15;\n    vec3 strokeColor = utOuterColor / 255.0;\n    vec3 color = sketchedVine(vPos, vNorm, vWidth, vSide, dotResolution, uSeed, vineColor, strokeColor, 0.05);\n\n    gl_FragColor = vec4(color, 1);\n  }\n\nvoid main () { frag(); }"),f=100,h=o(f),d=s().attr("base",h,{
dimensions:2});s().attr("base",i(15),{dimensions:4});e.exports=r}),{1:2,2:115,3:116,4:120,5:125,6:127}],250:[(function(t,e,n){e.exports=[["FF0000","107500","0000FF"],["FF0000","808080","000000","0000FF","107500"],["000000","107500","CB6D14","FF0000"],["808080","FF0000","107500","000000"],["0000FF","107500"],["000000","808080","FF0000"],["000000","808080","107500"],["0000FF","107500","FF0000"],["808080","000000"],["0000FF","000000","107500","FF0000"],["FF0000","107500","000000","808080"],["000000","0000FF","808080","107500"],["FF0000","107500"],["000000","808080"],["808080","FF0000"],["808080"],["000000"],["FF0000","0000FF","808080","107500","000000"],["808080","000000"],["000000","831CA5"],["808080"],["107500","0000FF","000000","FF0000"],["000000","107500","831CA5"],["107500","808080"],["808080","831CA5","000000"],["000000","FF0000","808080","107500"],["000000"],["000000","808080","107500"],["107500","FF0000","000000"],["FF0000","808080"],["808080","107500","FF0000","000000"],["000000","107500","FF0000"],["FF0000","000000"],["808080","0000FF","FF0000"],["FF0000","808080","107500"],["000000","107500","FF0000"],["831CA5","000000","107500","808080"],["000000","FF0000"],["107500","000000"],["107500","000000"],["000000","0000FF","107500","18BCF5","831CA5"],["831CA5","FF0000"],["0000FF","000000","831CA5"],["831CA5","18BCF5","FF0000","000000"],["0000FF","808080","107500","000000"],["831CA5","18BCF5","FF0000"],["0000FF"],["18BCF5","831CA5","000000"],["18BCF5","FF0000","831CA5","000000"],["000000","FF0000"],["FF0000","18BCF5","000000"],["000000","107500"],["107500","FF0000","000000"],["808080","000000"],["FF0000","831CA5","000000","18BCF5"],["0000FF","000000"],["000000","808080","FF0000"],["000000","107500"],["808080","0000FF","107500","000000"],["831CA5","107500","FF0000","000000"],["107500","000000","FF0000"],["808080","107500"],["808080","107500","FF0000"],["000000","831CA5","808080","FF0000"],["FF0000"],["000000","107500","808080","FF0000"],["808080","107500"],["FF0000"],["808080","107500","FF0000","831CA5"],["000000","107500","808080","FF0000"]]}),{}],251:[(function(t,e,n){e.exports=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,3,3,3,3,3,3,3,3]}),{}],252:[(function(t,e,n){e.exports=["opening","rosemary","sound","baby","green","stream","super","touch","art","fish","wait","blue","red","marigolds","sun","blue-moon","radio-midnight","garden","float","fear","swim","miss","alarm","drink","factory","feet","pool","lace","ants","gable","gran","mother","plums","party","stop","sacha","prion","old-girls","thunder","night-walk","railings","liven-up-your-classics","court","electric-blue-for-blondes","bus","heart","lift","undercover","change","cherry","makeup-the-7-deadly-sins","movie","snaps","hospital","remembrance","dirt","songs","web","rock","party0","rosemary-s-party","train-dream","type","key","country","veronica","thru","sentence","hamlet","end"]}),{}],253:[(function(t,e,n){e.exports={107500:0,808080:0,"000000":0,"0000FF":0,"18BCF5":2,"831CA5":1,CB6D14:0,FF0000:0}}),{}],254:[(function(t,e,n){e.exports=["Opening","Rosemary","Sound","Baby","Green","Stream","Super","Touch","Art","Fish","Wait!","Blue","Red ","Marigolds","Sun","Blue Moon","Radio Midnight","Garden","Float","Fear","Swim","Miss","Alarm","Drink","Factory","Feet","Pool","Lace","Ants","Gable","Gran",'"Mother"',"Plums","Party","Stop.","Sacha","Prion","Old Girls","Thunder","Night Walk","Railings","Liven up Your Classics!","Court","Electric Blue for Blondes!","Bus","Heart","Lift","Undercover","Change","Cherry","Makeup: the 7 Deadly Sins","Movie","Snaps","Hospital","Remembrance","Dirt","Songs ","Web","Rock","Party!","Rosemary's Party","Train Dream","Type","Key","Country","Veronica","Thru","Sentence","Hamlet","End"]}),{}],255:[(function(t,e,n){e.exports={chapterPositions:[[9.86,32.1175],[-20.445,54.1575],[19.865,79.6775],[41.76,6.5975],[49.59,40.0925],[27.115,-35.7425],[78.59,-53.2875],[71.34,-9.7875],[87,-106.3575],[53.215,-71.1225],[-20.01,-38.9325],[5.51,-90.8425],[-68.585,-7.6125],[-47.27,-65.7575],[-88.305,-39.0775],[-35.96,17.3275],[-60.03,62.4225],[-88.885,35.4525],[-38.28,86.0575],[-113.39,75.0375],[-74.385,104.0375],[-109.04,121.4375],[-12.615,115.7825],[44.95,106.0675],[22.33,145.5075],[68.295,68.2225],[112.085,84.6075],[87.29,33.8575],[116.87,11.5275],[108.75,-22.1125],[127.745,-61.4075],[131.66,-99.1075],[87,-131.8775],[31.9,-115.2025],[-43.21,-99.9775],[-88.305,-126.9475],[-119.77,-58.3625],[-88.885,-85.7675],[-111.94,5.2925],[-159.5,13.9925],[-140.65,46.9075],[-159.21,83.8825],[-153.41,132.3125],[-92.8,162.9075],[-49.01,140.2875],[64.09,156.0925],[90.045,117.2325],[138.765,128.1075],[167.475,79.5325],[127.165,49.5175],[164.72,-62.1325],[167.33,-110.7075],[136.445,-142.4625],[137.025,-15.2975],[61.915,-160.8775],[-23.345,-133.0375],[-129.195,-140.2875],[-184.005,-125.9325],[-152.25,-85.6225],[-69.165,-161.1675],[-198.65,-5.2925],[-141.23,-19.7925],[-181.83,-55.3175],[-179.8,167.8375],[-7.105,163.3425],[135.14,169.1425],[159.645,22.4025],[175.305,-168.4175],[9.86,-151.0175],[-150.655,-163.9225]],chapterGraph:[{color:"FF0000",source:1,target:0,id:0,length:59.31812197273244,bounds:[[-21.9865,28.2931],[9.8601,54.1575]],offset:0,count:258},{color:"FF0000",source:2,target:1,id:1,length:60.49643923828336,bounds:[[-20.4451,54.1574],[19.865,80.5534]],offset:258,count:216},{color:"FF0000",source:3,target:2,id:2,length:92.92139099571928,bounds:[[19.8649,7.4675],[42.05,80.5956]],offset:474,count:348},{color:"FF0000",source:5,target:3,id:3,length:57.80074807250119,bounds:[[22.9507,-35.8875],[42.1224,6.5976]],offset:822,count:204},{color:"FF0000",source:7,target:5,id:4,length:72.19900882155416,bounds:[[27.6949,-45.3627],[71.485,-9.9125]],offset:1026,count:216},{color:"FF0000",source:9,target:7,id:5,length:73.55957471783205,bounds:[[51.6571,-71.1226],[77.3571,-9.7875]],offset:1242,count:192},{color:"FF0000",source:10,target:9,id:6,length:121.20561938436926,bounds:[[-22.9835,-74.9334],[53.215,-38.9325]],offset:1434,count:426},{color:"FF0000",source:12,target:10,id:7,length:102.75919194393607,bounds:[[-69.165,-40.5813],[-20.3129,-5.3469]],offset:1860,count:426},{color:"FF0000",source:14,target:12,id:8,length:67.31295173928878,bounds:[[-88.8851,-48.3116],[-69.165,-7.6125]],offset:2286,count:222},{color:"FF0000",source:17,target:14,id:9,length:86.71994354985,bounds:[[-98.2704,-38.9325],[-84.151,35.3076]],offset:2508,count:252},{color:"FF0000",source:29,target:28,id:10,length:65.00780018020511,bounds:[[95.8954,-22.1125],[123.6957,11.6726]],offset:2760,count:258},{color:"FF0000",source:30,target:29,id:11,length:56.705556951514,bounds:[[105.2601,-61.2625],[127.7451,-22.1125]],offset:3018,count:186},{color:"FF0000",source:31,target:30,id:12,length:42.98989181081384,bounds:[[124.9296,-98.8176],[131.95,-61.4074]],offset:3204,count:144},{color:"FF0000",source:32,target:31,id:13,length:64.94857065072962,bounds:[[87,-133.4865],[131.0801,-99.2718]],offset:3348,count:180},{color:"FF0000",source:33,target:32,id:14,length:66.59646305540429,bounds:[[31.9,-132.8256],[87,-113.3858]],offset:3528,count:240},{color:"FF0000",source:34,target:33,id:15,length:100.9028549404221,bounds:[[-43.5915,-119.6293],[31.9,-84.819]],offset:3768,count:252},{color:"FF0000",source:35,target:34,id:16,length:67.26874800388137,bounds:[[-88.8851,-127.9092],[-43.21,-94.9983]],offset:4020,count:186},{color:"FF0000",source:43,target:41,id:17,length:123.31779809398243,bounds:[[-159.21,83.8824],[-92.6549,163.3426]],offset:4206,count:300},{color:"FF0000",source:45,target:43,id:18,length:179.5095689469901,bounds:[[-92.8,144.1276],[63.945,165.3744]],offset:4506,count:414},{color:"FF0000",source:54,target:52,id:19,length:87.27124698460466,bounds:[[61.7699,-163.1611],[136.445,-142.4625]],offset:4920,count:270},{color:"FF0000",source:56,target:54,id:20,length:318.5502999743099,bounds:[[-129.1951,-182.991],[62.06,-111.4818]],offset:5190,count:1170},{color:"FF0000",source:59,target:56,id:21,length:80.03260153899498,bounds:[[-129.1951,-167.1971],[-69.02,-135.3193]],offset:6360,count:228},{color:"FF0000",source:63,target:62,id:22,length:338.737020988131,bounds:[[-198.7911,-54.4476],[-132.2409,168.5625]],offset:6588,count:1032},{color:"FF0000",source:64,target:63,id:23,length:194.41223017354764,bounds:[[-179.2201,161.1067],[-7.395,190.7704]],offset:7620,count:384},{color:"FF0000",source:65,target:64,id:24,length:161.3776177328875,bounds:[[-7.54,162.8613],[134.85,190.9776]],offset:8004,count:318},{color:"FF0000",source:67,target:65,id:25,length:436.2700346895398,bounds:[[134.7049,-166.6639],[200.9219,174.0007]],offset:8322,count:1014},{color:"FF0000",source:69,target:68,id:26,length:186.2454824031155,bounds:[[-150.6551,-191.8306],[9.86,-151.0174]],offset:9336,count:366},{color:"FF0000",source:68,target:67,id:27,length:206.49406239353848,bounds:[[10.15,-192.3319],[174.58,-150.1474]],offset:9702,count:504},{color:"FF0000",source:60,target:59,id:28,length:290.83153726111686,bounds:[[-214.836,-160.8775],[-67.6974,-5.2924]],offset:10206,count:852},{color:"FF0000",source:21,target:17,id:29,length:107.78161800270891,bounds:[[-114.8876,35.3074],[-75.8341,121.4375]],offset:11058,count:264},{color:"FF0000",source:25,target:21,id:30,length:224.09804671105084,bounds:[[-109.62,66.623],[68.44,137.5071]],offset:11322,count:630},{color:"FF0000",source:28,target:25,id:31,length:108.17230159962573,bounds:[[67.0235,11.6725],[116.87,68.2226]],offset:11952,count:354},{color:"FF0000",source:37,target:35,id:32,length:63.86255578104871,bounds:[[-100.4846,-127.4732],[-80.0438,-85.7675]],offset:12306,count:258},{color:"FF0000",source:41,target:37,id:33,length:266.94176515710285,bounds:[[-161.4373,-91.1228],[-88.885,83.8826]],offset:12564,count:780},{color:"FF0000",source:48,target:45,id:34,length:158.89130160495205,bounds:[[63.9449,79.6774],[167.33,163.4383]],offset:13344,count:498},{color:"FF0000",source:49,target:48,id:35,length:66.90664899482819,bounds:[[125.0551,49.5175],[167.475,79.5325]],offset:13842,count:186},{color:"FF0000",source:50,target:49,id:36,length:164.77993126206647,bounds:[[122.098,-61.2625],[172.5807,49.5176]],offset:14028,count:486},{color:"FF0000",source:52,target:50,id:37,length:109.56033908174139,bounds:[[136.4449,-144.1842],[164.7201,-61.2625]],offset:14514,count:258},{color:"FF0000",source:62,target:60,id:38,length:64.99122440689959,bounds:[[-198.505,-54.4476],[-181.83,-5.1475]],offset:14772,count:174},{color:"0000FF",source:40,target:33,id:39,length:391.745547869115,bounds:[[-139.925,-119.9953],[31.9,47.1976]],offset:14946,count:1278},{color:"0000FF",source:1,target:0,id:40,length:52.83553386425982,bounds:[[-22.5328,31.4321],[10.005,54.1575]],offset:16224,count:186},{color:"0000FF",source:4,target:1,id:41,length:130.4083225900892,bounds:[[-25.3217,40.3049],[49.59,72.4398]],offset:16410,count:462},{color:"0000FF",source:7,target:4,id:42,length:81.76657327084516,bounds:[[49.59,-10.713],[71.4851,41.561]],offset:16872,count:300},{color:"0000FF",source:9,target:7,id:43,length:66.8500366687369,bounds:[[53.0575,-71.1226],[71.4851,-9.7875]],offset:17172,count:156},{color:"0000FF",source:11,target:9,id:44,length:81.7130936418028,bounds:[[5.51,-92.4085],[53.215,-70.4012]],offset:17328,count:330},{color:"0000FF",source:17,target:11,id:45,length:183.95477018496274,bounds:[[-89.0301,-90.8425],[5.5101,35.4525]],offset:17658,count:408},{color:"0000FF",source:21,target:17,id:46,length:98.47052239287491,bounds:[[-109.62,35.4524],[-85.2881,121.4375]],offset:18066,count:258},{color:"0000FF",source:33,target:21,id:47,length:536.0670722829373,bounds:[[-109.765,-115.0575],[106.3878,128.1447]],offset:18324,count:1560},{color:"0000FF",source:42,target:40,id:48,length:108.28564668252443,bounds:[[-156.7723,46.9074],[-126.1481,132.1676]],offset:19884,count:264},{color:"0000FF",source:44,target:42,id:49,length:125.11471400957967,bounds:[[-154.425,132.1131],[-49.01,151.9947]],offset:20148,count:366},{color:"0000FF",source:46,target:44,id:50,length:196.76643981664617,bounds:[[-49.0101,85.1638],[90.045,151.0077]],offset:20514,count:576},{color:"0000FF",source:58,target:55,id:51,length:165.0476834462779,bounds:[[-152.25,-133.5738],[-23.345,-78.1438]],offset:21090,count:468},{color:"0000FF",source:55,target:46,id:52,length:558.4106324329294,bounds:[[-23.3451,-171.1603],[189.5372,117.3775]],offset:21558,count:1326},{color:"808080",source:3,target:1,id:53,length:108.58069263492011,bounds:[[-20.8998,6.5975],[41.905,67.0703]],offset:22884,count:330},{color:"808080",source:5,target:3,id:54,length:48.538708145782515,bounds:[[27.2503,-35.8875],[41.905,6.4526]],offset:23214,count:132},{color:"808080",source:6,target:5,id:55,length:63.41268983890818,bounds:[[26.6799,-53.4325],[78.59,-35.7425]],offset:23346,count:168},{color:"808080",source:8,target:6,id:56,length:57.008196634365525,bounds:[[73.3447,-106.3575],[87.29,-53.4324]],offset:23514,count:102},{color:"808080",source:10,target:8,id:57,length:168.07726233968646,bounds:[[-20.3273,-111.9449],[87.29,-33.2901]],offset:23616,count:576},{color:"808080",source:11,target:10,id:58,length:79.92322269677713,bounds:[[-20.445,-90.8425],[10.0079,-38.9324]],offset:24192,count:246},{color:"808080",source:13,target:11,id:59,length:74.53645870885912,bounds:[[-47.415,-91.5502],[5.5101,-65.7574]],offset:24438,count:258},{color:"808080",source:14,target:13,id:60,length:106.27326543664496,bounds:[[-88.1127,-65.7575],[-43.0829,-30.1627]],offset:24696,count:372},{color:"808080",source:15,target:14,id:61,length:103.30128462686224,bounds:[[-89.1682,-38.9325],[-31.2994,17.4726]],offset:25068,count:342},{color:"808080",source:17,target:15,id:62,length:80.55702209030903,bounds:[[-88.8862,17.3274],[-35.96,44.4674]],offset:25410,count:276},{color:"808080",source:18,target:17,id:63,length:88.81284017938913,bounds:[[-95.4505,35.4524],[-38.2799,87.2531]],offset:25686,count:198},{color:"808080",source:20,target:18,id:64,length:71.20967684511238,bounds:[[-77.8003,85.3325],[-33.8715,104.0375]],offset:25884,count:270},{color:"808080",source:23,target:20,id:65,length:140.26472483362028,bounds:[[-73.6601,91.769],[44.95,114.5946]],offset:26154,count:390},{color:"808080",source:24,target:23,id:66,length:52.64552426822851,bounds:[[19.8723,106.0674],[44.9747,146.0875]],offset:26544,count:162},{color:"808080",source:25,target:24,id:67,length:117.355818075094,bounds:[[21.46,68.2224],[76.0065,148.9283]],offset:26706,count:294},{color:"808080",source:27,target:25,id:68,length:42.89148097755276,bounds:[[68.2949,33.8575],[87.29,68.2226]],offset:27e3,count:138},{color:"808080",source:29,target:27,id:69,length:69.3409635564511,bounds:[[85.6289,-22.1125],[108.75,33.8576]],offset:27138,count:258},{color:"808080",source:30,target:29,id:70,length:47.62928782320228,bounds:[[108.7499,-61.4075],[127.745,-22.2574]],offset:27396,count:144},{color:"808080",source:33,target:30,id:71,length:160.93487831402234,bounds:[[31.9,-122.1027],[127.6,-61.6974]],offset:27540,count:492},{color:"808080",source:34,target:33,id:72,length:81.02004715133403,bounds:[[-43.2101,-117.4192],[31.9,-100.1224]],offset:28032,count:186},{color:"808080",source:36,target:34,id:73,length:108.84738535268096,bounds:[[-119.0855,-99.9776],[-43.21,-57.2474]],offset:28218,count:324},{color:"808080",source:44,target:36,id:74,length:272.98046285453734,bounds:[[-128.6061,-58.3625],[-49.01,140.5513]],offset:28542,count:696},{color:"808080",source:53,target:44,id:75,length:378.4641807138546,bounds:[[-48.8651,-15.2976],[145.8713,161.0682]],offset:29238,count:942},{color:"808080",source:58,target:56,id:76,length:70.34776782046406,bounds:[[-157.1464,-139.1275],[-128.0424,-85.6225]],offset:30180,count:168},{color:"808080",source:56,target:53,id:77,length:441.8098116117057,bounds:[[-129.195,-155.3308],[153.0218,-14.8625]],offset:30348,count:1038},{color:"808080",source:61,target:58,id:78,length:77.10866301159028,bounds:[[-152.25,-85.7987],[-135.0549,-19.7925]],offset:31386,count:198},{color:"808080",source:62,target:61,id:79,length:81.16323792489483,bounds:[[-181.8301,-61.376],[-141.2299,-18.4797]],offset:31584,count:258},{color:"808080",source:63,target:62,id:80,length:267.17475721624453,bounds:[[-193.9626,-54.5926],[-170.3066,167.8375]],offset:31842,count:690},{color:"808080",source:65,target:63,id:81,length:429.8966745927062,bounds:[[-179.945,139.3611],[134.995,198.3662]],offset:32532,count:1410},{color:"808080",source:66,target:65,id:82,length:208.73902657425802,bounds:[[134.9949,22.4024],[194.2107,171.7947]],offset:33942,count:570},{color:"808080",source:69,target:68,id:83,length:212.09406849173905,bounds:[[-153.6366,-184.5848],[9.8601,-141.168]],offset:34512,count:534},{color:"808080",source:68,target:66,id:84,length:425.93328488830065,bounds:[[9.86,-186.435],[193.5013,22.8375]],offset:35046,count:1296},{color:"18BCF5",source:43,target:40,id:85,length:160.60305833251078,bounds:[[-148.3644,47.0524],[-92.655,163.3425]],offset:36342,count:528},{color:"18BCF5",source:45,target:43,id:86,length:186.41890213169327,bounds:[[-92.8,138.2301],[63.9451,169.1525]],offset:36870,count:474},{color:"18BCF5",source:47,target:45,id:87,length:94.98699080720513,bounds:[[64.0899,124.2217],[138.475,156.0925]],offset:37344,count:240},{color:"18BCF5",source:48,target:47,id:88,length:89.9618746860845,bounds:[[138.475,79.6774],[166.895,129.948]],offset:37584,count:306},{color:"18BCF5",source:54,target:50,id:89,length:182.97986923668813,bounds:[[61.9149,-161.1675],[165.4239,-62.1324]],offset:37890,count:456},{color:"18BCF5",source:50,target:48,id:90,length:179.3214884395883,bounds:[[155.6438,-62.1325],[190.0924,79.573]],offset:38346,count:450},{color:"107500",source:1,target:0,id:91,length:57.13745398179533,bounds:[[-25.8315,32.1175],[9.8601,54.3026]],offset:38796,count:270},{color:"107500",source:2,target:1,id:92,length:92.74147960794438,bounds:[[-21.6283,54.1574],[20.3123,93.4252]],offset:39066,count:366},{color:"107500",source:3,target:2,id:93,length:95.13859733786248,bounds:[[20.01,6.5975],[45.0101,80.4026]],offset:39432,count:366},{color:"107500",source:4,target:3,id:94,length:83.59830890457647,bounds:[[40.9777,-8.6645],[57.0076,40.5276]],offset:39798,count:276},{color:"107500",source:6,target:4,id:95,length:147.1772202767828,bounds:[[49.5899,-56.1003],[97.0502,44.1349]],offset:40074,count:498},{color:"107500",source:7,target:6,id:96,length:69.0794679536973,bounds:[[61.1485,-59.5985],[78.4451,-9.7875]],offset:40572,count:204},{color:"107500",source:9,target:7,id:97,length:86.4425200130624,bounds:[[49.3207,-71.1226],[71.63,-7.6916]],offset:40776,count:300},{color:"107500",source:10,target:9,id:98,length:119.63583517790974,bounds:[[-20.3001,-80.3084],[54.1898,-29.992]],offset:41076,count:414},{color:"107500",source:11,target:10,id:99,length:82.73232545233905,bounds:[[-26.1117,-90.8425],[10.8232,-38.7874]],offset:41490,count:282},{color:"107500",source:12,target:11,id:100,length:125.98435396226498,bounds:[[-69.02,-92.6776],[5.5101,-7.4675]],offset:41772,count:288},{color:"107500",source:17,target:12,id:101,length:72.67816872694445,bounds:[[-88.8851,-7.6125],[-69.02,35.4673]],offset:42060,count:246},{color:"107500",source:21,target:17,id:102,length:121.90224567744626,bounds:[[-112.0544,33.1446],[-81.9251,121.4375]],offset:42306,count:318},{color:"107500",source:22,target:21,id:103,length:128.03628596345072,bounds:[[-109.475,103.3179],[-12.6149,134.9073]],offset:42624,count:420},{color:"107500",source:23,target:22,id:104,length:67.43529082077589,bounds:[[-12.615,98.2325],[44.9501,118.5706]],offset:43044,count:174},{color:"107500",source:25,target:23,id:105,length:53.04787627440953,bounds:[[44.9499,68.2224],[68.2951,106.0675]],offset:43218,count:162},{color:"107500",source:27,target:25,id:106,length:46.93570222957062,bounds:[[68.2949,33.8575],[87.29,68.2226]],offset:43380,count:162},{color:"107500",source:28,target:27,id:107,length:77.27727450475018,bounds:[[78.4209,11.5274],[116.87,33.7125]],offset:43542,count:318},{color:"107500",source:30,target:28,id:108,length:83.81430848519007,bounds:[[111.75,-61.4075],[127.745,11.3825]],offset:43860,count:288},{color:"107500",source:31,target:30,id:109,length:48.91924251260518,bounds:[[126.3938,-99.5425],[140.6214,-61.4075]],offset:44148,count:186},{color:"107500",source:34,target:31,id:110,length:227.41627877343282,bounds:[[-43.2101,-112.1368],[132.6634,-80.8387]],offset:44334,count:690},{color:"107500",source:35,target:34,id:111,length:75.48648060289263,bounds:[[-88.8851,-137.4826],[-43.21,-99.9775]],offset:45024,count:228},{color:"107500",source:36,target:35,id:112,length:98.43542680917285,bounds:[[-125.3228,-126.9475],[-82.5079,-58.3625]],offset:45252,count:330},{color:"107500",source:38,target:36,id:113,length:73.0728027114127,bounds:[[-120.9301,-58.3625],[-100.9055,5.4375]],offset:45582,count:174},{color:"107500",source:39,target:38,id:114,length:57.52078800288182,bounds:[[-159.5,-1.1733],[-111.9399,13.9926]],offset:45756,count:186},{color:"107500",source:40,target:39,id:115,length:47.42191466016995,bounds:[[-163.8956,13.9925],[-139.9249,47.0526]],offset:45942,count:150},{color:"107500",source:44,target:40,id:116,length:196.55040101476627,bounds:[[-149.0623,47.0524],[-48.8649,145.9382]],offset:46092,count:636},{color:"107500",source:51,target:44,id:117,length:489.0940082268189,bounds:[[-49.4018,-110.7075],[170.1001,142.4557]],offset:46728,count:1092},{color:"107500",source:52,target:51,id:118,length:48.37980459954883,bounds:[[136.4449,-142.4625],[167.33,-110.7074]],offset:47820,count:120},{color:"107500",source:58,target:57,id:119,length:68.64645563330203,bounds:[[-190.4051,-125.9325],[-152.25,-85.7675]],offset:47940,count:204},{color:"107500",source:62,target:61,id:120,length:79.78336559576981,bounds:[[-181.8301,-61.1955],[-138.7418,-19.7925]],offset:48144,count:300},{color:"107500",source:66,target:65,id:121,length:214.91972786979142,bounds:[[134.9949,22.4024],[197.1835,177.301]],offset:48444,count:612},{color:"107500",source:68,target:66,id:122,length:393.7800293693859,bounds:[[9.86,-192.2437],[201.1994,22.5475]],offset:49056,count:708},{color:"107500",source:69,target:68,id:123,length:203.39708857884852,bounds:[[-150.8,-192.3768],[9.8601,-150.621]],offset:49764,count:450},{color:"107500",source:65,target:62,id:124,length:637.8929684171607,bounds:[[-216.1426,-56.6684],[134.7051,196.4011]],offset:50214,count:1500},{color:"107500",source:57,target:52,id:125,length:450.7075719153299,bounds:[[-184.302,-184.2136],[136.445,-113.4055]],offset:51714,count:1218},{color:"107500",source:59,target:58,id:126,length:131.63718925096242,bounds:[[-152.25,-163.4958],[-68.4399,-85.7675]],offset:52932,count:402},{color:"107500",source:60,target:59,id:127,length:294.07977390225483,bounds:[[-198.7951,-161.1675],[-68.4814,6.0199]],offset:53334,count:960},{color:"107500",source:61,target:60,id:128,length:84.59289702395765,bounds:[[-200.2752,-23.0796],[-141.1292,-5.2925]],offset:54294,count:282},{color:"000000",source:2,target:1,id:129,length:109.3702256199073,bounds:[[-24.5049,54.1574],[20.01,92.5752]],offset:54576,count:462},{color:"000000",source:3,target:2,id:130,length:90.00011969824217,bounds:[[15.9236,6.5975],[42.0777,80.2576]],offset:55038,count:342},{color:"000000",source:5,target:3,id:131,length:59.452489953948145,bounds:[[27.6949,-35.8875],[45.3713,8.6275]],offset:55380,count:270},{color:"000000",source:6,target:5,id:132,length:69.61618478335951,bounds:[[25.6409,-55.2236],[78.59,-35.8874]],offset:55650,count:252},{color:"000000",source:8,target:6,id:133,length:57.94752343468687,bounds:[[78.5899,-106.3575],[87.29,-53.4324]],offset:55902,count:150},{color:"000000",source:9,target:8,id:134,length:79.52204263766802,bounds:[[49.4416,-117.5433],[87.29,-71.2675]],offset:56052,count:330},{color:"000000",source:10,target:9,id:135,length:104.33640624256452,bounds:[[-20.7304,-71.1226],[53.215,-28.2663]],offset:56382,count:348},{color:"000000",source:11,target:10,id:136,length:86.56346186976887,bounds:[[-27.9733,-90.8425],[8.1776,-38.6425]],offset:56730,count:450},{color:"000000",source:13,target:11,id:137,length:78.86252969499164,bounds:[[-47.9327,-96.2622],[5.5101,-65.9025]],offset:57180,count:258},{color:"000000",source:16,target:13,id:138,length:153.7716197450381,bounds:[[-60.3201,-65.7575],[-40.0331,61.8425]],offset:57438,count:678},{color:"000000",source:17,target:16,id:139,length:43.28785319735121,bounds:[[-88.8851,35.4043],[-60.175,61.9702]],offset:58116,count:150},{color:"000000",source:18,target:17,id:140,length:124.23525984883976,bounds:[[-109.5186,29.5648],[-37.6999,86.6375]],offset:58266,count:372},{color:"000000",source:19,target:18,id:141,length:98.99519818494652,bounds:[[-113.39,67.0368],[-37.1479,99.3632]],offset:58638,count:264},{color:"000000",source:21,target:19,id:142,length:54.926787827192356,bounds:[[-118.8665,75.0375],[-109.475,121.2925]],offset:58902,count:192},{color:"000000",source:22,target:21,id:143,length:120.11432371648368,bounds:[[-109.6215,105.7546],[-12.615,132.4786]],offset:59094,count:468},{color:"000000",source:24,target:22,id:144,length:100.86006775647803,bounds:[[-12.615,95.8979],[23.6273,146.0876]],offset:59562,count:438},{color:"000000",source:25,target:24,id:145,length:115.6230292534916,bounds:[[21.46,68.2225],[70.4972,146.557]],offset:6e4,count:372},{color:"000000",source:26,target:25,id:146,length:67.6605180173828,bounds:[[68.1295,57.3584],[112.085,87.1306]],offset:60372,count:246},{color:"000000",source:27,target:26,id:147,length:73.02671584604244,bounds:[[87.2899,32.4378],[113.7309,84.4625]],offset:60618,count:228},{color:"000000",source:28,target:27,id:148,length:90.49866768270304,bounds:[[71.5247,11.3824],[116.8701,33.8575]],offset:60846,count:324},{color:"000000",source:30,target:28,id:149,length:116.56573455956874,bounds:[[86.3648,-61.4075],[127.745,11.3825]],offset:61170,count:414},{color:"000000",source:31,target:30,id:150,length:48.55515866489864,bounds:[[127.7405,-99.5425],[140.7769,-61.4074]],offset:61584,count:180},{color:"000000",source:32,target:31,id:151,length:64.2346245685974,bounds:[[87,-130.8625],[131.805,-98.2375]],offset:61764,count:174},{color:"000000",source:35,target:32,id:152,length:214.56765216618007,bounds:[[-88.8851,-140.9273],[87.0001,-116.3631]],offset:61938,count:672},{color:"000000",source:36,target:35,id:153,length:127.55051153147306,bounds:[[-119.7701,-126.9475],[-64.0936,-52.9998]],offset:62610,count:414},{color:"000000",source:37,target:36,id:154,length:54.50209687354581,bounds:[[-121.1061,-85.7676],[-88.1349,-58.5074]],offset:63024,count:180},{color:"000000",source:38,target:37,id:155,length:183.87935358533852,bounds:[[-144.4929,-106.736],[-87.3345,5.4375]],offset:63204,count:522},{color:"000000",source:39,target:38,id:156,length:67.16407722200647,bounds:[[-159.5278,2.8368],[-111.7369,17.2092]],offset:63726,count:234},{color:"000000",source:40,target:39,id:157,length:100.07516662425321,bounds:[[-161.2742,13.9925],[-117.0295,49.0906]],offset:63960,count:336},{color:"000000",source:47,target:44,id:158,length:239.58104186052776,bounds:[[-50.2353,126.0562],[138.62,163.7941]],offset:64296,count:750},{color:"000000",source:44,target:43,id:159,length:71.54997007129234,bounds:[[-92.8,140.2875],[-45.0897,171.5148]],offset:65046,count:252},{color:"000000",source:51,target:50,id:160,length:68.3998610937618,bounds:[[160.6445,-110.7075],[182.8839,-61.9875]],offset:65298,count:192},{color:"000000",source:52,target:51,id:161,length:71.605272425112,bounds:[[136.4449,-151.2989],[169.7476,-110.7075]],offset:65490,count:288},{color:"000000",source:65,target:63,id:162,length:381.44591958027075,bounds:[[-181.0711,154.52],[134.995,193.7895]],offset:65778,count:900},{color:"000000",source:66,target:65,id:163,length:226.80462350101357,bounds:[[134.9949,22.5475],[206.9138,171.0275]],offset:66678,count:648},{color:"000000",source:69,target:66,id:164,length:623.1480805741071,bounds:[[-157.9193,-198.14],[203.5474,22.3952]],offset:67326,count:1476},{color:"000000",source:57,target:56,id:165,length:124.24387237962557,bounds:[[-186.5384,-148.989],[-129.195,-115.5481]],offset:68802,count:402},{color:"000000",source:58,target:57,id:166,length:57.36324663937105,bounds:[[-185.7755,-125.9325],[-152.25,-85.6224]],offset:69204,count:150},{color:"000000",source:42,target:40,id:167,length:121.85014532850457,bounds:[[-160.3411,46.9074],[-128.7211,132.4575]],offset:69354,count:498},{color:"000000",source:43,target:42,id:168,length:97.5754032238834,bounds:[[-153.2651,132.6025],[-92.655,163.4875]],offset:69852,count:276},{color:"000000",source:48,target:47,id:169,length:71.47083029529901,bounds:[[138.6199,79.533],[167.33,129.4044]],offset:70128,count:192},{color:"000000",source:49,target:48,id:170,length:63.49074754726072,bounds:[[127.7449,49.5175],[169.8275,80.2576]],offset:70320,count:210},{color:"000000",source:50,target:49,id:171,length:147.35879308080655,bounds:[[124.6131,-62.1325],[168.7676,49.5176]],offset:70530,count:492},{color:"000000",source:53,target:52,id:172,length:162.34600890206,bounds:[[132.3884,-142.4626],[158.1949,-13.0473]],offset:71022,count:534},{color:"000000",source:54,target:53,id:173,length:260.7368504865581,bounds:[[61.9149,-174.047],[150.6686,-15.2974]],offset:71556,count:1008},{color:"000000",source:55,target:54,id:174,length:115.61925053381533,bounds:[[-23.3451,-171.6326],[61.77,-133.1824]],offset:72564,count:306},{color:"000000",source:56,target:55,id:175,length:170.90543021447206,bounds:[[-131.3779,-184.3521],[-23.345,-133.1824]],offset:72870,count:540},{color:"000000",source:59,target:58,id:176,length:148.1639584339437,bounds:[[-152.25,-172.5847],[-68.5294,-85.6225]],offset:73410,count:468},{color:"000000",source:60,target:59,id:177,length:278.96475660958856,bounds:[[-202.2938,-161.0225],[-68.8394,-5.2925]],offset:73878,count:1032},{color:"000000",source:63,target:60,id:178,length:202.40488014081524,bounds:[[-209.7759,-5.2926],[-174.423,167.9826]],offset:74910,count:546},{color:"831CA5",source:22,target:19,id:179,length:156.4760330897493,bounds:[[-113.684,59.7322],[-12.4699,127.3286]],offset:75456,count:546},{color:"831CA5",source:24,target:22,id:180,length:88.71052578081705,bounds:[[-13.1741,101.1953],[22.3301,147.9912]],offset:76002,count:294},{color:"831CA5",source:36,target:24,id:181,length:382.73267743427766,bounds:[[-119.7701,-58.3625],[32.9866,146.0875]],offset:76296,count:1206},{color:"831CA5",source:40,target:36,id:182,length:139.76970278682876,bounds:[[-146.3086,-61.5138],[-118.2415,47.0526]],offset:77502,count:396},{color:"831CA5",source:41,target:40,id:183,length:87.28847370731299,bounds:[[-166.5618,46.1388],[-124.4826,83.7375]],offset:77898,count:300},{color:"831CA5",source:43,target:42,id:184,length:81.31876594025745,bounds:[[-154.5113,132.3125],[-92.8,163.6111]],offset:78198,count:252},{color:"831CA5",source:42,target:41,id:185,length:72.998874078663,bounds:[[-166.5128,83.8155],[-146.4393,132.4576]],offset:78450,count:258},{color:"831CA5",source:45,target:43,id:186,length:197.2945306179681,bounds:[[-92.8,132.4282],[64.09,165.3084]],offset:78708,count:456},{color:"831CA5",source:47,target:45,id:187,length:102.6259265022769,bounds:[[64.0899,119.4368],[138.475,156.3241]],offset:79164,count:300},{color:"831CA5",source:48,target:47,id:188,length:92.2168469903635,bounds:[[138.475,79.5324],[169.9527,132.1822]],offset:79464,count:432},{color:"831CA5",source:59,target:54,id:189,length:228.11122434367974,bounds:[[-70.7211,-180.6722],[61.915,-113.1856]],offset:79896,count:516},{color:"831CA5",source:63,target:59,id:190,length:500.71257871268637,bounds:[[-203.4416,-160.2975],[-69.02,168.9975]],offset:80412,count:1458},{color:"831CA5",source:68,target:63,id:191,length:1065.8028058578122,bounds:[[-180.3124,-182.2754],[193.6495,191.1889]],offset:81870,count:3126},{color:"831CA5",source:49,target:48,id:192,length:70.07090869837792,bounds:[[124.8426,49.5175],[168.5653,79.5325]],offset:84996,count:288},{color:"831CA5",source:54,target:49,id:193,length:288.74795538717115,bounds:[[55.2021,-161.1675],[129.3471,49.6625]],offset:85284,count:798}]}}),{}],256:[(function(t,e,n){
e.exports={shape:[9,9],count:70}}),{}],257:[(function(t,e,n){"use strict";var r=t(3),o=t(1),i=t(2),a=t(5),s=t(4);e.exports=function(t,e){function n(t){for(var e='<!DOCTYPE html><html><body><img width="120" src="map.png"/>',n=0;n<c;n++){for(var o=String(n);o.length<3;)o="0"+o;t&&(o+="-"+t);var i="page-"+o+".png";e+='<img width="120" src="'+i+'"/>'}e+="</body></html>",r.writeFile(s.join("dump",(t||"all")+".html"),e,(function(t){if(t)throw t;window.close()}))}var u=!1,c=0;o.unlockAll(),e.add("/contents",(function(){return u=!0})),e.add("/test/page-screenshots",(function(t,r,o){function l(){if(u)return n(o.filter);for(var t=String(c++);t.length<3;)t="0"+t;o.filter&&(t+="-"+o.filter),i({filename:s.join("dump","page-"+t+".png")},(function(t){if(t)throw t;var e=a("keydown",{keyCode:32});window.dispatchEvent(e),setTimeout(l,125)}))}var f=o.filter?"?filter="+o.filter:"";i({filename:s.join("dump","map.png")},(function(t){if(t)throw t;setTimeout((function(){e.go("/chapter/opening"+f),setTimeout((function(){l()}),2500)}))}))}))}}),{1:227,2:49,3:24,4:148,5:181}]},{},[3]);
